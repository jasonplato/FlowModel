{"remainingRequest":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangxufei/Desktop/FlowModel/src/components/create/ToolsNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangxufei/Desktop/FlowModel/src/components/create/ToolsNavbar.vue","mtime":1652163070441},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgTW9kZWwgfSBmcm9tICIuLi8uLi9ncmFwaC9tb2RlbCI7CmltcG9ydCB7IGZsb29yIH0gZnJvbSAibWF0aGpzIjsKaW1wb3J0IHsgRGF0YVVyaSB9IGZyb20gIkBhbnR2L3g2IjsKaW1wb3J0IHsgc2V0U3RvcmUgfSBmcm9tICIuLi8uLi91dGlscy9zdG9yYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50U2ltdWxhdGlvbkRheXM6IG51bGwsCiAgICAgIGN1cnJlbnRTaW11bGF0aW9uU2xvdDogbnVsbCwKICAgICAgbW9kaWZ5RGlzYWJsZWQ6IHRydWUsCiAgICAgIGRpYWxvZ0xvZ0luVmlzaWJsZTogZmFsc2UsCiAgICAgIG5vd2FpdDogdHJ1ZSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoWwogICAgICAiWk9PTV9HUkFQSCIsCiAgICAgICJQT1NJVElPTklOR19HUkFQSCIsCiAgICAgICJVTkRPX0dSQVBIIiwKICAgICAgIlJFRE9fR1JBUEgiLAogICAgICAiTU9ESUZZX0NPTkZJR0RBVEEiLAogICAgICAiTE9BRF9DT05GSUdEQVRBIiwKICAgICAgIlNIT1dfVVBMT0FEX0RJQUxPRyIsCiAgICAgICJTRVRfTU9ERUwiLAogICAgICAiUkVNT1ZFX0NFTExTIiwKICAgICAgIkFQUEVORF9ISVNUT1JZX1NJTVVMQVRFX0RBVEEiLAogICAgICAiU0VUX0hJU1RPUllfU0lNVUxBVEVfREFUQSIsCiAgICAgICJTRVRfTk9OQ0UiLAogICAgXSksCiAgICBmb3JtYXRUb29sdGlwKHZhbCkgewogICAgICByZXR1cm4gdmFsIC8gMTAwOwogICAgfSwKICAgIC8qKgogICAg5L+u5pS55YWo5bGA6YWN572u5L+h5oGvCiAgICAgKi8KICAgIG1vZGlmeUNvbmZpZ0RhdGEoKSB7CiAgICAgIHNldFN0b3JlKCJjb25maWdfZGF0YSIsIHRoaXMuY29uZmlnRGF0YSk7CiAgICB9LAoKICAgIC8qKgogICAg5LiL6L295b2T5YmN5qih5Z6L5Li6anNvbuaWh+S7tgogICAgICovCiAgICBkb3dubG9hZEdyYXBoKCkgewogICAgICAvL+iOt+WPluaXtumXtOaIswogICAgICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICAgIC8v5bCG5YWo5bGA6YWN572u5L+h5oGv5ZKM55S75biD5pWw5o2u5bCB6KOF5oiQ5a+56LGhCiAgICAgIGxldCBtb2RlbERhdGEgPSB7CiAgICAgICAgbW9kZWw6IHsgY29uZmlnRGF0YTogdGhpcy5jb25maWdEYXRhLCBncmFwaDogdGhpcy5ncmFwaCB9LAogICAgICB9OwogICAgICBjb25zdCBmaWxlbmFtZSA9ICJNb2RlbCIgKyB0aW1lc3RhbXAgKyAiLmpzb24iOwogICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkobW9kZWxEYXRhLCB1bmRlZmluZWQsIDQpOwogICAgICBsZXQgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAidGV4dC9qc29uIiB9KSwKICAgICAgICBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICBhLmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICAgIGEuaHJlZiA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAvLyDmoIfnrb4gZGF0YS0g5bWM5YWl6Ieq5a6a5LmJ5bGe5oCnICDlsY/olL3lkI7kuZ/lj6/mraPluLjkuIvovb0KICAgICAgYS5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyJ0ZXh0L2pzb24iLCBhLmRvd25sb2FkLCBhLmhyZWZdLmpvaW4oIjoiKTsKICAgICAgLy8g5re75Yqg6byg5qCH5LqL5Lu2CiAgICAgIGxldCBldmVudCA9IG5ldyBNb3VzZUV2ZW50KCJjbGljayIsIHt9KTsKICAgICAgLy8g5ZCR5LiA5Liq5oyH5a6a55qE5LqL5Lu255uu5qCH5rS+5Y+R5LiA5Liq5LqL5Lu2CiAgICAgIGEuZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICB9LAogICAgLyoqCiAgICDkuIrkvKDlt7LmnInnmoTmqKHlnovvvIxqc29u5paH5Lu2CiAgICAgKi8KICAgIHVwbG9hZEdyYXBoKCkgewogICAgICB0aGlzLlNIT1dfVVBMT0FEX0RJQUxPRygpOwogICAgfSwKICAgIC8qCiAgICDlvIDlp4vmtYvnrpcKICAgICovCiAgICBhc3luYyBzdGFydFNpbXVsYXRpb24oKSB7CiAgICAgIC8vIOa1i+eul+W8gOWni++8jOW8gOWQryBsb2FkaW5nIOWbvuaghwogICAgICB0aGlzLm5vd2FpdCA9IGZhbHNlOwoKICAgICAgLy8g5qih5Z6L5Yid5qyh5rWL566X5pe2CiAgICAgIGlmICh0aGlzLm1vZGVsID09IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygKICAgICAgICAgICJzdGFydGluZyBzaW11bGF0aW9uLi4uIiwKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uRGF5cywKICAgICAgICAgICJkYXlzIiwKICAgICAgICAgICIgd2l0aCBjb250cm9sIHNsb3Q6IiwKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdCwKICAgICAgICAgICJkYXlzIgogICAgICAgICk7CiAgICAgICAgdmFyIG1vZGVsID0gbmV3IE1vZGVsKAogICAgICAgICAgdGhpcy5ncmFwaCwKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uRGF5cywKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdAogICAgICAgICk7CgogICAgICAgIHRoaXMuU0VUX01PREVMKG1vZGVsKTsKCiAgICAgICAgdGhpcy5BUFBFTkRfSElTVE9SWV9TSU1VTEFURV9EQVRBKHsKICAgICAgICAgIHR5cGU6IHRoaXMubm9uY2UsCiAgICAgICAgICBkYXRhOiB0aGlzLm1vZGVsLmRhdGEsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gVE9ETyBbRG9uZV0g5qih5Z6L5bey57uP5a2Y5Zyo5pe277yM5YW255u45YWz5Y+C5pWw6ZyA6KaB5qC55o2u55S75biD5LiK55qE5pyA5paw54q25oCB5p2l5pu05pawCiAgICAgICAgdGhpcy5tb2RlbC5zZWxmVXBkYXRlKAogICAgICAgICAgdGhpcy5ncmFwaCwKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uRGF5cywKICAgICAgICAgIHRoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdAogICAgICAgICk7CiAgICAgIH0KICAgICAgLy8g6K6+572uIG1vZGVsIOeahOeKtuaAgeS4uiAxIC0g5q2j5Zyo5rWL566X5LitCiAgICAgIHRoaXMubW9kZWwuc3RhdHVzID0gMTsKICAgICAgYXdhaXQgdGhpcy5tb2RlbC5zdGFydCgpOwoKICAgICAgLy8g5rWL566X57uI5q2i77yI5q2j5bi457uI5q2iIC8g5pqC5YGc57uI5q2i77yJ5pe25pu05paw5rWL566X5Y6G5Y+y5pWw5o2uCiAgICAgIHRoaXMuU0VUX0hJU1RPUllfU0lNVUxBVEVfREFUQSh0aGlzLm5vY25lLCB0aGlzLm1vZGVsLmRhdGEpOwoKICAgICAgaWYgKHRoaXMubW9kZWwuc3RhdHVzICE9IDIpIHsKICAgICAgICAvLyDlvZPmqKHlnovlpITkuo7pnZ4gUGF1c2Ug54q25oCB5pe2CiAgICAgICAgY29uc29sZS5sb2coInRoZSBzaW11bGF0aW9uIGlzIGVuZGVkIik7CiAgICAgIH0KCiAgICAgIC8vICDmtYvnrpfnu4jmraLvvIjmraPluLjnu4jmraIgLyDmmoLlgZznu4jmraLvvInvvIzlhbPpl60gbG9hZGluZyDlm77moIcKICAgICAgdGhpcy5ub3dhaXQgPSB0cnVlOwogICAgfSwKICAgIC8qCiAgICDmmoLlgZzmtYvnrpcKICAgICovCiAgICBwYXVzZVNpbXVsYXRpb24oKSB7CiAgICAgIC8vIFRPRE8g5aSE5LqO5pqC5YGc54q25oCB5Lit77yM55S75biD5LiK55qE5p+Q5Lqb5LiN5Y+v5pS555qE5Y+C5pWw5bqU6K+l572u5Li654Gw6Imy5oiW5LiN5Y+v6YCJKOS4jeWPr+aWsOW7uuOAgeWIoOmZpOiKgueCue+8m+S4jeWPr+abtOaUueeahOWPguaVsOWmgikKCiAgICAgIC8vIOa1i+eul+aaguWBnO+8jOWFs+mXrSBsb2FkaW5nIOWbvuaghwogICAgICB0aGlzLm5vd2FpdCA9IHRydWU7CgogICAgICBjb25zb2xlLmxvZygicGF1c2luZyBzaW11bGF0aW9uLi4uIik7CiAgICAgIGlmICh0aGlzLm1vZGVsID09IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygidGhlcmUncyBubyBtb2RlbCBydW5uaW5nISIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOS/ruaUueaooeWei+eahOeKtuaAgeS4uiAyIC0g5pqC5YGcCiAgICAgICAgdGhpcy5tb2RlbC5zdGF0dXMgPSAyOwogICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgIlRoZSBtb2RlbCBpcyBwYXVzZWQuICIsCiAgICAgICAgICAiWW91IGNhbiBvbmx5IGFkanVzdCBwYXJhbXMgb24gZXhpc3RpbmcgbW9kZWwuICIsCiAgICAgICAgICAiSWYgeW91IG5lZWQgdG8gYWRqdXN0IHRoZSBhcmNoaXRlY3R1cmUgb2YgbW9kZWwsIHBsZWFzZSBFTkQgY3VycmVudCBzaW11bGF0aW9uIGZpcnN0IgogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICAvKgogICAg57uT5p2f5b2T5YmN5rWL566XCiAgICAqLwogICAgZW5kU2ltdWxhdGlvbigpIHsKICAgICAgLy8g5rWL566X5pqC5YGc77yM5YWz6ZetIGxvYWRpbmcg5Zu+5qCHCiAgICAgIHRoaXMubm93YWl0ID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coImVuZGluZyBzaW11bGF0aW9uLi4uIik7CiAgICAgIC8vIOS/ruaUueaooeWei+eahOeKtuaAgeS4uiAwIC0g5YGc5q2iCiAgICAgIHRoaXMubW9kZWwuc3RhdHVzID0gMDsKICAgICAgLy8g5bCG5b2T5YmN5qih5Z6L572u5Li6IG51bGwKICAgICAgdGhpcy5TRVRfTU9ERUwobnVsbCk7CiAgICAgIGNvbnNvbGUubG9nKCJ0aGUgc2ltdWxhdGlvbiBpcyBlbmRlZCIpOwogICAgICAvLyDlvZPliY3mtYvnrpfnu5PmnZ/lkI7vvIzlsIborrDlvZXljoblj7LmlbDmja7mrKHmlbDnmoQgbm9uY2Ug5YC85aKe5YqgIDEKICAgICAgdGhpcy5TRVRfTk9OQ0UodGhpcy5ub25jZSArIDEpOwogICAgfSwKICAgIC8qKgogICAgICog5LiL6L295qih5Z6L5Zu+54mHCiAgICAgKi8KICAgIHNhdmVHcmFwaFRvUE5HKCkgewogICAgICB0aGlzLmdyYXBoLnRvUE5HKAogICAgICAgIChkYXRhVXJpKSA9PiB7CiAgICAgICAgICAvLyDkuIvovb0KICAgICAgICAgIERhdGFVcmkuZG93bmxvYWREYXRhVXJpKGRhdGFVcmksICJjaGFydC5wbmciKTsKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHBhZGRpbmc6IHsKICAgICAgICAgICAgdG9wOiAyMCwKICAgICAgICAgICAgcmlnaHQ6IDIwLAogICAgICAgICAgICBib3R0b206IDIwLAogICAgICAgICAgICBsZWZ0OiAyMCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIC8qKgogICAgICog6I635Y+W5qih5Z6L5rWL566X6L+b6KGM5Lit55qE5pe26Ze0CiAgICAgKi8KICAgIGdldE1vZGVsVGltZSgpIHsKICAgICAgaWYgKHRoaXMubW9kZWwgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmN1ckRheTsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyJjb25maWdEYXRhIiwgImdyYXBoIiwgIm1vZGVsIiwgIm5vbmNlIl0pLAogIH0sCiAgbW91bnRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["ToolsNavbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ToolsNavbar.vue","sourceRoot":"src/components/create","sourcesContent":["<template >\n  <div class=\"top-container\">\n    <div class=\"top\">\n      <!-- 工具栏 -->\n      <div class=\"tool-bar\">\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Enlarge\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"ZOOM_GRAPH('up')\" class=\"el-icon-zoom-in\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Lessen\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"ZOOM_GRAPH('down')\" class=\"el-icon-zoom-out\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Undo operation\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"UNDO_GRAPH()\" class=\"el-icon-back\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Redo operation\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"REDO_GRAPH()\" class=\"el-icon-right\"></i>\n        </el-tooltip>\n\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Start simulation\"\n          placement=\"bottom\"\n          effect=\"light\"\n          v-if=\"nowait\"\n        >\n          <i @click=\"startSimulation()\" class=\"el-icon-video-play\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Start simulation\"\n          placement=\"bottom\"\n          effect=\"light\"\n          v-else\n        >\n          <i class=\"el-icon-loading\"></i>\n        </el-tooltip>\n\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Pause simulation\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"pauseSimulation()\" class=\"el-icon-video-pause\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"End simulation\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"endSimulation()\" class=\"el-icon-circle-close\"></i>\n        </el-tooltip>\n        <!-- <el-tooltip\n          class=\"tooltip\"\n          content=\"Upload existing models\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"uploadGraph()\" class=\"el-icon-upload2\"></i>\n        </el-tooltip> -->\n        <!-- <el-tooltip\n          class=\"tooltip\"\n          content=\"Download model\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"downloadGraph()\" class=\"el-icon-download\"></i>\n        </el-tooltip> -->\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Download model\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"saveGraphToPNG()\" class=\"el-icon-camera-solid\"></i>\n        </el-tooltip>\n\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Remove cells \"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"REMOVE_CELLS()\" class=\"el-icon-delete\"></i>\n        </el-tooltip>\n\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Focus canvas \"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"POSITIONING_GRAPH()\" class=\"el-icon-full-screen\"></i>\n        </el-tooltip>\n      </div>\n      <!-- 系统参数栏 -->\n      <div class=\"config-data-box\">\n        <!-- <span>Simulation Days</span> -->\n\n        <!-- <el-input\n          size=\"mini\"\n          class=\"config-data-input\"\n          v-model=\"currentSimulationDays\"\n          placeholder=\"\"\n          :disabled=\"modifyDisabled\"\n        ></el-input> -->\n\n        <span class=\"config-data-input\">Simulation Days</span>\n        <el-slider\n          v-model=\"configData.simulationDays\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"5000\"\n          :step=\"1\"\n          :change=\"modifyConfigData()\"\n        ></el-slider>\n        <span class=\"config-data-input\">Simulation Slot</span>\n        <el-slider\n          v-model=\"configData.simulationSlot\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"365\"\n          :step=\"1\"\n          :change=\"modifyConfigData()\"\n        ></el-slider>\n        <span class=\"config-data-input\">Current Day: </span>\n        <span v-text=\"getModelTime()\"></span>\n\n        <!-- <div class=\"config-data-input\">Current Day\n          <div v-text=\"getModelTime()\"></div>\n        </div> -->\n      </div>\n      <!-- 系统参数修改按钮 -->\n      <!-- <div class=\"config-button\">\n        <div class=\"setting\">\n          <i\n            class=\"el-icon-setting\"\n            @click=\"modifyDisabled = !modifyDisabled\"\n            v-if=\"modifyDisabled\"\n          ></i>\n          <i\n            class=\"el-icon-success\"\n            @click=\"modifyConfigData()\"\n            v-if=\"!modifyDisabled\"\n          ></i>\n        </div>\n      </div> -->\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport { Model } from \"../../graph/model\";\nimport { floor } from \"mathjs\";\nimport { DataUri } from \"@antv/x6\";\nimport { setStore } from \"../../utils/storage\";\nexport default {\n  data() {\n    return {\n      currentSimulationDays: null,\n      currentSimulationSlot: null,\n      modifyDisabled: true,\n      dialogLogInVisible: false,\n      nowait: true,\n    };\n  },\n  components: {},\n  methods: {\n    ...mapMutations([\n      \"ZOOM_GRAPH\",\n      \"POSITIONING_GRAPH\",\n      \"UNDO_GRAPH\",\n      \"REDO_GRAPH\",\n      \"MODIFY_CONFIGDATA\",\n      \"LOAD_CONFIGDATA\",\n      \"SHOW_UPLOAD_DIALOG\",\n      \"SET_MODEL\",\n      \"REMOVE_CELLS\",\n      \"APPEND_HISTORY_SIMULATE_DATA\",\n      \"SET_HISTORY_SIMULATE_DATA\",\n      \"SET_NONCE\",\n    ]),\n    formatTooltip(val) {\n      return val / 100;\n    },\n    /**\n    修改全局配置信息\n     */\n    modifyConfigData() {\n      setStore(\"config_data\", this.configData);\n    },\n\n    /**\n    下载当前模型为json文件\n     */\n    downloadGraph() {\n      //获取时间戳\n      var timestamp = new Date().valueOf();\n      //将全局配置信息和画布数据封装成对象\n      let modelData = {\n        model: { configData: this.configData, graph: this.graph },\n      };\n      const filename = \"Model\" + timestamp + \".json\";\n      const data = JSON.stringify(modelData, undefined, 4);\n      let blob = new Blob([data], { type: \"text/json\" }),\n        a = document.createElement(\"a\");\n      a.download = filename;\n      a.href = window.URL.createObjectURL(blob);\n      // 标签 data- 嵌入自定义属性  屏蔽后也可正常下载\n      a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\");\n      // 添加鼠标事件\n      let event = new MouseEvent(\"click\", {});\n      // 向一个指定的事件目标派发一个事件\n      a.dispatchEvent(event);\n    },\n    /**\n    上传已有的模型，json文件\n     */\n    uploadGraph() {\n      this.SHOW_UPLOAD_DIALOG();\n    },\n    /*\n    开始测算\n    */\n    async startSimulation() {\n      // 测算开始，开启 loading 图标\n      this.nowait = false;\n\n      // 模型初次测算时\n      if (this.model == null) {\n        console.log(\n          \"starting simulation...\",\n          this.configData.simulationDays,\n          \"days\",\n          \" with control slot:\",\n          this.configData.simulationSlot,\n          \"days\"\n        );\n        var model = new Model(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n\n        this.SET_MODEL(model);\n\n        this.APPEND_HISTORY_SIMULATE_DATA({\n          type: this.nonce,\n          data: this.model.data,\n        });\n      } else {\n        // TODO [Done] 模型已经存在时，其相关参数需要根据画布上的最新状态来更新\n        this.model.selfUpdate(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n      }\n      // 设置 model 的状态为 1 - 正在测算中\n      this.model.status = 1;\n      await this.model.start();\n\n      // 测算终止（正常终止 / 暂停终止）时更新测算历史数据\n      this.SET_HISTORY_SIMULATE_DATA(this.nocne, this.model.data);\n\n      if (this.model.status != 2) {\n        // 当模型处于非 Pause 状态时\n        console.log(\"the simulation is ended\");\n      }\n\n      //  测算终止（正常终止 / 暂停终止），关闭 loading 图标\n      this.nowait = true;\n    },\n    /*\n    暂停测算\n    */\n    pauseSimulation() {\n      // TODO 处于暂停状态中，画布上的某些不可改的参数应该置为灰色或不可选(不可新建、删除节点；不可更改的参数如)\n\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n\n      console.log(\"pausing simulation...\");\n      if (this.model == null) {\n        console.log(\"there's no model running!\");\n      } else {\n        // 修改模型的状态为 2 - 暂停\n        this.model.status = 2;\n        console.log(\n          \"The model is paused. \",\n          \"You can only adjust params on existing model. \",\n          \"If you need to adjust the architecture of model, please END current simulation first\"\n        );\n      }\n    },\n    /*\n    结束当前测算\n    */\n    endSimulation() {\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n      console.log(\"ending simulation...\");\n      // 修改模型的状态为 0 - 停止\n      this.model.status = 0;\n      // 将当前模型置为 null\n      this.SET_MODEL(null);\n      console.log(\"the simulation is ended\");\n      // 当前测算结束后，将记录历史数据次数的 nonce 值增加 1\n      this.SET_NONCE(this.nonce + 1);\n    },\n    /**\n     * 下载模型图片\n     */\n    saveGraphToPNG() {\n      this.graph.toPNG(\n        (dataUri) => {\n          // 下载\n          DataUri.downloadDataUri(dataUri, \"chart.png\");\n        },\n        {\n          padding: {\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20,\n          },\n        }\n      );\n    },\n    /**\n     * 获取模型测算进行中的时间\n     */\n    getModelTime() {\n      if (this.model == null) return 0;\n      return this.model.curDay;\n    },\n  },\n  computed: {\n    ...mapState([\"configData\", \"graph\", \"model\", \"nonce\"]),\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n.el-dropdown-menu {\n  .el-dropdown-menu__item {\n    .el-button {\n      color: #555555;\n      font-size: 15px;\n    }\n    &:hover {\n      color: #555555;\n      background-color: #ecebeb;\n    }\n  }\n}\n.top-container {\n  height: 50px;\n}\n.top {\n  position: fixed;\n  //z-index: 2000;\n  bottom: 80px;\n  left: 18%;\n  right: 22%;\n  // overflow-x: scroll;\n  line-height: 50px;\n  height: 50px;\n  width: 78%;\n\n  font-family: \"Times New Roman\", Georgia, Serif;\n  font-size: 14px;\n  background-color: #ffffff;\n  border-radius: 20px;\n  box-shadow: 0 0 2px rgba(180, 180, 180, 0.8);\n\n  .tool-bar {\n    float: left;\n    margin-left: 15px;\n    width: 380px;\n    border-radius: 20px;\n    // box-shadow: 0 0 2px rgba(180, 180, 180, 0.8);\n\n    i {\n      margin: 0px 10px;\n      font-size: 18px;\n      color: #555555;\n      font-weight: bold;\n      cursor: pointer;\n      &:hover {\n        // color: #9a9a9c;\n        color: #409eff;\n      }\n    }\n  }\n  .config-data-box {\n    float: left;\n    text-align: center;\n    span {\n      margin-left: 2px;\n    }\n    .config-data-input {\n      float: left;\n      width: 100px;\n      margin-left: 20px;\n    }\n    .divider {\n      margin-left: 25px;\n    }\n    .day-slider {\n      float: left;\n      margin: 7px 0px 0px 15px;\n      width: 280px;\n      /deep/ .el-slider__bar {\n          background-color: rgb(94, 91, 91);\n        }\n        /deep/ .el-slider__button {\n          border: 2px solid rgb(94, 91, 91);\n          transition: 0s;\n        }\n    }\n    .timer {\n      float: left;\n\n      // margin: 7px 0px 0px 15px;\n\n      width: 20px;\n    }\n  }\n  .config-button {\n    float: right;\n    margin-right: 60px;\n    .log-in {\n      float: left;\n      margin-right: 10px;\n      .dropdown-icon {\n        cursor: pointer;\n        font-size: 25px;\n        float: left;\n        color: rgb(99, 99, 99);\n        &:hover {\n          color: #a3a3a3;\n        }\n      }\n    }\n    .setting {\n      font-size: 25px;\n      float: right;\n      margin-right: 200px;\n      color: rgb(99, 99, 99);\n      &:hover {\n        color: #a3a3a3;\n      }\n    }\n  }\n}\n</style>"]}]}