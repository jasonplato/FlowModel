{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/common/GlobalHeader.vue?vue&type=style&index=0&id=495584ea&scoped=true&lang=scss&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/common/GlobalHeader.vue","mtime":1653708835748},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/css-loader/dist/cjs.js","mtime":1653708689646},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1653708694637},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/postcss-loader/src/index.js","mtime":1653708693104},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/sass-loader/dist/cjs.js","mtime":1653708694028},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhZGVyLWJveCB7CiAgaGVpZ2h0OiA4MHB4OwogIHdpZHRoOiAyMDAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAudG9wbmF2IHsKICAgIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBvdmVyZmxvdzogaGlkZGVuOwoKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHotaW5kZXg6IDk5OTk7CiAgICB0b3A6IDA7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAwIDZweCByZ2JhKDAsIDAsIDAsIDAuMDQpOwogICAgLmxvZ28gewogICAgICBtYXJnaW46IDEwcHggMjAwcHg7CiAgICAgIHdpZHRoOiA1MHB4OwogICAgfQogICAgLmxvZ28tYm94IHsKICAgICAgaW1nIHsKICAgICAgICB3aWR0aDogMjAwcHg7CiAgICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICAgIG1hcmdpbi10b3A6IDIuNSU7CiAgICAgIH0KICAgIH0KICAgIC5zZWFyY2gtYm94IHsKICAgICAgd2lkdGg6IDU1MHB4OwogICAgICAuc2VhcmNoLWlucHV0LW91dHNpZGUgewogICAgICAgICAgZmxvYXQ6bGVmdDsKICAgICAgICAgIHdpZHRoOiA1MDBweDsKICAgICAgICAgIGhlaWdodDogNDdweDsKICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgwZGVnLCAjMzdlMmY1LCAjZjU3NGY1KTsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICAgICAgICAuc2VyY2gtaW5wdXQgewogICAgICAgICAgICB3aWR0aDogNDkwcHg7CiAgICAgICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgICAgICBtYXJnaW4tdG9wOjRweDsKICAgICAgICAgICAgbWFyZ2luLWxlZnQ6NXB4OwogICAgICAgICAgICAvZGVlcC8gLmVsLWlucHV0X19pbm5lciB7CiAgICAgICAgICAgICAgYm9yZGVyOiBzb2xpZCAwcHggcmdiKDIyOSwgMjMyLCAyMzUpOwogICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgIAogICAgICB9CiAgICAgIC5zZWFyY2gtaWNvbiB7CiAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7CiAgICAgICAgbWFyZ2luLXRvcDogNHB4OwogICAgICAgIGZvbnQtc2l6ZTogMjVweDsKICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgIGxpbmUtaGVpZ2h0OiA4MHB4OwogICAgICAgIGN1cnNvcjogd2FpdDsKICAgICAgICBjb2xvcjogIzQ5ZTRmNTsKICAgICAgfQogICAgICAgIC5zZWFyY2gtaWNvbjpob3ZlciB7CiAgICAgICAgICBjb2xvcjogI2IwNzRmNTsKICAgICAgICB9CiAgICB9CgogICAgbGkgewogICAgICBmbG9hdDogbGVmdDsKICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4OwogICAgICBzcGFuIHsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgcGFkZGluZzogMTRweCAxNnB4OwogICAgICAgIGhlaWdodDogNTBweDsKICAgICAgICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LCAjNDllNGY1LCAjZDg0OWY1KTsKICAgICAgICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsKICAgICAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgIC8vY29sb3I6IHJnYigwLCAwLCAwKTsKICAgICAgICBmb250LXdlaWdodDogMjAwMDsKICAgICAgICBmb250LXNpemU6IDE2cHg7CiAgICAgICAgZm9udC1mYW1pbHk6ICJHaWxsIFNhbnMiLCAiR2lsbCBTYW5zIE1UIiwgQ2FsaWJyaSwgIlRyZWJ1Y2hldCBNUyIsCiAgICAgICAgc2Fucy1zZXJpZjsKICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgIC8vY29sb3I6IHJnYigxMDQsIDEwNCwgMTA0KTsKICAgICAgICAgIHRyYW5zaXRpb246IGNvbG9yIDAuNHMgZWFzZSAwczsKICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHJpZ2h0LCAjNDllNGY1LCAjZDg0OWY1KTsKICAgICAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0OwogICAgICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLnJpZ2h0IHsKICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgfQogICAgLmNvbm5lY3QtYnV0dG9uIHsKICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICBtYXJnaW46IDIwcHggMzBweCAwcHggNjBweDsKICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAuZWwtYnV0dG9uIHsKICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgYm9yZGVyOiAwOwogICAgICAgIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGxlZnQsICM0OWU0ZjUsICNkODQ5ZjUpOwogICAgICB9CiAgICB9CiAgICAuYXZhdGFyIHsKICAgICAgZmxvYXQ6IHJpZ2h0OwogICAgICAuYXZhdGFyLWljb24gewogICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgIG1hcmdpbjogMjBweCAzMHB4IDIwcHggMHB4OwogICAgICAgIGhlaWdodDogMzVweDsKICAgICAgICB3aWR0aDogMzVweDsKICAgICAgICBib3JkZXItcmFkaXVzOiAxMDAlOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDsKICAgICAgICBwYWRkaW5nOiAxcHg7CiAgICAgICAgYm9yZGVyOiAycHggc29saWQgcmdiKDI1NSwgMjM5LCAxMik7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICB9CiAgICAgIC51c2VyLXNob3J0LWlkIHsKICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICBtYXJnaW46IDI1cHggMTBweCAwcHggNjBweDsKICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsKICAgICAgICBib3JkZXI6IHNvbGlkIDFweCAjZTdlN2U3OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgZm9udC1mYW1pbHk6ICJHaWxsIFNhbnMiLCAiR2lsbCBTYW5zIE1UIiwgQ2FsaWJyaSwgIlRyZWJ1Y2hldCBNUyIsCiAgICAgICAgICBzYW5zLXNlcmlmOwogICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgIH0KICAgICAgL2RlZXAvIC5lbC1hdmF0YXIgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICAgICAgY29sb3I6ICMwMDA7CiAgICAgIH0KICAgICAgL2RlZXAvIC5lbC1hdmF0YXItLWljb24gewogICAgICAgIGZvbnQtc2l6ZTogMjVweDsKICAgICAgfQoKICAgICAgLnByb2ZpbGUgewogICAgICAgIGNvbG9yOiAjMDAwOwogICAgICB9CiAgICB9CiAgfQp9CnVsIGxpLnJvdXRlci1saW5rLWFjdGl2ZSwKdWwgbGkucm91dGVyLWxpbmstZXhhY3QtYWN0aXZlIHsKICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggcmdiKDIsIDE1NywgMjQ3KTsKfQo="},{"version":3,"sources":["GlobalHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GlobalHeader.vue","sourceRoot":"src/common","sourcesContent":["<template >\n  <div class=\"header-container\">\n    <div class=\"header-box\">\n      <ul class=\"topnav\">\n        <li class=\"logo-box\">\n          <router-link to=\"/explore\">\n            <img src=\"../assets/flowlogo.jpg\" alt=\"logo\" class=\"logo\" />\n          </router-link>\n        </li>\n        <li class=\"search-box\">\n          <div class=\"search-input-outside\">\n            <el-input\n              v-model=\"searchContent\"\n              placeholder=\"Search items\"\n              class=\"serch-input\"\n            ></el-input>\n          </div>\n          <i class=\"el-icon-search search-icon\"></i>\n        </li>\n        <li class=\"connect-button\" v-if=\"user == null\">\n          <el-button round @click=\"connect()\">Connect</el-button>\n        </li>\n        <div class=\"avatar\" v-else>\n          <span class=\"user-short-id\">{{ shorUserId }}</span>\n          <!--<router-link to=\"/profile\">Profile</router-link>\n           <el-avatar icon=\"el-icon-user-solid\" class=\"avatar-icon\"></el-avatar> -->\n          <el-dropdown>\n            <div\n              class=\"avatar-icon\"\n              ref=\"avatar\"\n              style=\"\n                background: linear-gradient(\n                  to right,\n                  #ab506d,\n                  #34a3ad,\n                  #e367dc\n                );\n              \"\n            ></div>\n            <el-dropdown-menu slot=\"dropdown\" class=\"dropdown-menu-in-header\">\n              <el-dropdown-item icon=\"el-icon-user\"\n                ><router-link class=\"profile\" to=\"/profile\"\n                  >Profile</router-link\n                ></el-dropdown-item\n              >\n              <el-dropdown-item icon=\"el-icon-right\" @click=\"logout()\"\n                >Log Out</el-dropdown-item\n              >\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n\n        <router-link tag=\"li\" to=\"/create\" class=\"right\">\n          <span>Create</span>\n        </router-link>\n        <router-link tag=\"li\" to=\"/explore\" class=\"right\">\n          <span>Explore</span>\n        </router-link>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations, mapActions } from \"vuex\";\nimport { setStore, getStore } from \"../utils/storage\";\nimport { setupIPFS } from \"../utils/ipfsUtil\";\nimport {\n  connectMetamask,\n  accountChangeListener,\n  getBalance,\n  getNftMetadata,\n  createNFT,\n  addMinter,\n  getWeb3Provider,\n} from \"../api/web3/contracts\";\nexport default {\n  data() {\n    return {\n      searchContent: \"\",\n    };\n  },\n  computed: {\n    ...mapState([\"web3Provider\", \"user\"]),\n    shorUserId() {\n      return (\n        this.user.substring(0, 5) +\n        \"...\" +\n        this.user.substring(this.user.length - 4)\n      );\n    },\n  },\n  methods: {\n    ...mapActions([\"set_web3_provider\"]),\n    ...mapMutations([\"SET_USER\"]),\n    initProvider() {\n      let provider = getWeb3Provider();\n      if (provider == null) {\n        this.$notify.warning({\n          title: \"Warning\",\n          message: \"Please install metamask first!\",\n          duration: 0,\n          position: \"bottom-right\",\n        });\n      }\n      this.set_web3_provider(provider);\n    },\n    initUser() {\n      let user = getStore(\"user\");\n      if (user && user.length != 0) {\n        this.connect();\n      }\n    },\n    connect() {\n      if (this.web3Provider === null) {\n        let provider = getWeb3Provider();\n        if (provider == null) {\n          this.$notify({\n            title: \"Warning\",\n            message: \"Please install metamask first!\",\n            duration: 0,\n            position: \"bottom-right\",\n          });\n          return;\n        } else {\n          this.set_web3_provider(provider);\n        }\n      }\n\n      connectMetamask(this.web3Provider).then((response) => {\n        if (response.status) {\n          if (this.user != null) {\n            this.$notify.success({\n              title: \"Success\",\n              message: \"Account switching succeeded!\",\n              position: \"bottom-right\",\n            });\n          } else {\n            this.$notify.success({\n              title: \"Success\",\n              message: \"Account connect succeeded!\",\n              position: \"bottom-right\",\n            });\n          }\n\n          this.SET_USER(response.account[0]);\n\n          //生成账户头像\n          this.$nextTick(function () {\n            this.$refs.avatar.style.background =\n              \"linear-gradient(to right, #\" +\n              response.account[0].substring(2, 8) +\n              \", #\" +\n              response.account[0].substring(8, 14) +\n              \", #\" +\n              response.account[0].substring(14, 20) +\n              \")\";\n          });\n        } else {\n          this.$notify.error({\n            title: \"Error\",\n            message: \"Connect failed!\",\n            duration: 0,\n            position: \"bottom-right\",\n          });\n        }\n      });\n    },\n    logout() {},\n  },\n  mounted() {\n    // 连接 IPFS 服务\n    setupIPFS();\n    this.initProvider();\n    accountChangeListener(this.connect);\n    this.initUser();\n  },\n};\n</script>\n<style  scoped lang=\"scss\">\n.header-box {\n  height: 80px;\n  width: 2000px;\n  background-color: #fff;\n  .topnav {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n\n    position: fixed;\n    z-index: 9999;\n    top: 0;\n    width: 100%;\n    background-color: #fff;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\n    .logo {\n      margin: 10px 200px;\n      width: 50px;\n    }\n    .logo-box {\n      img {\n        width: 200px;\n        height: 50px;\n        margin-top: 2.5%;\n      }\n    }\n    .search-box {\n      width: 550px;\n      .search-input-outside {\n          float:left;\n          width: 500px;\n          height: 47px;\n          margin-top: 20px;\n          background: -webkit-linear-gradient(0deg, #37e2f5, #f574f5);\n          border-radius: 10px;\n          .serch-input {\n            width: 490px;\n            float: left;\n            margin-top:4px;\n            margin-left:5px;\n            /deep/ .el-input__inner {\n              border: solid 0px rgb(229, 232, 235);\n              background-color: #fff;\n              border-radius: 6px;\n              margin: 0 auto;\n            }\n          }\n      \n      }\n      .search-icon {\n        float: left;\n        margin-left: 15px;\n        margin-top: 4px;\n        font-size: 25px;\n        font-weight: 600;\n        line-height: 80px;\n        cursor: wait;\n        color: #49e4f5;\n      }\n        .search-icon:hover {\n          color: #b074f5;\n        }\n    }\n\n    li {\n      float: left;\n      margin-right: 30px;\n      span {\n        display: block;\n        text-align: center;\n        padding: 14px 16px;\n        height: 50px;\n        background: -webkit-linear-gradient(left, #49e4f5, #d849f5);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n        line-height: 50px;\n        text-decoration: none;\n        //color: rgb(0, 0, 0);\n        font-weight: 2000;\n        font-size: 16px;\n        font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\",\n        sans-serif;\n        &:hover {\n          //color: rgb(104, 104, 104);\n          transition: color 0.4s ease 0s;\n          cursor: pointer;\n          background: -webkit-linear-gradient(right, #49e4f5, #d849f5);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n        }\n      }\n    }\n    .right {\n      float: right;\n    }\n    .connect-button {\n      float: right;\n      margin: 20px 30px 0px 60px;\n      cursor: pointer;\n      .el-button {\n        color: white;\n        border: 0;\n        background: -webkit-linear-gradient(left, #49e4f5, #d849f5);\n      }\n    }\n    .avatar {\n      float: right;\n      .avatar-icon {\n        float: left;\n        margin: 20px 30px 20px 0px;\n        height: 35px;\n        width: 35px;\n        border-radius: 100%;\n        background-color: red;\n        padding: 1px;\n        border: 2px solid rgb(255, 239, 12);\n        cursor: pointer;\n      }\n      .user-short-id {\n        float: left;\n        display: block;\n        margin: 25px 10px 0px 60px;\n        padding: 5px 10px;\n        border: solid 1px #e7e7e7;\n        border-radius: 20px;\n        font-family: \"Gill Sans\", \"Gill Sans MT\", Calibri, \"Trebuchet MS\",\n          sans-serif;\n        font-weight: 600;\n      }\n      /deep/ .el-avatar {\n        background-color: #fff;\n        color: #000;\n      }\n      /deep/ .el-avatar--icon {\n        font-size: 25px;\n      }\n\n      .profile {\n        color: #000;\n      }\n    }\n  }\n}\nul li.router-link-active,\nul li.router-link-exact-active {\n  border-bottom: solid 2px rgb(2, 157, 247);\n}\n</style>\n\n<style lang=\"scss\">\n.dropdown-menu-in-header li {\n  color: black;\n  .router-link-active {\n    text-decoration: none;\n    color: black;\n  }\n  a{\n    text-decoration: none;\n    color: black;\n  }\n}\n</style>"]}]}