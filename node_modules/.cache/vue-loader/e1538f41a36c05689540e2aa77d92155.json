{"remainingRequest":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangxufei/Desktop/FlowModel/src/components/create/RuleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangxufei/Desktop/FlowModel/src/components/create/RuleEdit.vue","mtime":1652163070443},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdSdWxlOiBudWxsLAogICAgICBsb2FkZWQ6IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucyhbIlNBVkVfRURJVF9SVUxFIl0pLAogICAgZWRpdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBpbnB1dFN0cmVhbSA9IG5ldyBJbnB1dFN0cmVhbSh0aGlzLm5ld1J1bGUuY29udGVudCk7CiAgICAgICAgY29uc3QgbGV4ZXIgPSBuZXcgR3JhbW1hckxleGVyKGlucHV0U3RyZWFtKTsKICAgICAgICBjb25zdCB0b2tlblN0cmVhbSA9IG5ldyBDb21tb25Ub2tlblN0cmVhbShsZXhlcik7CiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IEdyYW1tYXJQYXJzZXIodG9rZW5TdHJlYW0pOwogICAgICAgIGNvbnN0IHRyZWUgPSBwYXJzZXIuY2hlY2soKTsKICAgICAgICBjb25zb2xlLmxvZyh0cmVlLmdldENoaWxkKDEpKTsKICAgICAgICB0aGlzLlNBVkVfRURJVF9SVUxFKHRoaXMubmV3UnVsZSk7CiAgICAgICAgdGhpcy5ydWxlRWRpdFNob3cuc2hvdyA9IGZhbHNlOwogICAgICB9IGNhdGNoIHsKICAgICAgICAvLyBUT0RPIOWvueS6juivreazlemUmeivr+eahOaDheWGte+8jHRyeS1jYXRjaAogICAgICAgIGFsZXJ0KCJXcm9uZyBHcmFtbWFyISIpOwogICAgICB9CiAgICAgIAogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbInJ1bGVFZGl0U2hvdyIsICJlZGl0UnVsZSIsICJydWxlTGlzdHMiXSksCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKCF0aGlzLnJ1bGVFZGl0U2hvdy5hZGQpIHsKICAgICAgdGhpcy5uZXdSdWxlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5lZGl0UnVsZSk7CiAgICB9IGVsc2UgewogICAgICBsZXQgbmV3SWQgPSAwOwogICAgICBpZiAodGhpcy5ydWxlTGlzdHMubGVuZ3RoID09IDApIHsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdJZCA9IHRoaXMucnVsZUxpc3RzW3RoaXMucnVsZUxpc3RzLmxlbmd0aCAtIDFdLmlkICsgMTsKICAgICAgfQoKICAgICAgdGhpcy5uZXdSdWxlID0geyBpZDogbmV3SWQsIGxhYmVsOiAiIiwgY29udGVudDogIiIsIHN0YXR1czogZmFsc2UgfTsKICAgIH0KICAgIHRoaXMubG9hZGVkID0gdHJ1ZTsKICB9LAp9Owo="},{"version":3,"sources":["RuleEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"RuleEdit.vue","sourceRoot":"src/components/create","sourcesContent":["<template >\n  <div>\n    <div class=\"rule-edit-container\" v-if=\"loaded\">\n      <el-dialog\n        title=\"Property Edit\"\n        :visible.sync=\"ruleEditShow.show\"\n        width=\"30%\"\n      >\n        <div class=\"name\">\n          <span>Property Name:</span\n          ><el-input\n            class=\"name-input\"\n            v-model=\"newRule.label\"\n            placeholder=\"\"\n          ></el-input>\n        </div>\n\n        <div class=\"content\">\n          <span>Property Content:</span>\n          <el-input\n            class=\"content-input\"\n            v-model=\"newRule.content\"\n            placeholder=\"\"\n          ></el-input>\n        </div>\n\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"ruleEditShow.show = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"edit()\">Confirm</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      newRule: null,\n      loaded: false,\n    };\n  },\n  methods: {\n    ...mapMutations([\"SAVE_EDIT_RULE\"]),\n    edit() {\n      try {\n        const inputStream = new InputStream(this.newRule.content);\n        const lexer = new GrammarLexer(inputStream);\n        const tokenStream = new CommonTokenStream(lexer);\n        const parser = new GrammarParser(tokenStream);\n        const tree = parser.check();\n        console.log(tree.getChild(1));\n        this.SAVE_EDIT_RULE(this.newRule);\n        this.ruleEditShow.show = false;\n      } catch {\n        // TODO 对于语法错误的情况，try-catch\n        alert(\"Wrong Grammar!\");\n      }\n      \n    },\n  },\n  computed: {\n    ...mapState([\"ruleEditShow\", \"editRule\", \"ruleLists\"]),\n  },\n  mounted() {\n    if (!this.ruleEditShow.add) {\n      this.newRule = Object.assign({}, this.editRule);\n    } else {\n      let newId = 0;\n      if (this.ruleLists.length == 0) {\n      } else {\n        newId = this.ruleLists[this.ruleLists.length - 1].id + 1;\n      }\n\n      this.newRule = { id: newId, label: \"\", content: \"\", status: false };\n    }\n    this.loaded = true;\n  },\n};\n</script>\n<style lang=\"scss\">\n.rule-edit-container {\n  width: 400px;\n  .el-dialog {\n    border-radius: 20px;\n  }\n  .name {\n    .name-input {\n      margin-left: 20px;\n      width: 300px;\n    }\n  }\n  .content {\n    margin-top: 20px;\n    .content-input {\n      margin-left: 10px;\n      width: 300px;\n    }\n  }\n}\n</style>"]}]}