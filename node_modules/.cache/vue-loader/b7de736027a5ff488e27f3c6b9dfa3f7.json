{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/components/Detail/OffersDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/components/Detail/OffersDialog.vue","mtime":1653708835741},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":1653708688758},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwcHJvdmVORlQsIHJlZ2lzdGVyTkZUU2FsZSB9IGZyb20gIi4uLy4uL2FwaS93ZWIzL2NvbnRyYWN0cyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsib2ZmZXJzIl0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9mZmVyc0RhdGE6IFtdLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9mZmVyc0RhdGEgPSB0aGlzLm9mZmVyczsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNvbmZpcm1TZWxsKHJvdykgewogICAgICBjb25zb2xlLmxvZyhyb3cubmZ0SWQpOwoKICAgICAgYXBwcm92ZU5GVCgpLnRoZW4oKGNoYWluUmVzMSkgPT4gewogICAgICAgIGlmIChjaGFpblJlczEuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICB0aXRsZTogIlN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAiQXBwcm92ZSBORlQgc3VjY2Vzc2Z1bCAhIiwKICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZygidHggcmVzcG9uc2U6IiwgY2hhaW5SZXMxLnJlc3BvbnNlKTsKCiAgICAgICAgICByZWdpc3Rlck5GVFNhbGUocm93Lm5mdElkKS50aGVuKChjaGFpblJlczIpID0+IHsKICAgICAgICAgICAgaWYgKGNoYWluUmVzMi5zdGF0dXMgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJBcHByb3ZlIE5GVCBzYWxlIHN1Y2Nlc3NmdWwgISIsCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coInR4IHJlc3BvbnNlOiIsIGNoYWluUmVzMi5yZXNwb25zZSk7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgICB0aXRsZTogIkVycm9yIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJBcHByb3ZlIE5GVCBzYWxlIGVycm9yICEiLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJBcHByb3ZlIE5GVCBlcnJvciAhIiwKICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KQoKICAgICAgCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["OffersDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA","file":"OffersDialog.vue","sourceRoot":"src/components/Detail","sourcesContent":["<template >\n  <div class=\"content\">\n    <el-table :data=\"offersData\" style=\"width: 100%\" max-height=\"250\"\n      >>\n      <el-table-column prop=\"price\" label=\"Unit Price\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span class=\"item\">{{ scope.row.price }} ETH</span>\n        </template>\n      </el-table-column>\n      <!-- <el-table-column prop=\"\" label=\"Quantity\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <span class=\"item\">{{ scope.row.quantity }}</span>\n        </template>\n      </el-table-column> -->\n      <el-table-column prop=\"buyer\" label=\"From\">\n        <template slot-scope=\"scope\">\n          <span class=\"item\"\n            >{{ scope.row.buyer.substr(0, 5) }}...{{\n              scope.row.buyer.substr(38)\n            }}</span\n          >\n        </template>\n      </el-table-column>\n      <el-table-column label=\"\" width=\"150\"\n        ><template slot-scope=\"scope\">\n          <el-button\n            @click=\"confirmSell(scope.row)\"\n            type=\"text\"\n            size=\"small\"\n            class=\"accept\"\n            >Accept</el-button\n          >\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\nimport { approveNFT, registerNFTSale } from \"../../api/web3/contracts\";\n\nexport default {\n  props: [\"offers\"],\n  data() {\n    return {\n      offersData: [],\n    };\n  },\n  mounted() {\n    this.offersData = this.offers;\n  },\n  methods: {\n    confirmSell(row) {\n      console.log(row.nftId);\n\n      approveNFT().then((chainRes1) => {\n        if (chainRes1.status == \"success\") {\n          this.$notify.success({\n            title: \"Success\",\n            message: \"Approve NFT successful !\",\n            position: \"bottom-right\",\n          });\n          console.log(\"tx response:\", chainRes1.response);\n\n          registerNFTSale(row.nftId).then((chainRes2) => {\n            if (chainRes2.status == \"success\") {\n              this.$notify.success({\n                title: \"Success\",\n                message: \"Approve NFT sale successful !\",\n                position: \"bottom-right\",\n              });\n              console.log(\"tx response:\", chainRes2.response);\n\n            } else {\n              this.$notify.error({\n                title: \"Error\",\n                message: \"Approve NFT sale error !\",\n                position: \"bottom-right\",\n              });\n            }\n          })\n\n        } else {\n          this.$notify.error({\n            title: \"Error\",\n            message: \"Approve NFT error !\",\n            position: \"bottom-right\",\n          });\n        }\n      })\n\n      \n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.content {\n  //   border: 1px solid rgb(228, 228, 228);\n  border-radius: 10px;\n  .el-table {\n    border-radius: 10px;\n  }\n  .accept {\n    font-size: 16px;\n    font-weight: 600;\n    padding: 10px;\n    // border: 1px solid #409eff;\n    border-top-color: rgb(255, 230, 0);\n    border-left: 1px double rgb(76, 209, 250);\n    border-right: 1px double rgb(255, 169, 248);\n    border-bottom: 1px double rgb(207, 94, 252);\n    border-radius: 15px;\n  }\n  .item {\n    font-weight: 600;\n    color: rgb(113, 113, 113);\n  }\n}\n</style>"]}]}