{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/components/create/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/components/create/Editor.vue","mtime":1653708835745},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":1653708688758},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWaXN1YWxQYW5lbCBmcm9tICIuL1Zpc3VhbFBhbmVsIjsKaW1wb3J0IE1vZGVsVXBsb2FkIGZyb20gIi4vTW9kZWxVcGxvYWQiOwppbXBvcnQgTm9kZUVkaXQgZnJvbSAiLi9Ob2RlRWRpdCI7CmltcG9ydCBUb29sc05hdmJhciBmcm9tICIuL1JpZ2h0VG9vbHNOYXZiYXIiOwppbXBvcnQgTWludEZvcm0gZnJvbSAiLi4vVGVtcGxhdGUvTWludEZvcm0iOwppbXBvcnQgUnVsZUxpc3QgZnJvbSAiLi4vY3JlYXRlL1J1bGVMaXN0IjsKaW1wb3J0IHsgQWRkb24sIEdyYXBoLCBTaGFwZSB9IGZyb20gIkBhbnR2L3g2IjsKY29uc3QgeyBTdGVuY2lsIH0gPSBBZGRvbjsKY29uc3QgeyBSZWN0LCBDaXJjbGUgfSA9IFNoYXBlOwovLyDlr7zlhaXpk77mjqXmoanphY3nva4KaW1wb3J0IHsgUG9ydHNDb25maWcgfSBmcm9tICIuLi8uLi9ncmFwaC9wb3J0c0NvbmZpZyI7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgcXVlcnltb2RlbCB9IGZyb20gIi4uLy4uL2FwaS9pbmRleCI7CmltcG9ydCB7IHNldFN0b3JlIH0gZnJvbSAiLi4vLi4vdXRpbHMvc3RvcmFnZSI7CmltcG9ydCB7IGNvbm5lY3RNZXRhbWFzayB9IGZyb20gIi4uLy4uL2FwaS93ZWIzL2NvbnRyYWN0cyI7CmltcG9ydCB7IGRvd25sb2FkRnJvbUlQRlMgfSBmcm9tICIuLi8uLi91dGlscy9pcGZzVXRpbCI7CmltcG9ydCB7IHF1ZXJ5bWV0YWRhdGEgfSBmcm9tICIuLi8uLi9hcGkvaW5kZXgiOwppbXBvcnQgeyBkZWNyeXB0RGF0YUVPQSwgZGVjcnlwdERhdGFOb3JtYWwgfSBmcm9tICIuLi8uLi91dGlscy9jcnlwdG9VdGlsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGVkOiBmYWxzZSwKICAgICAgbm9kZUVkaXRTaG93OiB0cnVlLAogICAgICB2aXN1YWxQYW5lbFZpc2libGU6IGZhbHNlLAogICAgICAvLyB1cGxvYWRTaG93OiBmYWxzZSwKICAgICAgY2VudGVyRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgVmlzdWFsUGFuZWwsCiAgICBNb2RlbFVwbG9hZCwKICAgIE5vZGVFZGl0LAogICAgVG9vbHNOYXZiYXIsCiAgICBNaW50Rm9ybSwKICAgIFJ1bGVMaXN0LAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKFsKICAgICAgIlNUT1JBR0VfR1JBUEgiLAogICAgICAiTE9BRF9HUkFQSCIsCiAgICAgICJQT1NJVElPTklOR19HUkFQSCIsCiAgICAgICJJTklUX0dSQVBIIiwKICAgICAgIkNMT1NFX1VQTE9BRF9ESUFMT0ciLAogICAgICAiU0VUX0VESVRfQ0VMTFMiLAogICAgICAiTU9ESUZZX0hJU1RPUllfU0lNVUxBVEVfREFUQSIsCiAgICAgICJNT0RJRllfQ09ORklHREFUQSIsCiAgICAgICJTRVRfVVNFUiIsCiAgICAgICJMT0FEX1JVTEVfTElTVFMiLAogICAgXSksCgogICAgLy8g55S75biD5Yid5aeL5YyWCiAgICBpbml0R3JhcGcoKSB7CiAgICAgIGxldCBjdXJfZ3JhcGggPSBuZXcgR3JhcGgoewogICAgICAgIGNvbnRhaW5lcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNhbnZhcy1tYWluIiksCiAgICAgICAgc2VsZWN0aW5nOiB0cnVlLAogICAgICAgIGF1dG9SZXNpemU6IHRydWUsCiAgICAgICAgaGlzdG9yeTogdHJ1ZSwKICAgICAgICBiYWNrZ3JvdW5kOiB7CiAgICAgICAgICBjb2xvcjogIiNmZmYiLAogICAgICAgIH0sCiAgICAgICAgZ3JpZDogewogICAgICAgICAgc2l6ZTogMzAsCiAgICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgc25hcGxpbmU6IHsKICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICBzaGFycDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHNjcm9sbGVyOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgcGFnZVZpc2libGU6IGZhbHNlLAogICAgICAgICAgcGFnZUJyZWFrOiBmYWxzZSwKICAgICAgICAgIHBhbm5hYmxlOiB0cnVlLAogICAgICAgICAgbW9kaWZpZXJzOiBbInNoaWZ0Il0sCiAgICAgICAgfSwKICAgICAgICBtb3VzZXdoZWVsOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgem9vbUF0TW91c2VQb3NpdGlvbjogdHJ1ZSwKICAgICAgICAgIG1vZGlmaWVyczogWyJjdHJsIiwgIm1ldGEiXSwKICAgICAgICAgIG1pblNjYWxlOiAwLjUsCiAgICAgICAgICBtYXhTY2FsZTogMywKICAgICAgICB9LAogICAgICAgIGNvbm5lY3Rpbmc6IHsKICAgICAgICAgIHJvdXRlcjogewogICAgICAgICAgICBuYW1lOiAibWFuaGF0dGFuIiwKICAgICAgICAgICAgYXJnczogewogICAgICAgICAgICAgIHBhZGRpbmc6IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgY29ubmVjdG9yOiB7CiAgICAgICAgICAgIG5hbWU6ICJyb3VuZGVkIiwKICAgICAgICAgICAgYXJnczogewogICAgICAgICAgICAgIHJhZGl1czogOCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICBhbmNob3I6ICJjZW50ZXIiLAogICAgICAgICAgY29ubmVjdGlvblBvaW50OiAiYW5jaG9yIiwKICAgICAgICAgIGFsbG93Qmxhbms6IGZhbHNlLAogICAgICAgICAgc25hcDogewogICAgICAgICAgICByYWRpdXM6IDIwLAogICAgICAgICAgfSwKICAgICAgICAgIGNyZWF0ZUVkZ2UoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgU2hhcGUuRWRnZSh7CiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIGxpbmU6IHsKICAgICAgICAgICAgICAgICAgLy8gc3Ryb2tlOiB7CiAgICAgICAgICAgICAgICAgIC8vICAgdHlwZTogImxpbmVhckdyYWRpZW50IiwKICAgICAgICAgICAgICAgICAgLy8gICBzdG9wczogWwogICAgICAgICAgICAgICAgICAvLyAgICAgeyBvZmZzZXQ6ICIwJSIsIGNvbG9yOiAiI2NjYyIgfSwKICAgICAgICAgICAgICAgICAgLy8gICAgIHsgb2Zmc2V0OiAiNTAlIiwgY29sb3I6ICIjNzNkMTNkIiB9LAogICAgICAgICAgICAgICAgICAvLyAgICAgeyBvZmZzZXQ6ICIxMDAlIiwgY29sb3I6ICIjY2NjIiB9LAogICAgICAgICAgICAgICAgICAvLyAgIF0sCiAgICAgICAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgICAgICAgIHN0cm9rZTogIiNiM2IzYjMiLAogICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMiwKICAgICAgICAgICAgICAgICAgdGFyZ2V0TWFya2VyOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImJsb2NrIiwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogNiwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDgsCiAgICAgICAgICAgICAgICAgICAgLy8gZmlsbDogIiNjY2MiLCAvLyDkvb/nlKjoh6rlrprkuYnloavlhYXoibIKICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICIjYjNiM2IzIiwgLy8g5L2/55So6Ieq5a6a5LmJ6L655qGG6ImyCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH0sCgogICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgIHR5cGU6ICJFZGdlIiwKICAgICAgICAgICAgICAgIGluc2lkZTogMC41LAogICAgICAgICAgICAgICAgb3V0c2lkZTogMC41LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgekluZGV4OiAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sCiAgICAgICAgICB2YWxpZGF0ZUNvbm5lY3Rpb24oeyB0YXJnZXRNYWduZXQgfSkgewogICAgICAgICAgICByZXR1cm4gISF0YXJnZXRNYWduZXQ7CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgaGlnaGxpZ2h0aW5nOiB7CiAgICAgICAgICBtYWduZXRBZHNvcmJlZDogewogICAgICAgICAgICBuYW1lOiAic3Ryb2tlIiwKICAgICAgICAgICAgYXJnczogewogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBmaWxsOiAiIzVGOTVGRiIsCiAgICAgICAgICAgICAgICBzdHJva2U6ICIjNUY5NUZGIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHJlc2l6aW5nOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgc2VsZWN0aW5nOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgcnViYmVyYmFuZDogdHJ1ZSwKICAgICAgICAgIHNob3dOb2RlU2VsZWN0aW9uQm94OiB0cnVlLAogICAgICAgIH0sCgogICAgICAgIGtleWJvYXJkOiB0cnVlLAogICAgICAgIGNsaXBib2FyZDogdHJ1ZSwKICAgICAgfSk7CiAgICAgIHRoaXMuSU5JVF9HUkFQSChjdXJfZ3JhcGgpOwogICAgfSwKCiAgICAvLyDliJ3lp4vljJbnlLvluIPkvqfovrnmoI8KICAgIGluaXRTdGVuY2lsKCkgewogICAgICB0aGlzLnN0ZW5jaWwgPSBuZXcgU3RlbmNpbCh7CiAgICAgICAgdGl0bGU6ICJDb21wb25lbnRzIiwKICAgICAgICB0YXJnZXQ6IHRoaXMuZ3JhcGgsCgogICAgICAgIC8vY29sbGFwc2FibGU6IHRydWUsCiAgICAgICAgc3RlbmNpbEdyYXBoV2lkdGg6IDIwMCwKICAgICAgICBzdGVuY2lsR3JhcGhIZWlnaHQ6IDE4MCwKICAgICAgICBncm91cHM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogIkNvbXBvbmVudHMiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9KTsKCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsZWZ0IikuYXBwZW5kQ2hpbGQodGhpcy5zdGVuY2lsLmNvbnRhaW5lcik7CiAgICAgIGNvbnN0IHN0YWtlID0gbmV3IFJlY3QoewogICAgICAgIHdpZHRoOiA3MCwKICAgICAgICBoZWlnaHQ6IDQwLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIC8v5Lia5Yqh5pWw5o2uCiAgICAgICAgICBub2RlRGF0YTogewogICAgICAgICAgICBzdGFrZURhdGE6IHsKICAgICAgICAgICAgICByZXdhcmRQb2xpY3lGcm9tOiAiIiwKICAgICAgICAgICAgICBzdGFrZUFtb3VudDogWwogICAgICAgICAgICAgICAgeyBuYW1lOiAiVGVhbSIsIHByb3A6IDAsIGNsYXNzOiAidGVhbS1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJJbnZlc3RvciIsIHByb3A6IDAsIGNsYXNzOiAiaW52ZXN0b3Itc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiQWR2aXNvciIsIHByb3A6IDAsIGNsYXNzOiAiYWR2aXNvci1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJGb3VuZGF0aW9uIiwgcHJvcDogMCwgY2xhc3M6ICJmb3VuZGF0aW9uLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkNvbW11bml0eSIsIHByb3A6IDAsIGNsYXNzOiAiY29tbXVuaXR5LXNsaWRlciIgfSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICJTdGFrZSIsCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgcmVjdDogewogICAgICAgICAgICBmaWxsOiAicmdiKDE1NiwxOTIsMjMyNykiLAogICAgICAgICAgICBzdHJva2U6ICIjRTZBMjNDIiwKICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsCiAgICAgICAgICB9LAogICAgICAgICAgYm9keTogewogICAgICAgICAgICByeDogMTUsCiAgICAgICAgICAgIHJ5OiAxNSwKICAgICAgICAgIH0sCiAgICAgICAgICB0ZXh0OiB7IHRleHQ6ICJTdGFrZSIsIGZpbGw6ICIjZmZmIiB9LAogICAgICAgIH0sCiAgICAgICAgcG9ydHM6IFBvcnRzQ29uZmlnLAogICAgICB9KTsKCiAgICAgIGNvbnN0IHVuU3Rha2UgPSBuZXcgUmVjdCh7CiAgICAgICAgd2lkdGg6IDcwLAogICAgICAgIGhlaWdodDogNDAsCiAgICAgICAgZGF0YTogewogICAgICAgICAgLy/kuJrliqHmlbDmja4KICAgICAgICAgIG5vZGVEYXRhOiB7CiAgICAgICAgICAgIHVuc3Rha2VEYXRhOiB7CiAgICAgICAgICAgICAgY29vbERvd25UaW1lOiAwLAogICAgICAgICAgICAgIHVuc3Rha2VBbW91bnQ6IFsKICAgICAgICAgICAgICAgIHsgbmFtZTogIlRlYW0iLCBwcm9wOiAwLCBjbGFzczogInRlYW0tc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiSW52ZXN0b3IiLCBwcm9wOiAwLCBjbGFzczogImludmVzdG9yLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkFkdmlzb3IiLCBwcm9wOiAwLCBjbGFzczogImFkdmlzb3Itc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiRm91bmRhdGlvbiIsIHByb3A6IDAsIGNsYXNzOiAiZm91bmRhdGlvbi1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb21tdW5pdHkiLCBwcm9wOiAwLCBjbGFzczogImNvbW11bml0eS1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAiVW5zdGFrZSIsCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgcmVjdDogeyBmaWxsOiAicmdiKDE2NCwyMDUsMjMxKSIsIHN0cm9rZTogIiM2N0MyM0EiLCBzdHJva2VXaWR0aDogMCB9LAogICAgICAgICAgdGV4dDogeyB0ZXh0OiAiVW5zdGFrZSIsIGZpbGw6ICIjZmZmIiB9LAogICAgICAgICAgYm9keTogewogICAgICAgICAgICByeDogMTUsCiAgICAgICAgICAgIHJ5OiAxNSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBwb3J0czogUG9ydHNDb25maWcsCiAgICAgIH0pOwoKICAgICAgY29uc3QgdG9rZW4gPSBuZXcgQ2lyY2xlKHsKICAgICAgICB3aWR0aDogNjAsCiAgICAgICAgaGVpZ2h0OiA2MCwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAvL+S4muWKoeaVsOaNrgogICAgICAgICAgbm9kZURhdGE6IHsKICAgICAgICAgICAgdG9rZW5EYXRhOiB7CiAgICAgICAgICAgICAgdG90YWxTdXBwbHk6IDAsCiAgICAgICAgICAgICAgYWxsb2NhdGlvbnM6IFsKICAgICAgICAgICAgICAgIHsgbmFtZTogIlRlYW0iLCBwcm9wOiAwLCBjbGFzczogInRlYW0tc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiSW52ZXN0b3IiLCBwcm9wOiAwLCBjbGFzczogImludmVzdG9yLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkFkdmlzb3IiLCBwcm9wOiAwLCBjbGFzczogImFkdmlzb3Itc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiRm91bmRhdGlvbiIsIHByb3A6IDAsIGNsYXNzOiAiZm91bmRhdGlvbi1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb21tdW5pdHkiLCBwcm9wOiAwLCBjbGFzczogImNvbW11bml0eS1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICBjb21tdW5pdHk6IHsKICAgICAgICAgICAgICAgIGFsbG9jYXRpb25zOiBbCiAgICAgICAgICAgICAgICAgIHsgbmFtZTogIkFpcmRyb3AiLCBwcm9wOiAwLCBjbGFzczogImFpcmRyb3AtdHVybnRhYmxlIiB9LAogICAgICAgICAgICAgICAgICB7IG5hbWU6ICJTdGFraW5nIiwgcHJvcDogMCwgY2xhc3M6ICJzdGFraW5nLXR1cm50YWJsZSIgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBzdGFraW5nTGlmZXRpbWU6IDAsCiAgICAgICAgICAgICAgICBzdGFraW5nUmV3YXJkUmVmcmVzaDogMCwKICAgICAgICAgICAgICAgIHN0YWtpbmdSZXdhcmREZWNyZWFzZUZhY3RvcjogMCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICJUb2tlbiIsCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgIGZpbGw6ICJyZ2IoMTgzLDE5MiwyMjgpIiwKICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsCiAgICAgICAgICAgIHN0cm9rZTogIiM0MDlFRkYiLAogICAgICAgICAgfSwKICAgICAgICAgIHRleHQ6IHsgdGV4dDogIlRva2VuIiwgZmlsbDogIiNmZmYiIH0sCiAgICAgICAgfSwKICAgICAgICBwb3J0czogUG9ydHNDb25maWcsCiAgICAgIH0pOwoKICAgICAgY29uc3QgdmVzdCA9IG5ldyBSZWN0KHsKICAgICAgICB3aWR0aDogNzAsCiAgICAgICAgaGVpZ2h0OiA0MCwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAvL+S4muWKoeaVsOaNrgogICAgICAgICAgbm9kZURhdGE6IHsKICAgICAgICAgICAgdmVzdERhdGE6IHsKICAgICAgICAgICAgICB2ZXN0QW1vdW50OiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJUZWFtIiwKICAgICAgICAgICAgICAgICAgcHJvcDogMCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJ0ZWFtLXNsaWRlciIsCiAgICAgICAgICAgICAgICAgIGxvY2tVcFRpbWU6IDAsCiAgICAgICAgICAgICAgICAgIHJlbGVhc2VQZXJpb2Q6IDAsCiAgICAgICAgICAgICAgICAgIGNsaWZmOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkludmVzdG9yIiwKICAgICAgICAgICAgICAgICAgcHJvcDogMCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJpbnZlc3Rvci1zbGlkZXIiLAogICAgICAgICAgICAgICAgICBsb2NrVXBUaW1lOiAwLAogICAgICAgICAgICAgICAgICByZWxlYXNlUGVyaW9kOiAwLAogICAgICAgICAgICAgICAgICBjbGlmZjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJBZHZpc29yIiwKICAgICAgICAgICAgICAgICAgcHJvcDogMCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhZHZpc29yLXNsaWRlciIsCiAgICAgICAgICAgICAgICAgIGxvY2tVcFRpbWU6IDAsCiAgICAgICAgICAgICAgICAgIHJlbGVhc2VQZXJpb2Q6IDAsCiAgICAgICAgICAgICAgICAgIGNsaWZmOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkZvdW5kYXRpb24iLAogICAgICAgICAgICAgICAgICBwcm9wOiAwLAogICAgICAgICAgICAgICAgICBjbGFzczogImZvdW5kYXRpb24tc2xpZGVyIiwKICAgICAgICAgICAgICAgICAgbG9ja1VwVGltZTogMCwKICAgICAgICAgICAgICAgICAgcmVsZWFzZVBlcmlvZDogMCwKICAgICAgICAgICAgICAgICAgY2xpZmY6IDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBuYW1lOiAiQ29tbXVuaXR5IiwKICAgICAgICAgICAgICAgICAgcHJvcDogMCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJjb21tdW5pdHktc2xpZGVyIiwKICAgICAgICAgICAgICAgICAgbG9ja1VwVGltZTogMCwKICAgICAgICAgICAgICAgICAgcmVsZWFzZVBlcmlvZDogMCwKICAgICAgICAgICAgICAgICAgY2xpZmY6IDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogIlZlc3QiLAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgcng6IDE1LAogICAgICAgICAgICByeTogMTUsCiAgICAgICAgICB9LAogICAgICAgICAgcmVjdDogewogICAgICAgICAgICBmaWxsOiAicmdiKDIwNSwxNDksMTg3KSIsCiAgICAgICAgICAgIHN0cm9rZTogIiNGNTZDNkMiLAogICAgICAgICAgICAvLyBzdHJva2U6IHsKICAgICAgICAgICAgLy8gICB0eXBlOiAibGluZWFyR3JhZGllbnQiLAogICAgICAgICAgICAvLyAgIHN0b3BzOiBbCiAgICAgICAgICAgIC8vICAgICB7IG9mZnNldDogIjAlIiwgY29sb3I6ICIjY2NjIiB9LAogICAgICAgICAgICAvLyAgICAgeyBvZmZzZXQ6ICI1MCUiLCBjb2xvcjogIiM3M2QxM2QiIH0sCiAgICAgICAgICAgIC8vICAgICB7IG9mZnNldDogIjEwMCUiLCBjb2xvcjogIiNjY2MiIH0sCiAgICAgICAgICAgIC8vICAgXSwKICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDAsCiAgICAgICAgICB9LAogICAgICAgICAgdGV4dDogeyB0ZXh0OiAiVmVzdCIsIGZpbGw6ICIjZmZmIiB9LAogICAgICAgIH0sCiAgICAgICAgcG9ydHM6IFBvcnRzQ29uZmlnLAogICAgICB9KTsKCiAgICAgIHRoaXMuc3RlbmNpbC5sb2FkKAogICAgICAgIFt0b2tlbi5jbG9uZSgpLCB2ZXN0LmNsb25lKCksIHN0YWtlLmNsb25lKCksIHVuU3Rha2UuY2xvbmUoKV0sCiAgICAgICAgIkNvbXBvbmVudHMiCiAgICAgICk7CiAgICB9LAogICAgLy/liJ3lp4vljJblv6vmjbfplK4KICAgIGluaXRTaG9ydGN1dGtleSgpIHsKICAgICAgLy/lv6vmjbfkuovku7YKICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsibWV0YStjIiwgImN0cmwrYyJdLCAoKSA9PiB7CiAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLmdyYXBoLmdldFNlbGVjdGVkQ2VsbHMoKTsKICAgICAgICBpZiAoY2VsbHMubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmdyYXBoLmNvcHkoY2VsbHMpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgICB0aGlzLmdyYXBoLmJpbmRLZXkoWyJtZXRhK3giLCAiY3RybCt4Il0sICgpID0+IHsKICAgICAgICBjb25zdCBjZWxscyA9IHRoaXMuZ3JhcGguZ2V0U2VsZWN0ZWRDZWxscygpOwogICAgICAgIGlmIChjZWxscy5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuZ3JhcGguY3V0KGNlbGxzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsibWV0YSt2IiwgImN0cmwrdiJdLCAoKSA9PiB7CiAgICAgICAgaWYgKCF0aGlzLmdyYXBoLmlzQ2xpcGJvYXJkRW1wdHkoKSkgewogICAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLmdyYXBoLnBhc3RlKHsgb2Zmc2V0OiAzMiB9KTsKICAgICAgICAgIHRoaXMuZ3JhcGguY2xlYW5TZWxlY3Rpb24oKTsKICAgICAgICAgIHRoaXMuZ3JhcGguc2VsZWN0KGNlbGxzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgLy91bmRvIHJlZG8KICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsibWV0YSt6IiwgImN0cmwreiJdLCAoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMuZ3JhcGguaGlzdG9yeS5jYW5VbmRvKCkpIHsKICAgICAgICAgIHRoaXMuZ3JhcGguaGlzdG9yeS51bmRvKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGguYmluZEtleShbIm1ldGErc2hpZnQreiIsICJjdHJsK3NoaWZ0K3oiXSwgKCkgPT4gewogICAgICAgIGlmICh0aGlzLmdyYXBoLmhpc3RvcnkuY2FuUmVkbygpKSB7CiAgICAgICAgICB0aGlzLmdyYXBoLmhpc3RvcnkucmVkbygpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwoKICAgICAgLy8gc2VsZWN0IGFsbAogICAgICB0aGlzLmdyYXBoLmJpbmRLZXkoWyJtZXRhK2EiLCAiY3RybCthIl0sICgpID0+IHsKICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuZ3JhcGguZ2V0Tm9kZXMoKTsKICAgICAgICBpZiAobm9kZXMpIHsKICAgICAgICAgIHRoaXMuZ3JhcGguc2VsZWN0KG5vZGVzKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgLy8gem9vbQogICAgICB0aGlzLmdyYXBoLmJpbmRLZXkoWyJjdHJsKzEiLCAibWV0YSsxIl0sICgpID0+IHsKICAgICAgICBjb25zdCB6b29tID0gdGhpcy5ncmFwaC56b29tKCk7CiAgICAgICAgaWYgKHpvb20gPCAxLjUpIHsKICAgICAgICAgIHRoaXMuZ3JhcGguem9vbSgwLjEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGguYmluZEtleShbImN0cmwrMiIsICJtZXRhKzIiXSwgKCkgPT4gewogICAgICAgIGNvbnN0IHpvb20gPSB0aGlzLmdyYXBoLnpvb20oKTsKICAgICAgICBpZiAoem9vbSA+IDAuNSkgewogICAgICAgICAgdGhpcy5ncmFwaC56b29tKC0wLjEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaW5pdFdhdGNoRXZlbnQoKSB7CiAgICAgIC8vIOiKgueCuee8lui+kQogICAgICB0aGlzLmdyYXBoLm9uKCJjZWxsOmNvbnRleHRtZW51IiwgKHsgZSwgeCwgeSwgY2VsbCwgdmlldyB9KSA9PiB7CiAgICAgICAgLy8gVE9ETyAoWHVmZWkpIOmcgOimgemHjeaWsOiuvuiuoSBUb2tlbiDkuI3og73ooqvnvJbovpHnmoTpgLvovpEgVG9rZW4udHlwZSA9PSAyIOeahOS4jeiDveiiq+e8lui+ke+8nwogICAgICAgIC8vIGlmICgKICAgICAgICAvLyAgIGNlbGwuZ2V0RGF0YSgpLnR5cGUgPT0gIlRva2VuIiAmJgogICAgICAgIC8vICAgdGhpcy5ncmFwaC5nZXRQcmVkZWNlc3NvcnMoY2VsbCkubGVuZ3RoICE9IDAKICAgICAgICAvLyApIHsKICAgICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIC8vICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgLy8gICAgIG1lc3NhZ2U6ICJUaGUgY3VycmVudCBub2RlIGNhbm5vdCBiZSBlZGl0ZWQhIiwKICAgICAgICAvLyAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIC8vICAgfSk7CiAgICAgICAgLy8gICByZXR1cm47CiAgICAgICAgLy8gfQogICAgICAgIHRoaXMubm9kZUVkaXRTaG93ID0gZmFsc2U7CiAgICAgICAgdGhpcy5TRVRfRURJVF9DRUxMUyhjZWxsKTsKICAgICAgfSk7CiAgICAgIC8vIOazqOWGjOebkeWQrOS6i+S7tu+8jOW9k+aWsOWinuiKgueCueaIlui+ueiwg+eUqO+8jOWunuaXtuWtmOWCqAogICAgICB0aGlzLmdyYXBoLm9uKCJub2RlOmFkZGVkIiwgKHsgY2VsbCwgb3B0aW9ucyB9KSA9PiB7CiAgICAgICAgdGhpcy5TVE9SQUdFX0dSQVBIKCk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5ncmFwaC5vbigiY2VsbDphZGRlZCIsICh7IGNlbGwsIG9wdGlvbnMgfSkgPT4gewogICAgICAgIHRoaXMuU1RPUkFHRV9HUkFQSCgpOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5vbigiY2VsbDpjaGFuZ2VkIiwgKHsgY2VsbCwgb3B0aW9ucyB9KSA9PiB7CiAgICAgICAgdGhpcy5TVE9SQUdFX0dSQVBIKCk7CiAgICAgIH0pOwogICAgICB0aGlzLmdyYXBoLm9uKCJjZWxsOnJlbW92ZWQiLCAoeyBjZWxsLCBvcHRpb25zIH0pID0+IHsKICAgICAgICB0aGlzLlNUT1JBR0VfR1JBUEgoKTsKICAgICAgfSk7CiAgICAgIC8vIOaOp+WItui/nuaOpeahqeaYvuekui/pmpDol48KICAgICAgY29uc3Qgc2hvd1BvcnRzID0gKHBvcnRzLCBzaG93KSA9PiB7CiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBvcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSA9IGkgKyAxKSB7CiAgICAgICAgICBwb3J0c1tpXS5zdHlsZS52aXNpYmlsaXR5ID0gc2hvdyA/ICJ2aXNpYmxlIiA6ICJoaWRkZW4iOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5ncmFwaC5vbigibm9kZTptb3VzZWVudGVyIiwgKCkgPT4gewogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXMtbWFpbiIpOwogICAgICAgIGNvbnN0IHBvcnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi54Ni1wb3J0LWJvZHkiKTsKICAgICAgICBzaG93UG9ydHMocG9ydHMsIHRydWUpOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5vbigibm9kZTptb3VzZWxlYXZlIiwgKCkgPT4gewogICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXMtbWFpbiIpOwogICAgICAgIGNvbnN0IHBvcnRzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoIi54Ni1wb3J0LWJvZHkiKTsKICAgICAgICBzaG93UG9ydHMocG9ydHMsIGZhbHNlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGgub24oImNlbGw6ZGJsY2xpY2siLCAoeyBjZWxsLCBlIH0pID0+IHsKICAgICAgICBjb25zdCBuYW1lID0gY2VsbC5pc0VkZ2UoKSA/ICJlZGdlLWVkaXRvciIgOiAibm9kZS1lZGl0b3IiOwogICAgICAgIGNlbGwucmVtb3ZlVG9vbChuYW1lKTsKICAgICAgICBjZWxsLmFkZFRvb2xzKFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgYXJnczogewogICAgICAgICAgICAgIGV2ZW50OiBlLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICBdKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6IqC54K557yW6L6R6Z2i5p2/CiAgICBjbG9zZU5vZGVFZGl0KCkgewogICAgICB0aGlzLm5vZGVFZGl0U2hvdyA9IHRydWU7CiAgICB9LAogICAgY2xvc2VNaW50RWRpdCgpIHsKICAgICAgdGhpcy5jZW50ZXJEaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgbG9hZEdyYXBoRnJvbUJhY2soKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5uZnRJZCA9PSBudWxsKSB7CiAgICAgICAgLy/lr7zlhaXlt7LmnInoioLngrnkv6Hmga8KICAgICAgICB0aGlzLkxPQURfR1JBUEgoKTsKICAgICAgICAvL+i/m+ihjOS4gOasoeiBmueEpgogICAgICAgIHRoaXMuUE9TSVRJT05JTkdfR1JBUEgoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbm5lY3RNZXRhbWFzayh0aGlzLndlYjNQcm92aWRlcikudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgICAgICB0aGlzLlNFVF9VU0VSKHJlc3BvbnNlLmFjY291bnRbMF0pOwoKICAgICAgICAgIHF1ZXJ5bWV0YWRhdGEodGhpcy4kcm91dGUucXVlcnkubmZ0SWQpLnRoZW4oKG1ldGFkYXRhKSA9PiB7CiAgICAgICAgICAgIGlmIChtZXRhZGF0YS5tZXNzYWdlX2NvZGUgPT0gdGhpcy5zdGF0dXNDb2RlLlNVQ0NFU1NFRCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJTVUNDRVNTIHN5bmMgbWludCBkYXRhIHRvIGRhdGFiYXNlIik7CgogICAgICAgICAgICAgIGRlY3J5cHREYXRhRU9BKG1ldGFkYXRhLmRhdGEuZW5ja2V5LCB0aGlzLnVzZXIpLnRoZW4oKGRlY3J5cHRLZXkpID0+IHsKICAgICAgICAgICAgICAgIC8vIFRPRE8g5a+5c2VjcmV0IGRhdGEg6Kej5a+GCiAgICAgICAgICAgICAgICAvLyBsZXQgZGVjcnlwdFNlY3JldERhdGEgPSBkZWNyeXB0RGF0YU5vcm1hbCgpOwogICAgICAgICAgICAgICAgZG93bmxvYWRGcm9tSVBGUyhtZXRhZGF0YS5kYXRhLnByaXZVcmwpLnRoZW4oKHNlY3JldERhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgbGV0IGRlY3J5cHRlZCA9IGRlY3J5cHREYXRhTm9ybWFsKHNlY3JldERhdGEsIGRlY3J5cHRLZXkpOwogICAgICAgICAgICAgICAgICBsZXQgc3ViU2VjcmV0RGF0YSA9IGRlY3J5cHRlZC5zcGxpdCgiLCwsIik7CgogICAgICAgICAgICAgICAgICBsZXQgcGFyYW1zID0gc3ViU2VjcmV0RGF0YVsxXTsKICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHN1YlNlY3JldERhdGFbMl07CgogICAgICAgICAgICAgICAgICBzZXRTdG9yZSgiZ3JhcGgiLCBzdWJTZWNyZXREYXRhWzBdKTsKICAgICAgICAgICAgICAgICAgcGFyYW1zID0gSlNPTi5wYXJzZShwYXJhbXMpOwogICAgICAgICAgICAgICAgICB0aGlzLk1PRElGWV9DT05GSUdEQVRBKFsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY29uZmlnRGF0YS5zaW11bGF0aW9uRGF5cywKICAgICAgICAgICAgICAgICAgICBwYXJhbXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdCwKICAgICAgICAgICAgICAgICAgXSk7CiAgICAgICAgICAgICAgICAgIHRoaXMuTU9ESUZZX0hJU1RPUllfU0lNVUxBVEVfREFUQShKU09OLnBhcnNlKHJlc3VsdCkpOwogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIC8v5a+85YWl5bey5pyJ6IqC54K55L+h5oGvCiAgICAgICAgICAgICAgICAgIHRoaXMuTE9BRF9HUkFQSCgpOwogICAgICAgICAgICAgICAgICAvL+i/m+ihjOS4gOasoeiBmueEpgogICAgICAgICAgICAgICAgICB0aGlzLlBPU0lUSU9OSU5HX0dSQVBIKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRkFJTCBzeW5jIG1pbnQgZGF0YSB0byBkYXRhYmFzZSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJJZGVudGl0eSB2ZXJpZmljYXRpb24gZmFpbGVkISIsCiAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IiwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAiL2NyZWF0ZSIsCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAoKICBtb3VudGVkKCkgewogICAgLy8g5Yid5aeL5YyW6Z2i5p2/CiAgICB0aGlzLmluaXRHcmFwZygpOwogICAgLy8g5Yid5aeL5YyW6Z2i5p2/55u45YWz5b+r5o236ZSuCiAgICB0aGlzLmluaXRTaG9ydGN1dGtleSgpOwogICAgLy8g5Yid5aeL5YyW5bem5L6n5o6n5Lu2CiAgICB0aGlzLmluaXRTdGVuY2lsKCk7CgogICAgLy/liKTmlq3mmK/lkKbmmK/nlLHor6bmg4XpobXot7Povazov4fmnaXnmoQKICAgIHRoaXMubG9hZEdyYXBoRnJvbUJhY2soKTsKICAgIC8v5Yid5aeL5YyW55u45YWz55uR5ZCs5LqL5Lu2CiAgICB0aGlzLmluaXRXYXRjaEV2ZW50KCk7CiAgICB0aGlzLkxPQURfUlVMRV9MSVNUUygpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsKICAgICAgImdyYXBoIiwKICAgICAgInVwbG9hZERpYWxvZyIsCiAgICAgICJlZGl0Tm9kZSIsCiAgICAgICJzdGF0dXNDb2RlIiwKICAgICAgInVzZXIiLAogICAgICAiaGlzdG9yeVNpbXVsYXRlRGF0YSIsCiAgICBdKSwKICB9LAogIHdhdGNoOiB7CiAgICAvLyB1cGxvYWREaWFsb2codmFsKSB7CiAgICAvLyAgIHRoaXMudXBsb2FkU2hvdyA9IHZhbDsKICAgIC8vIH0sCiAgICAvLyB1cGxvYWRTaG93KHZhbCkgewogICAgLy8gICBpZiAoIXZhbCkgewogICAgLy8gICAgIHRoaXMuQ0xPU0VfVVBMT0FEX0RJQUxPRygpOwogICAgLy8gICB9CiAgICAvLyB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/components/create","sourcesContent":["<template>\n  <div class=\"models\">\n    <div class=\"draw\">\n      <!-- 左侧控件 -->\n      <div class=\"left-container\">\n        <div class=\"left\" id=\"left\"></div>\n\n        <!-- Mint 按钮 -->\n        <el-button\n          type=\"text\"\n          class=\"mint-btn\"\n          @click=\"centerDialogVisible = true\"\n        >\n          Mint\n        </el-button>\n        <el-dialog\n          title=\"Mint New Model\"\n          :visible.sync=\"centerDialogVisible\"\n          width=\"30%\"\n          center\n        >\n          <MintForm :close=\"closeMintEdit\" />\n          <!-- <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"centerDialogVisible = false\">Cancel</el-button>\n            <el-button type=\"primary\" @click=\"centerDialogVisible = false\">Confirm</el-button>\n          </span> -->\n        </el-dialog>\n        <div class=\"rule-list\">\n          <RuleList />\n        </div>\n      </div>\n      <div class=\"draw-main-box\">\n        <!-- 面板中心区域 -->\n        <div class=\"editor-section\">\n          <div id=\"canvas-main\" class=\"canvas-main\"></div>\n        </div>\n      </div>\n      <!-- 工具导航栏 -->\n      <!-- <div class=\"tools-navbar\">\n        <div class=\"tools-navbar\" id=\"tools-navbar\">\n          <ToolsNavbar />\n        </div>\n      </div> -->\n      <!-- 右侧控件 -->\n      <div class=\"right-default\">\n        <ToolsNavbar />\n      </div>\n      <transition name=\"el-fade-in-linear\">\n        <div class=\"right-container\" v-bind:class=\"{ show: nodeEditShow }\">\n          <NodeEdit :closeNodeEdit=\"closeNodeEdit\" />\n        </div>\n      </transition>\n    </div>\n    <!-- 数据可视化面板 -->\n    <div class=\"data-visual-panel\">\n      <el-button class=\"visual-button\" @click=\"visualPanelVisible = true\">\n        Data Visualization\n      </el-button>\n    </div>\n    <el-dialog\n      title=\"Modeling data visualization\"\n      :visible.sync=\"visualPanelVisible\"\n      class=\"data-dialog\"\n      width=\"1200px\"\n    >\n      <VisualPanel />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport VisualPanel from \"./VisualPanel\";\nimport ModelUpload from \"./ModelUpload\";\nimport NodeEdit from \"./NodeEdit\";\nimport ToolsNavbar from \"./RightToolsNavbar\";\nimport MintForm from \"../Template/MintForm\";\nimport RuleList from \"../create/RuleList\";\nimport { Addon, Graph, Shape } from \"@antv/x6\";\nconst { Stencil } = Addon;\nconst { Rect, Circle } = Shape;\n// 导入链接桩配置\nimport { PortsConfig } from \"../../graph/portsConfig\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { querymodel } from \"../../api/index\";\nimport { setStore } from \"../../utils/storage\";\nimport { connectMetamask } from \"../../api/web3/contracts\";\nimport { downloadFromIPFS } from \"../../utils/ipfsUtil\";\nimport { querymetadata } from \"../../api/index\";\nimport { decryptDataEOA, decryptDataNormal } from \"../../utils/cryptoUtil\";\n\nexport default {\n  data() {\n    return {\n      loaded: false,\n      nodeEditShow: true,\n      visualPanelVisible: false,\n      // uploadShow: false,\n      centerDialogVisible: false,\n    };\n  },\n  components: {\n    VisualPanel,\n    ModelUpload,\n    NodeEdit,\n    ToolsNavbar,\n    MintForm,\n    RuleList,\n  },\n  methods: {\n    ...mapMutations([\n      \"STORAGE_GRAPH\",\n      \"LOAD_GRAPH\",\n      \"POSITIONING_GRAPH\",\n      \"INIT_GRAPH\",\n      \"CLOSE_UPLOAD_DIALOG\",\n      \"SET_EDIT_CELLS\",\n      \"MODIFY_HISTORY_SIMULATE_DATA\",\n      \"MODIFY_CONFIGDATA\",\n      \"SET_USER\",\n      \"LOAD_RULE_LISTS\",\n    ]),\n\n    // 画布初始化\n    initGrapg() {\n      let cur_graph = new Graph({\n        container: document.getElementById(\"canvas-main\"),\n        selecting: true,\n        autoResize: true,\n        history: true,\n        background: {\n          color: \"#fff\",\n        },\n        grid: {\n          size: 30,\n          visible: true,\n        },\n        snapline: {\n          enabled: true,\n          sharp: true,\n        },\n        scroller: {\n          enabled: true,\n          pageVisible: false,\n          pageBreak: false,\n          pannable: true,\n          modifiers: [\"shift\"],\n        },\n        mousewheel: {\n          enabled: true,\n          zoomAtMousePosition: true,\n          modifiers: [\"ctrl\", \"meta\"],\n          minScale: 0.5,\n          maxScale: 3,\n        },\n        connecting: {\n          router: {\n            name: \"manhattan\",\n            args: {\n              padding: 1,\n            },\n          },\n          connector: {\n            name: \"rounded\",\n            args: {\n              radius: 8,\n            },\n          },\n          anchor: \"center\",\n          connectionPoint: \"anchor\",\n          allowBlank: false,\n          snap: {\n            radius: 20,\n          },\n          createEdge() {\n            return new Shape.Edge({\n              attrs: {\n                line: {\n                  // stroke: {\n                  //   type: \"linearGradient\",\n                  //   stops: [\n                  //     { offset: \"0%\", color: \"#ccc\" },\n                  //     { offset: \"50%\", color: \"#73d13d\" },\n                  //     { offset: \"100%\", color: \"#ccc\" },\n                  //   ],\n                  // },\n                  stroke: \"#b3b3b3\",\n                  strokeWidth: 2,\n                  targetMarker: {\n                    name: \"block\",\n                    width: 6,\n                    height: 8,\n                    // fill: \"#ccc\", // 使用自定义填充色\n                    stroke: \"#b3b3b3\", // 使用自定义边框色\n                  },\n                },\n              },\n\n              data: {\n                type: \"Edge\",\n                inside: 0.5,\n                outside: 0.5,\n              },\n              zIndex: 0,\n            });\n          },\n          validateConnection({ targetMagnet }) {\n            return !!targetMagnet;\n          },\n        },\n        highlighting: {\n          magnetAdsorbed: {\n            name: \"stroke\",\n            args: {\n              attrs: {\n                fill: \"#5F95FF\",\n                stroke: \"#5F95FF\",\n              },\n            },\n          },\n        },\n        resizing: {\n          enabled: true,\n        },\n        selecting: {\n          enabled: true,\n          rubberband: true,\n          showNodeSelectionBox: true,\n        },\n\n        keyboard: true,\n        clipboard: true,\n      });\n      this.INIT_GRAPH(cur_graph);\n    },\n\n    // 初始化画布侧边栏\n    initStencil() {\n      this.stencil = new Stencil({\n        title: \"Components\",\n        target: this.graph,\n\n        //collapsable: true,\n        stencilGraphWidth: 200,\n        stencilGraphHeight: 180,\n        groups: [\n          {\n            name: \"Components\",\n          },\n        ],\n      });\n\n      document.getElementById(\"left\").appendChild(this.stencil.container);\n      const stake = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            stakeData: {\n              rewardPolicyFrom: \"\",\n              stakeAmount: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n            },\n          },\n          type: \"Stake\",\n        },\n        attrs: {\n          rect: {\n            fill: \"rgb(156,192,2327)\",\n            stroke: \"#E6A23C\",\n            strokeWidth: 0,\n          },\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n          text: { text: \"Stake\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      const unStake = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            unstakeData: {\n              coolDownTime: 0,\n              unstakeAmount: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n            },\n          },\n          type: \"Unstake\",\n        },\n        attrs: {\n          rect: { fill: \"rgb(164,205,231)\", stroke: \"#67C23A\", strokeWidth: 0 },\n          text: { text: \"Unstake\", fill: \"#fff\" },\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n        },\n        ports: PortsConfig,\n      });\n\n      const token = new Circle({\n        width: 60,\n        height: 60,\n        data: {\n          //业务数据\n          nodeData: {\n            tokenData: {\n              totalSupply: 0,\n              allocations: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n              community: {\n                allocations: [\n                  { name: \"Airdrop\", prop: 0, class: \"airdrop-turntable\" },\n                  { name: \"Staking\", prop: 0, class: \"staking-turntable\" },\n                ],\n                stakingLifetime: 0,\n                stakingRewardRefresh: 0,\n                stakingRewardDecreaseFactor: 0,\n              },\n            },\n          },\n          type: \"Token\",\n        },\n        attrs: {\n          circle: {\n            fill: \"rgb(183,192,228)\",\n            strokeWidth: 0,\n            stroke: \"#409EFF\",\n          },\n          text: { text: \"Token\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      const vest = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            vestData: {\n              vestAmount: [\n                {\n                  name: \"Team\",\n                  prop: 0,\n                  class: \"team-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Investor\",\n                  prop: 0,\n                  class: \"investor-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Advisor\",\n                  prop: 0,\n                  class: \"advisor-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Foundation\",\n                  prop: 0,\n                  class: \"foundation-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Community\",\n                  prop: 0,\n                  class: \"community-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n              ],\n            },\n          },\n          type: \"Vest\",\n        },\n        attrs: {\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n          rect: {\n            fill: \"rgb(205,149,187)\",\n            stroke: \"#F56C6C\",\n            // stroke: {\n            //   type: \"linearGradient\",\n            //   stops: [\n            //     { offset: \"0%\", color: \"#ccc\" },\n            //     { offset: \"50%\", color: \"#73d13d\" },\n            //     { offset: \"100%\", color: \"#ccc\" },\n            //   ],\n            // },\n            strokeWidth: 0,\n          },\n          text: { text: \"Vest\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      this.stencil.load(\n        [token.clone(), vest.clone(), stake.clone(), unStake.clone()],\n        \"Components\"\n      );\n    },\n    //初始化快捷键\n    initShortcutkey() {\n      //快捷事件\n      this.graph.bindKey([\"meta+c\", \"ctrl+c\"], () => {\n        const cells = this.graph.getSelectedCells();\n        if (cells.length) {\n          this.graph.copy(cells);\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+x\", \"ctrl+x\"], () => {\n        const cells = this.graph.getSelectedCells();\n        if (cells.length) {\n          this.graph.cut(cells);\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+v\", \"ctrl+v\"], () => {\n        if (!this.graph.isClipboardEmpty()) {\n          const cells = this.graph.paste({ offset: 32 });\n          this.graph.cleanSelection();\n          this.graph.select(cells);\n        }\n        return false;\n      });\n      //undo redo\n      this.graph.bindKey([\"meta+z\", \"ctrl+z\"], () => {\n        if (this.graph.history.canUndo()) {\n          this.graph.history.undo();\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+shift+z\", \"ctrl+shift+z\"], () => {\n        if (this.graph.history.canRedo()) {\n          this.graph.history.redo();\n        }\n        return false;\n      });\n\n      // select all\n      this.graph.bindKey([\"meta+a\", \"ctrl+a\"], () => {\n        const nodes = this.graph.getNodes();\n        if (nodes) {\n          this.graph.select(nodes);\n        }\n      });\n\n      // zoom\n      this.graph.bindKey([\"ctrl+1\", \"meta+1\"], () => {\n        const zoom = this.graph.zoom();\n        if (zoom < 1.5) {\n          this.graph.zoom(0.1);\n        }\n      });\n      this.graph.bindKey([\"ctrl+2\", \"meta+2\"], () => {\n        const zoom = this.graph.zoom();\n        if (zoom > 0.5) {\n          this.graph.zoom(-0.1);\n        }\n      });\n    },\n    initWatchEvent() {\n      // 节点编辑\n      this.graph.on(\"cell:contextmenu\", ({ e, x, y, cell, view }) => {\n        // TODO (Xufei) 需要重新设计 Token 不能被编辑的逻辑 Token.type == 2 的不能被编辑？\n        // if (\n        //   cell.getData().type == \"Token\" &&\n        //   this.graph.getPredecessors(cell).length != 0\n        // ) {\n        //   this.$message({\n        //     showClose: true,\n        //     message: \"The current node cannot be edited!\",\n        //     type: \"warning\",\n        //   });\n        //   return;\n        // }\n        this.nodeEditShow = false;\n        this.SET_EDIT_CELLS(cell);\n      });\n      // 注册监听事件，当新增节点或边调用，实时存储\n      this.graph.on(\"node:added\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n\n      this.graph.on(\"cell:added\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      this.graph.on(\"cell:changed\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      this.graph.on(\"cell:removed\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      // 控制连接桩显示/隐藏\n      const showPorts = (ports, show) => {\n        for (let i = 0, len = ports.length; i < len; i = i + 1) {\n          ports[i].style.visibility = show ? \"visible\" : \"hidden\";\n        }\n      };\n      this.graph.on(\"node:mouseenter\", () => {\n        const container = document.getElementById(\"canvas-main\");\n        const ports = container.querySelectorAll(\".x6-port-body\");\n        showPorts(ports, true);\n      });\n      this.graph.on(\"node:mouseleave\", () => {\n        const container = document.getElementById(\"canvas-main\");\n        const ports = container.querySelectorAll(\".x6-port-body\");\n        showPorts(ports, false);\n      });\n      this.graph.on(\"cell:dblclick\", ({ cell, e }) => {\n        const name = cell.isEdge() ? \"edge-editor\" : \"node-editor\";\n        cell.removeTool(name);\n        cell.addTools([\n          {\n            name,\n            args: {\n              event: e,\n            },\n          },\n        ]);\n      });\n    },\n    // 节点编辑面板\n    closeNodeEdit() {\n      this.nodeEditShow = true;\n    },\n    closeMintEdit() {\n      this.centerDialogVisible = false;\n    },\n    loadGraphFromBack() {\n      if (this.$route.query.nftId == null) {\n        //导入已有节点信息\n        this.LOAD_GRAPH();\n        //进行一次聚焦\n        this.POSITIONING_GRAPH();\n        return;\n      }\n\n      connectMetamask(this.web3Provider).then((response) => {\n        if (response.status) {\n          this.SET_USER(response.account[0]);\n\n          querymetadata(this.$route.query.nftId).then((metadata) => {\n            if (metadata.message_code == this.statusCode.SUCCESSED) {\n              console.log(\"SUCCESS sync mint data to database\");\n\n              decryptDataEOA(metadata.data.enckey, this.user).then((decryptKey) => {\n                // TODO 对secret data 解密\n                // let decryptSecretData = decryptDataNormal();\n                downloadFromIPFS(metadata.data.privUrl).then((secretData) => {\n                  let decrypted = decryptDataNormal(secretData, decryptKey);\n                  let subSecretData = decrypted.split(\",,,\");\n\n                  let params = subSecretData[1];\n                  let result = subSecretData[2];\n\n                  setStore(\"graph\", subSecretData[0]);\n                  params = JSON.parse(params);\n                  this.MODIFY_CONFIGDATA([\n                    params.configData.simulationDays,\n                    params.configData.simulationSlot,\n                  ]);\n                  this.MODIFY_HISTORY_SIMULATE_DATA(JSON.parse(result));\n                   \n                  //导入已有节点信息\n                  this.LOAD_GRAPH();\n                  //进行一次聚焦\n                  this.POSITIONING_GRAPH();\n                });\n              });\n\n            } else {\n              console.error(\"FAIL sync mint data to database\");\n            }\n          });\n        } else {\n          this.$notify.error({\n            title: \"Error\",\n            message: \"Identity verification failed!\",\n            position: \"bottom-right\",\n          });\n          this.$router.push({\n            path: \"/create\",\n          });\n        }\n      });\n    },\n  },\n\n  mounted() {\n    // 初始化面板\n    this.initGrapg();\n    // 初始化面板相关快捷键\n    this.initShortcutkey();\n    // 初始化左侧控件\n    this.initStencil();\n\n    //判断是否是由详情页跳转过来的\n    this.loadGraphFromBack();\n    //初始化相关监听事件\n    this.initWatchEvent();\n    this.LOAD_RULE_LISTS();\n  },\n  computed: {\n    ...mapState([\n      \"graph\",\n      \"uploadDialog\",\n      \"editNode\",\n      \"statusCode\",\n      \"user\",\n      \"historySimulateData\",\n    ]),\n  },\n  watch: {\n    // uploadDialog(val) {\n    //   this.uploadShow = val;\n    // },\n    // uploadShow(val) {\n    //   if (!val) {\n    //     this.CLOSE_UPLOAD_DIALOG();\n    //   }\n    // },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.models {\n  .draw {\n    .left-container {\n      width: 200px;\n      height: 100%;\n      .left {\n        position: fixed;\n        top: 120px;\n        width: 200px;\n        height: 220px;\n        left: 60px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n        border-radius: 20px;\n        // border: #e9e9e9 1px solid;\n\n        /deep/ .x6-widget-stencil-content {\n          background-color: #fff;\n        }\n        /deep/ .x6-widget-stencil-group-title {\n          background-color: #fff;\n        }\n        /deep/ .x6-widget-stencil-content {\n          border-radius: inherit;\n        }\n        /deep/.x6-widget-stencil-title {\n          border-radius: 20px;\n        }\n        /deep/ .x6-widget-stencil {\n          border-radius: 20px;\n        }\n      }\n\n      .mint-btn {\n        background-color: #fff !important;\n        border: #858585 !important;\n        color: #616060 !important;\n        position: fixed;\n        top: 450px;\n        width: 200px;\n        height: 40px;\n        left: 60px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8) !important;\n        border-radius: 20px;\n      }\n\n      .rule-list {\n        position: fixed;\n        top: 520px;\n        left: 60px;\n        border-radius: 20px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n        height: calc(100% - 580px);\n      }\n    }\n\n    .draw-main-box {\n      position: fixed;\n      left: 250px;\n      // overflow: scroll;\n      width: calc(100% - 250px);\n      height: 100%;\n      //background: url(\"../../assets/bg.png\");\n\n      .editor-section {\n        display: flex;\n        // overflow: scroll;\n        margin-top: 40px;\n        margin-left: 60px;\n        //width: 70%;\n        left: 250px;\n        width: calc(100% - 480px);\n        height: calc(100% - 180px);\n        // border: solid 2px #f4f4f4;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n        border-radius: 30px;\n\n        /deep/ .x6-graph-scroller {\n          border-radius: 30px;\n        }\n\n        /deep/ .x6-graph-scroller-pannable {\n          border-radius: 30px;\n        }\n\n        .canvas-main {\n          flex: 1;\n        }\n      }\n    }\n    .right-default {\n      /* position: fixed;\n      height: calc(100% - 180px);\n      width: 280px;\n      top: 120px;\n      right: 3%;\n      background-color: #ffffff;\n      overflow: scroll;\n      border-radius: 30px;\n      border: 1px solid rgb(232, 231, 231);\n      box-shadow: 0 0 3px rgba(180, 180, 180, 0.8);  */\n\n      .config-data-input {\n        width: 200px;\n        margin-left: 15px;\n        margin-top: 20px;\n      }\n      .day-slider {\n        margin-left: 15px;\n        margin-bottom: 20px;\n        width: 250px;\n        /deep/ .el-slider__bar {\n          background-color: rgb(94, 91, 91);\n        }\n        /deep/ .el-slider__button {\n          border: 2px solid rgb(94, 91, 91);\n          transition: 0s;\n        }\n      }\n      .timer {\n        float: left;\n\n        // margin: 7px 0px 0px 15px;\n\n        width: 20px;\n      }\n    }\n    .right-container {\n      width: 300px;\n      position: fixed;\n      top: 50px;\n      right: 0px;\n      height: 82.5%;\n    }\n  }\n  .data-visual-panel {\n    position: fixed;\n    bottom: 20px;\n    left: 20px;\n    .visual-button {\n      // display: flex;\n      // width: 100%;\n      // &:hover {\n      //   cursor: pointer;\n      // }\n      // span {\n      //   margin: auto;\n      //   padding: 0.3em 1em 0.5em;\n      //   background: #409eff;\n      //   color: white;\n\n      //   border-radius: 3px;\n      //   box-shadow: 0 0 0.5em #858585;\n      //   // animation: shake 2s ease 0s infinite;\n      //   // animation-play-state: paused;\n\n      //   // &:hover {\n      //   //   animation-play-state: running;\n      //   // }\n      // }\n\n      background-color: #fff !important;\n      border: #858585 !important;\n      color: #616060 !important;\n      position: fixed;\n      top: 380px;\n      width: 200px;\n      height: 40px;\n      left: 60px;\n      box-shadow: 0 0 6px rgba(180, 180, 180, 0.8) !important;\n      border-radius: 20px;\n    }\n  }\n  .data-dialog {\n    position: relative;\n    top: -130px;\n  }\n  .show {\n    visibility: hidden;\n  }\n  .visual-dialog {\n    font-size: 20px;\n  }\n  @keyframes shake {\n    from {\n      transform: rotate(0deg);\n    }\n    4% {\n      transform: rotate(5deg);\n    }\n    12.5% {\n      transform: rotate(-5deg);\n    }\n    21% {\n      transform: rotate(5deg);\n    }\n    29% {\n      transform: rotate(-5deg);\n    }\n    37.5% {\n      transform: rotate(5deg);\n    }\n    46% {\n      transform: rotate(-5deg);\n    }\n    50%,\n    to {\n      transform: rotate(0deg);\n    }\n  }\n}\n</style>"]}]}