{"remainingRequest":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangxufei/Desktop/FlowModel/src/components/create/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangxufei/Desktop/FlowModel/src/components/create/Editor.vue","mtime":1652163070441},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWaXN1YWxQYW5lbCBmcm9tICIuL1Zpc3VhbFBhbmVsIjsKaW1wb3J0IE1vZGVsVXBsb2FkIGZyb20gIi4vTW9kZWxVcGxvYWQiOwppbXBvcnQgTm9kZUVkaXQgZnJvbSAiLi9Ob2RlRWRpdCI7CmltcG9ydCBUb29sc05hdmJhciBmcm9tICIuL1Rvb2xzTmF2YmFyIjsKaW1wb3J0IE1pbnRGb3JtIGZyb20gIi4uL1RlbXBsYXRlL01pbnRGb3JtIjsKaW1wb3J0IFJ1bGVMaXN0IGZyb20gIi4uL2NyZWF0ZS9SdWxlTGlzdCI7CmltcG9ydCB7IEFkZG9uLCBHcmFwaCwgU2hhcGUgfSBmcm9tICJAYW50di94NiI7CmNvbnN0IHsgU3RlbmNpbCB9ID0gQWRkb247CmNvbnN0IHsgUmVjdCwgQ2lyY2xlIH0gPSBTaGFwZTsKLy8g5a+85YWl6ZO+5o6l5qGp6YWN572uCmltcG9ydCB7IFBvcnRzQ29uZmlnIH0gZnJvbSAiLi4vLi4vZ3JhcGgvcG9ydHNDb25maWciOwppbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHF1ZXJ5bW9kZWwgfSBmcm9tICIuLi8uLi9hcGkvaW5kZXgiOwppbXBvcnQgeyBzZXRTdG9yZSB9IGZyb20gIi4uLy4uL3V0aWxzL3N0b3JhZ2UiOwppbXBvcnQgeyBjb25uZWN0TWV0YW1hc2sgfSBmcm9tICIuLi8uLi9hcGkvd2ViMy9jb250cmFjdHMiOwoKY29uc3QgYW50bHI0ID0gcmVxdWlyZSgiYW50bHI0Iik7CmNvbnN0IElucHV0U3RyZWFtID0gYW50bHI0LklucHV0U3RyZWFtOwpjb25zdCBDb21tb25Ub2tlblN0cmVhbSA9IGFudGxyNC5Db21tb25Ub2tlblN0cmVhbTsKY29uc3QgR3JhbW1hclBhcnNlciA9IHJlcXVpcmUoIi4uLy4uL3BhcnNlci9Qcm9wZXJ0eVBhcnNlciIpLlByb3BlcnR5UGFyc2VyOwpjb25zdCBHcmFtbWFyTGV4ZXIgPSByZXF1aXJlKCIuLi8uLi9wYXJzZXIvUHJvcGVydHlMZXhlciIpLlByb3BlcnR5TGV4ZXI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgIG5vZGVFZGl0U2hvdzogdHJ1ZSwKICAgICAgdmlzdWFsUGFuZWxWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8gdXBsb2FkU2hvdzogZmFsc2UsCiAgICAgIGNlbnRlckRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFZpc3VhbFBhbmVsLAogICAgTW9kZWxVcGxvYWQsCiAgICBOb2RlRWRpdCwKICAgIFRvb2xzTmF2YmFyLAogICAgTWludEZvcm0sCiAgICBSdWxlTGlzdCwKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcE11dGF0aW9ucyhbCiAgICAgICJTVE9SQUdFX0dSQVBIIiwKICAgICAgIkxPQURfR1JBUEgiLAogICAgICAiUE9TSVRJT05JTkdfR1JBUEgiLAogICAgICAiSU5JVF9HUkFQSCIsCiAgICAgICJDTE9TRV9VUExPQURfRElBTE9HIiwKICAgICAgIlNFVF9FRElUX0NFTExTIiwKICAgICAgIk1PRElGWV9ISVNUT1JZX1NJTVVMQVRFX0RBVEEiLAogICAgICAiTU9ESUZZX0NPTkZJR0RBVEEiLAogICAgICAiU0VUX1VTRVIiLAogICAgICAiTE9BRF9SVUxFX0xJU1RTIiwKICAgIF0pLAoKICAgIC8vIOeUu+W4g+WIneWni+WMlgogICAgaW5pdEdyYXBnKCkgewogICAgICBsZXQgY3VyX2dyYXBoID0gbmV3IEdyYXBoKHsKICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjYW52YXMtbWFpbiIpLAogICAgICAgIHNlbGVjdGluZzogdHJ1ZSwKICAgICAgICBhdXRvUmVzaXplOiB0cnVlLAogICAgICAgIGhpc3Rvcnk6IHRydWUsCiAgICAgICAgYmFja2dyb3VuZDogewogICAgICAgICAgY29sb3I6ICIjZmZmIiwKICAgICAgICB9LAogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIHNpemU6IDMwLAogICAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHNuYXBsaW5lOiB7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgc2hhcnA6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBzY3JvbGxlcjogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIHBhZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgICAgIHBhZ2VCcmVhazogZmFsc2UsCiAgICAgICAgICBwYW5uYWJsZTogdHJ1ZSwKICAgICAgICAgIG1vZGlmaWVyczogWyJzaGlmdCJdLAogICAgICAgIH0sCiAgICAgICAgbW91c2V3aGVlbDogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIHpvb21BdE1vdXNlUG9zaXRpb246IHRydWUsCiAgICAgICAgICBtb2RpZmllcnM6IFsiY3RybCIsICJtZXRhIl0sCiAgICAgICAgICBtaW5TY2FsZTogMC41LAogICAgICAgICAgbWF4U2NhbGU6IDMsCiAgICAgICAgfSwKICAgICAgICBjb25uZWN0aW5nOiB7CiAgICAgICAgICByb3V0ZXI6IHsKICAgICAgICAgICAgbmFtZTogIm1hbmhhdHRhbiIsCiAgICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgICBwYWRkaW5nOiAxLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIGNvbm5lY3RvcjogewogICAgICAgICAgICBuYW1lOiAicm91bmRlZCIsCiAgICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgICByYWRpdXM6IDgsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgYW5jaG9yOiAiY2VudGVyIiwKICAgICAgICAgIGNvbm5lY3Rpb25Qb2ludDogImFuY2hvciIsCiAgICAgICAgICBhbGxvd0JsYW5rOiBmYWxzZSwKICAgICAgICAgIHNuYXA6IHsKICAgICAgICAgICAgcmFkaXVzOiAyMCwKICAgICAgICAgIH0sCiAgICAgICAgICBjcmVhdGVFZGdlKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFNoYXBlLkVkZ2UoewogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBsaW5lOiB7CiAgICAgICAgICAgICAgICAgIC8vIHN0cm9rZTogewogICAgICAgICAgICAgICAgICAvLyAgIHR5cGU6ICJsaW5lYXJHcmFkaWVudCIsCiAgICAgICAgICAgICAgICAgIC8vICAgc3RvcHM6IFsKICAgICAgICAgICAgICAgICAgLy8gICAgIHsgb2Zmc2V0OiAiMCUiLCBjb2xvcjogIiNjY2MiIH0sCiAgICAgICAgICAgICAgICAgIC8vICAgICB7IG9mZnNldDogIjUwJSIsIGNvbG9yOiAiIzczZDEzZCIgfSwKICAgICAgICAgICAgICAgICAgLy8gICAgIHsgb2Zmc2V0OiAiMTAwJSIsIGNvbG9yOiAiI2NjYyIgfSwKICAgICAgICAgICAgICAgICAgLy8gICBdLAogICAgICAgICAgICAgICAgICAvLyB9LAogICAgICAgICAgICAgICAgICBzdHJva2U6ICIjYjNiM2IzIiwKICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDIsCiAgICAgICAgICAgICAgICAgIHRhcmdldE1hcmtlcjogewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJibG9jayIsCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDYsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA4LAogICAgICAgICAgICAgICAgICAgIC8vIGZpbGw6ICIjY2NjIiwgLy8g5L2/55So6Ieq5a6a5LmJ5aGr5YWF6ImyCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAiI2IzYjNiMyIsIC8vIOS9v+eUqOiHquWumuS5iei+ueahhuiJsgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICB0eXBlOiAiRWRnZSIsCiAgICAgICAgICAgICAgICBpbnNpZGU6IDAuNSwKICAgICAgICAgICAgICAgIG91dHNpZGU6IDAuNSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHpJbmRleDogMCwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LAogICAgICAgICAgdmFsaWRhdGVDb25uZWN0aW9uKHsgdGFyZ2V0TWFnbmV0IH0pIHsKICAgICAgICAgICAgcmV0dXJuICEhdGFyZ2V0TWFnbmV0OwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGhpZ2hsaWdodGluZzogewogICAgICAgICAgbWFnbmV0QWRzb3JiZWQ6IHsKICAgICAgICAgICAgbmFtZTogInN0cm9rZSIsCiAgICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgZmlsbDogIiM1Rjk1RkYiLAogICAgICAgICAgICAgICAgc3Ryb2tlOiAiIzVGOTVGRiIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICByZXNpemluZzogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIHNlbGVjdGluZzogewogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICAgIHJ1YmJlcmJhbmQ6IHRydWUsCiAgICAgICAgICBzaG93Tm9kZVNlbGVjdGlvbkJveDogdHJ1ZSwKICAgICAgICB9LAoKICAgICAgICBrZXlib2FyZDogdHJ1ZSwKICAgICAgICBjbGlwYm9hcmQ6IHRydWUsCiAgICAgIH0pOwogICAgICB0aGlzLklOSVRfR1JBUEgoY3VyX2dyYXBoKTsKICAgIH0sCgogICAgLy8g5Yid5aeL5YyW55S75biD5L6n6L655qCPCiAgICBpbml0U3RlbmNpbCgpIHsKICAgICAgdGhpcy5zdGVuY2lsID0gbmV3IFN0ZW5jaWwoewogICAgICAgIHRpdGxlOiAiQ29tcG9uZW50cyIsCiAgICAgICAgdGFyZ2V0OiB0aGlzLmdyYXBoLAoKICAgICAgICAvL2NvbGxhcHNhYmxlOiB0cnVlLAogICAgICAgIHN0ZW5jaWxHcmFwaFdpZHRoOiAyMDAsCiAgICAgICAgc3RlbmNpbEdyYXBoSGVpZ2h0OiAxODAsCiAgICAgICAgZ3JvdXBzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICJDb21wb25lbnRzIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSk7CgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGVmdCIpLmFwcGVuZENoaWxkKHRoaXMuc3RlbmNpbC5jb250YWluZXIpOwogICAgICBjb25zdCBzdGFrZSA9IG5ldyBSZWN0KHsKICAgICAgICB3aWR0aDogNzAsCiAgICAgICAgaGVpZ2h0OiA0MCwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICAvL+S4muWKoeaVsOaNrgogICAgICAgICAgbm9kZURhdGE6IHsKICAgICAgICAgICAgc3Rha2VEYXRhOiB7CiAgICAgICAgICAgICAgcmV3YXJkUG9saWN5RnJvbTogIiIsCiAgICAgICAgICAgICAgc3Rha2VBbW91bnQ6IFsKICAgICAgICAgICAgICAgIHsgbmFtZTogIlRlYW0iLCBwcm9wOiAwLCBjbGFzczogInRlYW0tc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiSW52ZXN0b3IiLCBwcm9wOiAwLCBjbGFzczogImludmVzdG9yLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkFkdmlzb3IiLCBwcm9wOiAwLCBjbGFzczogImFkdmlzb3Itc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiRm91bmRhdGlvbiIsIHByb3A6IDAsIGNsYXNzOiAiZm91bmRhdGlvbi1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJDb21tdW5pdHkiLCBwcm9wOiAwLCBjbGFzczogImNvbW11bml0eS1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAiU3Rha2UiLAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHJlY3Q6IHsKICAgICAgICAgICAgZmlsbDogInJnYigxNTYsMTkyLDIzMjcpIiwKICAgICAgICAgICAgc3Ryb2tlOiAiI0U2QTIzQyIsCiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLAogICAgICAgICAgfSwKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgcng6IDE1LAogICAgICAgICAgICByeTogMTUsCiAgICAgICAgICB9LAogICAgICAgICAgdGV4dDogeyB0ZXh0OiAiU3Rha2UiLCBmaWxsOiAiI2ZmZiIgfSwKICAgICAgICB9LAogICAgICAgIHBvcnRzOiBQb3J0c0NvbmZpZywKICAgICAgfSk7CgogICAgICBjb25zdCB1blN0YWtlID0gbmV3IFJlY3QoewogICAgICAgIHdpZHRoOiA3MCwKICAgICAgICBoZWlnaHQ6IDQwLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIC8v5Lia5Yqh5pWw5o2uCiAgICAgICAgICBub2RlRGF0YTogewogICAgICAgICAgICB1bnN0YWtlRGF0YTogewogICAgICAgICAgICAgIGNvb2xEb3duVGltZTogMCwKICAgICAgICAgICAgICB1bnN0YWtlQW1vdW50OiBbCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJUZWFtIiwgcHJvcDogMCwgY2xhc3M6ICJ0ZWFtLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkludmVzdG9yIiwgcHJvcDogMCwgY2xhc3M6ICJpbnZlc3Rvci1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJBZHZpc29yIiwgcHJvcDogMCwgY2xhc3M6ICJhZHZpc29yLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkZvdW5kYXRpb24iLCBwcm9wOiAwLCBjbGFzczogImZvdW5kYXRpb24tc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiQ29tbXVuaXR5IiwgcHJvcDogMCwgY2xhc3M6ICJjb21tdW5pdHktc2xpZGVyIiB9LAogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogIlVuc3Rha2UiLAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIHJlY3Q6IHsgZmlsbDogInJnYigxNjQsMjA1LDIzMSkiLCBzdHJva2U6ICIjNjdDMjNBIiwgc3Ryb2tlV2lkdGg6IDAgfSwKICAgICAgICAgIHRleHQ6IHsgdGV4dDogIlVuc3Rha2UiLCBmaWxsOiAiI2ZmZiIgfSwKICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgcng6IDE1LAogICAgICAgICAgICByeTogMTUsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgcG9ydHM6IFBvcnRzQ29uZmlnLAogICAgICB9KTsKCiAgICAgIGNvbnN0IHRva2VuID0gbmV3IENpcmNsZSh7CiAgICAgICAgd2lkdGg6IDYwLAogICAgICAgIGhlaWdodDogNjAsCiAgICAgICAgZGF0YTogewogICAgICAgICAgLy/kuJrliqHmlbDmja4KICAgICAgICAgIG5vZGVEYXRhOiB7CiAgICAgICAgICAgIHRva2VuRGF0YTogewogICAgICAgICAgICAgIHRvdGFsU3VwcGx5OiAwLAogICAgICAgICAgICAgIGFsbG9jYXRpb25zOiBbCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJUZWFtIiwgcHJvcDogMCwgY2xhc3M6ICJ0ZWFtLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkludmVzdG9yIiwgcHJvcDogMCwgY2xhc3M6ICJpbnZlc3Rvci1zbGlkZXIiIH0sCiAgICAgICAgICAgICAgICB7IG5hbWU6ICJBZHZpc29yIiwgcHJvcDogMCwgY2xhc3M6ICJhZHZpc29yLXNsaWRlciIgfSwKICAgICAgICAgICAgICAgIHsgbmFtZTogIkZvdW5kYXRpb24iLCBwcm9wOiAwLCBjbGFzczogImZvdW5kYXRpb24tc2xpZGVyIiB9LAogICAgICAgICAgICAgICAgeyBuYW1lOiAiQ29tbXVuaXR5IiwgcHJvcDogMCwgY2xhc3M6ICJjb21tdW5pdHktc2xpZGVyIiB9LAogICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgY29tbXVuaXR5OiB7CiAgICAgICAgICAgICAgICBhbGxvY2F0aW9uczogWwogICAgICAgICAgICAgICAgICB7IG5hbWU6ICJBaXJkcm9wIiwgcHJvcDogMCwgY2xhc3M6ICJhaXJkcm9wLXR1cm50YWJsZSIgfSwKICAgICAgICAgICAgICAgICAgeyBuYW1lOiAiU3Rha2luZyIsIHByb3A6IDAsIGNsYXNzOiAic3Rha2luZy10dXJudGFibGUiIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgc3Rha2luZ0xpZmV0aW1lOiAwLAogICAgICAgICAgICAgICAgc3Rha2luZ1Jld2FyZFJlZnJlc2g6IDAsCiAgICAgICAgICAgICAgICBzdGFraW5nUmV3YXJkRGVjcmVhc2VGYWN0b3I6IDAsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgICB0eXBlOiAiVG9rZW4iLAogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICBmaWxsOiAicmdiKDE4MywxOTIsMjI4KSIsCiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLAogICAgICAgICAgICBzdHJva2U6ICIjNDA5RUZGIiwKICAgICAgICAgIH0sCiAgICAgICAgICB0ZXh0OiB7IHRleHQ6ICJUb2tlbiIsIGZpbGw6ICIjZmZmIiB9LAogICAgICAgIH0sCiAgICAgICAgcG9ydHM6IFBvcnRzQ29uZmlnLAogICAgICB9KTsKCiAgICAgIGNvbnN0IHZlc3QgPSBuZXcgUmVjdCh7CiAgICAgICAgd2lkdGg6IDcwLAogICAgICAgIGhlaWdodDogNDAsCiAgICAgICAgZGF0YTogewogICAgICAgICAgLy/kuJrliqHmlbDmja4KICAgICAgICAgIG5vZGVEYXRhOiB7CiAgICAgICAgICAgIHZlc3REYXRhOiB7CiAgICAgICAgICAgICAgdmVzdEFtb3VudDogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBuYW1lOiAiVGVhbSIsCiAgICAgICAgICAgICAgICAgIHByb3A6IDAsCiAgICAgICAgICAgICAgICAgIGNsYXNzOiAidGVhbS1zbGlkZXIiLAogICAgICAgICAgICAgICAgICBsb2NrVXBUaW1lOiAwLAogICAgICAgICAgICAgICAgICByZWxlYXNlUGVyaW9kOiAwLAogICAgICAgICAgICAgICAgICBjbGlmZjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJJbnZlc3RvciIsCiAgICAgICAgICAgICAgICAgIHByb3A6IDAsCiAgICAgICAgICAgICAgICAgIGNsYXNzOiAiaW52ZXN0b3Itc2xpZGVyIiwKICAgICAgICAgICAgICAgICAgbG9ja1VwVGltZTogMCwKICAgICAgICAgICAgICAgICAgcmVsZWFzZVBlcmlvZDogMCwKICAgICAgICAgICAgICAgICAgY2xpZmY6IDAsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBuYW1lOiAiQWR2aXNvciIsCiAgICAgICAgICAgICAgICAgIHByb3A6IDAsCiAgICAgICAgICAgICAgICAgIGNsYXNzOiAiYWR2aXNvci1zbGlkZXIiLAogICAgICAgICAgICAgICAgICBsb2NrVXBUaW1lOiAwLAogICAgICAgICAgICAgICAgICByZWxlYXNlUGVyaW9kOiAwLAogICAgICAgICAgICAgICAgICBjbGlmZjogMCwKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICJGb3VuZGF0aW9uIiwKICAgICAgICAgICAgICAgICAgcHJvcDogMCwKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJmb3VuZGF0aW9uLXNsaWRlciIsCiAgICAgICAgICAgICAgICAgIGxvY2tVcFRpbWU6IDAsCiAgICAgICAgICAgICAgICAgIHJlbGVhc2VQZXJpb2Q6IDAsCiAgICAgICAgICAgICAgICAgIGNsaWZmOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbmFtZTogIkNvbW11bml0eSIsCiAgICAgICAgICAgICAgICAgIHByb3A6IDAsCiAgICAgICAgICAgICAgICAgIGNsYXNzOiAiY29tbXVuaXR5LXNsaWRlciIsCiAgICAgICAgICAgICAgICAgIGxvY2tVcFRpbWU6IDAsCiAgICAgICAgICAgICAgICAgIHJlbGVhc2VQZXJpb2Q6IDAsCiAgICAgICAgICAgICAgICAgIGNsaWZmOiAwLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGU6ICJWZXN0IiwKICAgICAgICB9LAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICBib2R5OiB7CiAgICAgICAgICAgIHJ4OiAxNSwKICAgICAgICAgICAgcnk6IDE1LAogICAgICAgICAgfSwKICAgICAgICAgIHJlY3Q6IHsKICAgICAgICAgICAgZmlsbDogInJnYigyMDUsMTQ5LDE4NykiLAogICAgICAgICAgICBzdHJva2U6ICIjRjU2QzZDIiwKICAgICAgICAgICAgLy8gc3Ryb2tlOiB7CiAgICAgICAgICAgIC8vICAgdHlwZTogImxpbmVhckdyYWRpZW50IiwKICAgICAgICAgICAgLy8gICBzdG9wczogWwogICAgICAgICAgICAvLyAgICAgeyBvZmZzZXQ6ICIwJSIsIGNvbG9yOiAiI2NjYyIgfSwKICAgICAgICAgICAgLy8gICAgIHsgb2Zmc2V0OiAiNTAlIiwgY29sb3I6ICIjNzNkMTNkIiB9LAogICAgICAgICAgICAvLyAgICAgeyBvZmZzZXQ6ICIxMDAlIiwgY29sb3I6ICIjY2NjIiB9LAogICAgICAgICAgICAvLyAgIF0sCiAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLAogICAgICAgICAgfSwKICAgICAgICAgIHRleHQ6IHsgdGV4dDogIlZlc3QiLCBmaWxsOiAiI2ZmZiIgfSwKICAgICAgICB9LAogICAgICAgIHBvcnRzOiBQb3J0c0NvbmZpZywKICAgICAgfSk7CgogICAgICB0aGlzLnN0ZW5jaWwubG9hZCgKICAgICAgICBbdG9rZW4uY2xvbmUoKSwgdmVzdC5jbG9uZSgpLCBzdGFrZS5jbG9uZSgpLCB1blN0YWtlLmNsb25lKCldLAogICAgICAgICJDb21wb25lbnRzIgogICAgICApOwogICAgfSwKICAgIC8v5Yid5aeL5YyW5b+r5o236ZSuCiAgICBpbml0U2hvcnRjdXRrZXkoKSB7CiAgICAgIC8v5b+r5o235LqL5Lu2CiAgICAgIHRoaXMuZ3JhcGguYmluZEtleShbIm1ldGErYyIsICJjdHJsK2MiXSwgKCkgPT4gewogICAgICAgIGNvbnN0IGNlbGxzID0gdGhpcy5ncmFwaC5nZXRTZWxlY3RlZENlbGxzKCk7CiAgICAgICAgaWYgKGNlbGxzLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5ncmFwaC5jb3B5KGNlbGxzKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsibWV0YSt4IiwgImN0cmwreCJdLCAoKSA9PiB7CiAgICAgICAgY29uc3QgY2VsbHMgPSB0aGlzLmdyYXBoLmdldFNlbGVjdGVkQ2VsbHMoKTsKICAgICAgICBpZiAoY2VsbHMubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmdyYXBoLmN1dChjZWxscyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGguYmluZEtleShbIm1ldGErdiIsICJjdHJsK3YiXSwgKCkgPT4gewogICAgICAgIGlmICghdGhpcy5ncmFwaC5pc0NsaXBib2FyZEVtcHR5KCkpIHsKICAgICAgICAgIGNvbnN0IGNlbGxzID0gdGhpcy5ncmFwaC5wYXN0ZSh7IG9mZnNldDogMzIgfSk7CiAgICAgICAgICB0aGlzLmdyYXBoLmNsZWFuU2VsZWN0aW9uKCk7CiAgICAgICAgICB0aGlzLmdyYXBoLnNlbGVjdChjZWxscyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICAgIC8vdW5kbyByZWRvCiAgICAgIHRoaXMuZ3JhcGguYmluZEtleShbIm1ldGEreiIsICJjdHJsK3oiXSwgKCkgPT4gewogICAgICAgIGlmICh0aGlzLmdyYXBoLmhpc3RvcnkuY2FuVW5kbygpKSB7CiAgICAgICAgICB0aGlzLmdyYXBoLmhpc3RvcnkudW5kbygpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgICB0aGlzLmdyYXBoLmJpbmRLZXkoWyJtZXRhK3NoaWZ0K3oiLCAiY3RybCtzaGlmdCt6Il0sICgpID0+IHsKICAgICAgICBpZiAodGhpcy5ncmFwaC5oaXN0b3J5LmNhblJlZG8oKSkgewogICAgICAgICAgdGhpcy5ncmFwaC5oaXN0b3J5LnJlZG8oKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKCiAgICAgIC8vIHNlbGVjdCBhbGwKICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsibWV0YSthIiwgImN0cmwrYSJdLCAoKSA9PiB7CiAgICAgICAgY29uc3Qgbm9kZXMgPSB0aGlzLmdyYXBoLmdldE5vZGVzKCk7CiAgICAgICAgaWYgKG5vZGVzKSB7CiAgICAgICAgICB0aGlzLmdyYXBoLnNlbGVjdChub2Rlcyk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIC8vIHpvb20KICAgICAgdGhpcy5ncmFwaC5iaW5kS2V5KFsiY3RybCsxIiwgIm1ldGErMSJdLCAoKSA9PiB7CiAgICAgICAgY29uc3Qgem9vbSA9IHRoaXMuZ3JhcGguem9vbSgpOwogICAgICAgIGlmICh6b29tIDwgMS41KSB7CiAgICAgICAgICB0aGlzLmdyYXBoLnpvb20oMC4xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmdyYXBoLmJpbmRLZXkoWyJjdHJsKzIiLCAibWV0YSsyIl0sICgpID0+IHsKICAgICAgICBjb25zdCB6b29tID0gdGhpcy5ncmFwaC56b29tKCk7CiAgICAgICAgaWYgKHpvb20gPiAwLjUpIHsKICAgICAgICAgIHRoaXMuZ3JhcGguem9vbSgtMC4xKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRXYXRjaEV2ZW50KCkgewogICAgICAvLyDoioLngrnnvJbovpEKICAgICAgdGhpcy5ncmFwaC5vbigiY2VsbDpjb250ZXh0bWVudSIsICh7IGUsIHgsIHksIGNlbGwsIHZpZXcgfSkgPT4gewogICAgICAgIC8vIFRPRE8gKFh1ZmVpKSDpnIDopoHph43mlrDorr7orqEgVG9rZW4g5LiN6IO96KKr57yW6L6R55qE6YC76L6RIFRva2VuLnR5cGUgPT0gMiDnmoTkuI3og73ooqvnvJbovpHvvJ8KICAgICAgICAvLyBpZiAoCiAgICAgICAgLy8gICBjZWxsLmdldERhdGEoKS50eXBlID09ICJUb2tlbiIgJiYKICAgICAgICAvLyAgIHRoaXMuZ3JhcGguZ2V0UHJlZGVjZXNzb3JzKGNlbGwpLmxlbmd0aCAhPSAwCiAgICAgICAgLy8gKSB7CiAgICAgICAgLy8gICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAvLyAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgIC8vICAgICBtZXNzYWdlOiAiVGhlIGN1cnJlbnQgbm9kZSBjYW5ub3QgYmUgZWRpdGVkISIsCiAgICAgICAgLy8gICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAvLyAgIH0pOwogICAgICAgIC8vICAgcmV0dXJuOwogICAgICAgIC8vIH0KICAgICAgICB0aGlzLm5vZGVFZGl0U2hvdyA9IGZhbHNlOwogICAgICAgIHRoaXMuU0VUX0VESVRfQ0VMTFMoY2VsbCk7CiAgICAgIH0pOwogICAgICAvLyDms6jlhoznm5HlkKzkuovku7bvvIzlvZPmlrDlop7oioLngrnmiJbovrnosIPnlKjvvIzlrp7ml7blrZjlgqgKICAgICAgdGhpcy5ncmFwaC5vbigibm9kZTphZGRlZCIsICh7IGNlbGwsIG9wdGlvbnMgfSkgPT4gewogICAgICAgIHRoaXMuU1RPUkFHRV9HUkFQSCgpOwogICAgICB9KTsKCiAgICAgIHRoaXMuZ3JhcGgub24oImNlbGw6YWRkZWQiLCAoeyBjZWxsLCBvcHRpb25zIH0pID0+IHsKICAgICAgICB0aGlzLlNUT1JBR0VfR1JBUEgoKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGgub24oImNlbGw6Y2hhbmdlZCIsICh7IGNlbGwsIG9wdGlvbnMgfSkgPT4gewogICAgICAgIHRoaXMuU1RPUkFHRV9HUkFQSCgpOwogICAgICB9KTsKICAgICAgdGhpcy5ncmFwaC5vbigiY2VsbDpyZW1vdmVkIiwgKHsgY2VsbCwgb3B0aW9ucyB9KSA9PiB7CiAgICAgICAgdGhpcy5TVE9SQUdFX0dSQVBIKCk7CiAgICAgIH0pOwogICAgICAvLyDmjqfliLbov57mjqXmoanmmL7npLov6ZqQ6JePCiAgICAgIGNvbnN0IHNob3dQb3J0cyA9IChwb3J0cywgc2hvdykgPT4gewogICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwb3J0cy5sZW5ndGg7IGkgPCBsZW47IGkgPSBpICsgMSkgewogICAgICAgICAgcG9ydHNbaV0uc3R5bGUudmlzaWJpbGl0eSA9IHNob3cgPyAidmlzaWJsZSIgOiAiaGlkZGVuIjsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuZ3JhcGgub24oIm5vZGU6bW91c2VlbnRlciIsICgpID0+IHsKICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzLW1haW4iKTsKICAgICAgICBjb25zdCBwb3J0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIueDYtcG9ydC1ib2R5Iik7CiAgICAgICAgc2hvd1BvcnRzKHBvcnRzLCB0cnVlKTsKICAgICAgfSk7CiAgICAgIHRoaXMuZ3JhcGgub24oIm5vZGU6bW91c2VsZWF2ZSIsICgpID0+IHsKICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzLW1haW4iKTsKICAgICAgICBjb25zdCBwb3J0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCIueDYtcG9ydC1ib2R5Iik7CiAgICAgICAgc2hvd1BvcnRzKHBvcnRzLCBmYWxzZSk7CiAgICAgIH0pOwogICAgICB0aGlzLmdyYXBoLm9uKCJjZWxsOmRibGNsaWNrIiwgKHsgY2VsbCwgZSB9KSA9PiB7CiAgICAgICAgY29uc3QgbmFtZSA9IGNlbGwuaXNFZGdlKCkgPyAiZWRnZS1lZGl0b3IiIDogIm5vZGUtZWRpdG9yIjsKICAgICAgICBjZWxsLnJlbW92ZVRvb2wobmFtZSk7CiAgICAgICAgY2VsbC5hZGRUb29scyhbCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWUsCiAgICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgICBldmVudDogZSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0sCiAgICAgICAgXSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiKgueCuee8lui+kemdouadvwogICAgY2xvc2VOb2RlRWRpdCgpIHsKICAgICAgdGhpcy5ub2RlRWRpdFNob3cgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlTWludEVkaXQoKSB7CiAgICAgIHRoaXMuY2VudGVyRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGxvYWRHcmFwaEZyb21CYWNrKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucXVlcnkubWV0YWRhdGFIYXNoID09IG51bGwpIHsKICAgICAgICAvL+WvvOWFpeW3suacieiKgueCueS/oeaBrwogICAgICAgIHRoaXMuTE9BRF9HUkFQSCgpOwogICAgICAgIC8v6L+b6KGM5LiA5qyh6IGa54SmCiAgICAgICAgdGhpcy5QT1NJVElPTklOR19HUkFQSCgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29ubmVjdE1ldGFtYXNrKHRoaXMud2ViM1Byb3ZpZGVyKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMpIHsKICAgICAgICAgIHRoaXMuU0VUX1VTRVIocmVzcG9uc2UuYWNjb3VudFswXSk7CgogICAgICAgICAgY29uc3QgcmVxID0gewogICAgICAgICAgICBhY2NvdW50QWRkcjogdGhpcy51c2VyLAogICAgICAgICAgICBtZXRhZGF0YUhhc2g6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1ldGFkYXRhSGFzaCwKICAgICAgICAgIH07CiAgICAgICAgICBxdWVyeW1vZGVsKHJlcSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMubWVzc2FnZV9jb2RlID09IHRoaXMuc3RhdHVzQ29kZS5TVUNDRVNTRUQpIHsKICAgICAgICAgICAgICBjb25zdCBtb2RlbERhdGEgPSBKU09OLnBhcnNlKHJlcy5kYXRhLm1vZGVsRGF0YSk7CiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IEpTT04ucGFyc2UocmVzLmRhdGEucmVzdWx0cyk7CiAgICAgICAgICAgICAgdGhpcy5NT0RJRllfSElTVE9SWV9TSU1VTEFURV9EQVRBKHJlc3VsdHMpOwogICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IEpTT04ucGFyc2UocmVzLmRhdGEucGFyYW1zKTsKICAgICAgICAgICAgICB0aGlzLk1PRElGWV9DT05GSUdEQVRBKFsKICAgICAgICAgICAgICAgIHBhcmFtcy5jb25maWdEYXRhLnNpbXVsYXRpb25EYXlzLAogICAgICAgICAgICAgICAgcGFyYW1zLmNvbmZpZ0RhdGEuc2ltdWxhdGlvblNsb3QsCiAgICAgICAgICAgICAgXSk7CiAgICAgICAgICAgICAgc2V0U3RvcmUoImdyYXBoIiwgbW9kZWxEYXRhKTsKCiAgICAgICAgICAgICAgLy/lr7zlhaXlt7LmnInoioLngrnkv6Hmga8KICAgICAgICAgICAgICB0aGlzLkxPQURfR1JBUEgoKTsKICAgICAgICAgICAgICAvL+i/m+ihjOS4gOasoeiBmueEpgogICAgICAgICAgICAgIHRoaXMuUE9TSVRJT05JTkdfR1JBUEgoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAiSWRlbnRpdHkgdmVyaWZpY2F0aW9uIGZhaWxlZCEiLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIHBhdGg6ICIvY3JlYXRlIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAiRXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiAiSWRlbnRpdHkgdmVyaWZpY2F0aW9uIGZhaWxlZCEiLAogICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogIi9jcmVhdGUiLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIC8vIOWIneWni+WMlumdouadvwogICAgdGhpcy5pbml0R3JhcGcoKTsKICAgIC8vIOWIneWni+WMlumdouadv+ebuOWFs+W/q+aNt+mUrgogICAgdGhpcy5pbml0U2hvcnRjdXRrZXkoKTsKICAgIC8vIOWIneWni+WMluW3puS+p+aOp+S7tgogICAgdGhpcy5pbml0U3RlbmNpbCgpOwoKICAgIC8v5Yik5pat5piv5ZCm5piv55Sx6K+m5oOF6aG16Lez6L2s6L+H5p2l55qECiAgICB0aGlzLmxvYWRHcmFwaEZyb21CYWNrKCk7CiAgICAvL+WIneWni+WMluebuOWFs+ebkeWQrOS6i+S7tgogICAgdGhpcy5pbml0V2F0Y2hFdmVudCgpOwogICAgdGhpcy5MT0FEX1JVTEVfTElTVFMoKTsKICAgIAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsKICAgICAgImdyYXBoIiwKICAgICAgInVwbG9hZERpYWxvZyIsCiAgICAgICJlZGl0Tm9kZSIsCiAgICAgICJzdGF0dXNDb2RlIiwKICAgICAgInVzZXIiLAogICAgICAiaGlzdG9yeVNpbXVsYXRlRGF0YSIsCiAgICBdKSwKICB9LAogIHdhdGNoOiB7CiAgICAvLyB1cGxvYWREaWFsb2codmFsKSB7CiAgICAvLyAgIHRoaXMudXBsb2FkU2hvdyA9IHZhbDsKICAgIC8vIH0sCiAgICAvLyB1cGxvYWRTaG93KHZhbCkgewogICAgLy8gICBpZiAoIXZhbCkgewogICAgLy8gICAgIHRoaXMuQ0xPU0VfVVBMT0FEX0RJQUxPRygpOwogICAgLy8gICB9CiAgICAvLyB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Editor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Editor.vue","sourceRoot":"src/components/create","sourcesContent":["<template>\n  <div class=\"models\">\n    <div class=\"draw\">\n      <!-- 左侧控件 -->\n      <div class=\"left-container\">\n        <div class=\"left\" id=\"left\"></div>\n\n        <!-- Mint 按钮 -->\n        <el-button\n          type=\"text\"\n          class=\"mint-btn\"\n          @click=\"centerDialogVisible = true\"\n        >\n          Mint\n        </el-button>\n        <el-dialog\n          title=\"Mint New Model\"\n          :visible.sync=\"centerDialogVisible\"\n          width=\"30%\"\n          center\n        >\n          <MintForm :close=\"closeMintEdit\" />\n          <!-- <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"centerDialogVisible = false\">Cancel</el-button>\n            <el-button type=\"primary\" @click=\"centerDialogVisible = false\">Confirm</el-button>\n          </span> -->\n        </el-dialog>\n        <div class=\"rule-list\">\n          <RuleList />\n        </div>\n      </div>\n      <div class=\"draw-main-box\">\n        <!-- 面板中心区域 -->\n        <div class=\"editor-section\">\n          <div id=\"canvas-main\" class=\"canvas-main\"></div>\n        </div>\n      </div>\n      <!-- 工具导航栏 -->\n      <div class=\"tools-navbar\">\n        <div class=\"tools-navbar\" id=\"tools-navbar\">\n          <ToolsNavbar />\n        </div>\n      </div>\n      <!-- 右侧控件 -->\n      <transition name=\"el-fade-in-linear\">\n        <div class=\"right-container\" v-bind:class=\"{ show: nodeEditShow }\">\n          <NodeEdit :closeNodeEdit=\"closeNodeEdit\" />\n        </div>\n      </transition>\n    </div>\n    <!-- 数据可视化面板 -->\n    <div class=\"data-visual-panel\">\n      <el-button class=\"visual-button\" @click=\"visualPanelVisible = true\">\n        Data Visualization\n      </el-button>\n    </div>\n    <el-dialog\n      title=\"Modeling data visualization\"\n      :visible.sync=\"visualPanelVisible\"\n      width=\"60%\"\n    >\n      <VisualPanel />\n    </el-dialog>\n    <!-- 模型导入面板 -->\n    <!-- <el-dialog title=\"Model upload\" :visible.sync=\"uploadShow\" width=\"60%\">\n      <ModelUpload />\n    </el-dialog> -->\n  </div>\n</template>\n\n<script>\nimport VisualPanel from \"./VisualPanel\";\nimport ModelUpload from \"./ModelUpload\";\nimport NodeEdit from \"./NodeEdit\";\nimport ToolsNavbar from \"./ToolsNavbar\";\nimport MintForm from \"../Template/MintForm\";\nimport RuleList from \"../create/RuleList\";\nimport { Addon, Graph, Shape } from \"@antv/x6\";\nconst { Stencil } = Addon;\nconst { Rect, Circle } = Shape;\n// 导入链接桩配置\nimport { PortsConfig } from \"../../graph/portsConfig\";\nimport { mapState, mapMutations } from \"vuex\";\nimport { querymodel } from \"../../api/index\";\nimport { setStore } from \"../../utils/storage\";\nimport { connectMetamask } from \"../../api/web3/contracts\";\n\nconst antlr4 = require(\"antlr4\");\nconst InputStream = antlr4.InputStream;\nconst CommonTokenStream = antlr4.CommonTokenStream;\nconst GrammarParser = require(\"../../parser/PropertyParser\").PropertyParser;\nconst GrammarLexer = require(\"../../parser/PropertyLexer\").PropertyLexer;\n\nexport default {\n  data() {\n    return {\n      loaded: false,\n      nodeEditShow: true,\n      visualPanelVisible: false,\n      // uploadShow: false,\n      centerDialogVisible: false,\n    };\n  },\n  components: {\n    VisualPanel,\n    ModelUpload,\n    NodeEdit,\n    ToolsNavbar,\n    MintForm,\n    RuleList,\n  },\n  methods: {\n    ...mapMutations([\n      \"STORAGE_GRAPH\",\n      \"LOAD_GRAPH\",\n      \"POSITIONING_GRAPH\",\n      \"INIT_GRAPH\",\n      \"CLOSE_UPLOAD_DIALOG\",\n      \"SET_EDIT_CELLS\",\n      \"MODIFY_HISTORY_SIMULATE_DATA\",\n      \"MODIFY_CONFIGDATA\",\n      \"SET_USER\",\n      \"LOAD_RULE_LISTS\",\n    ]),\n\n    // 画布初始化\n    initGrapg() {\n      let cur_graph = new Graph({\n        container: document.getElementById(\"canvas-main\"),\n        selecting: true,\n        autoResize: true,\n        history: true,\n        background: {\n          color: \"#fff\",\n        },\n        grid: {\n          size: 30,\n          visible: true,\n        },\n        snapline: {\n          enabled: true,\n          sharp: true,\n        },\n        scroller: {\n          enabled: true,\n          pageVisible: false,\n          pageBreak: false,\n          pannable: true,\n          modifiers: [\"shift\"],\n        },\n        mousewheel: {\n          enabled: true,\n          zoomAtMousePosition: true,\n          modifiers: [\"ctrl\", \"meta\"],\n          minScale: 0.5,\n          maxScale: 3,\n        },\n        connecting: {\n          router: {\n            name: \"manhattan\",\n            args: {\n              padding: 1,\n            },\n          },\n          connector: {\n            name: \"rounded\",\n            args: {\n              radius: 8,\n            },\n          },\n          anchor: \"center\",\n          connectionPoint: \"anchor\",\n          allowBlank: false,\n          snap: {\n            radius: 20,\n          },\n          createEdge() {\n            return new Shape.Edge({\n              attrs: {\n                line: {\n                  // stroke: {\n                  //   type: \"linearGradient\",\n                  //   stops: [\n                  //     { offset: \"0%\", color: \"#ccc\" },\n                  //     { offset: \"50%\", color: \"#73d13d\" },\n                  //     { offset: \"100%\", color: \"#ccc\" },\n                  //   ],\n                  // },\n                  stroke: \"#b3b3b3\",\n                  strokeWidth: 2,\n                  targetMarker: {\n                    name: \"block\",\n                    width: 6,\n                    height: 8,\n                    // fill: \"#ccc\", // 使用自定义填充色\n                    stroke: \"#b3b3b3\", // 使用自定义边框色\n                  },\n                },\n              },\n\n              data: {\n                type: \"Edge\",\n                inside: 0.5,\n                outside: 0.5,\n              },\n              zIndex: 0,\n            });\n          },\n          validateConnection({ targetMagnet }) {\n            return !!targetMagnet;\n          },\n        },\n        highlighting: {\n          magnetAdsorbed: {\n            name: \"stroke\",\n            args: {\n              attrs: {\n                fill: \"#5F95FF\",\n                stroke: \"#5F95FF\",\n              },\n            },\n          },\n        },\n        resizing: {\n          enabled: true,\n        },\n        selecting: {\n          enabled: true,\n          rubberband: true,\n          showNodeSelectionBox: true,\n        },\n\n        keyboard: true,\n        clipboard: true,\n      });\n      this.INIT_GRAPH(cur_graph);\n    },\n\n    // 初始化画布侧边栏\n    initStencil() {\n      this.stencil = new Stencil({\n        title: \"Components\",\n        target: this.graph,\n\n        //collapsable: true,\n        stencilGraphWidth: 200,\n        stencilGraphHeight: 180,\n        groups: [\n          {\n            name: \"Components\",\n          },\n        ],\n      });\n\n      document.getElementById(\"left\").appendChild(this.stencil.container);\n      const stake = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            stakeData: {\n              rewardPolicyFrom: \"\",\n              stakeAmount: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n            },\n          },\n          type: \"Stake\",\n        },\n        attrs: {\n          rect: {\n            fill: \"rgb(156,192,2327)\",\n            stroke: \"#E6A23C\",\n            strokeWidth: 0,\n          },\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n          text: { text: \"Stake\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      const unStake = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            unstakeData: {\n              coolDownTime: 0,\n              unstakeAmount: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n            },\n          },\n          type: \"Unstake\",\n        },\n        attrs: {\n          rect: { fill: \"rgb(164,205,231)\", stroke: \"#67C23A\", strokeWidth: 0 },\n          text: { text: \"Unstake\", fill: \"#fff\" },\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n        },\n        ports: PortsConfig,\n      });\n\n      const token = new Circle({\n        width: 60,\n        height: 60,\n        data: {\n          //业务数据\n          nodeData: {\n            tokenData: {\n              totalSupply: 0,\n              allocations: [\n                { name: \"Team\", prop: 0, class: \"team-slider\" },\n                { name: \"Investor\", prop: 0, class: \"investor-slider\" },\n                { name: \"Advisor\", prop: 0, class: \"advisor-slider\" },\n                { name: \"Foundation\", prop: 0, class: \"foundation-slider\" },\n                { name: \"Community\", prop: 0, class: \"community-slider\" },\n              ],\n              community: {\n                allocations: [\n                  { name: \"Airdrop\", prop: 0, class: \"airdrop-turntable\" },\n                  { name: \"Staking\", prop: 0, class: \"staking-turntable\" },\n                ],\n                stakingLifetime: 0,\n                stakingRewardRefresh: 0,\n                stakingRewardDecreaseFactor: 0,\n              },\n            },\n          },\n          type: \"Token\",\n        },\n        attrs: {\n          circle: {\n            fill: \"rgb(183,192,228)\",\n            strokeWidth: 0,\n            stroke: \"#409EFF\",\n          },\n          text: { text: \"Token\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      const vest = new Rect({\n        width: 70,\n        height: 40,\n        data: {\n          //业务数据\n          nodeData: {\n            vestData: {\n              vestAmount: [\n                {\n                  name: \"Team\",\n                  prop: 0,\n                  class: \"team-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Investor\",\n                  prop: 0,\n                  class: \"investor-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Advisor\",\n                  prop: 0,\n                  class: \"advisor-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Foundation\",\n                  prop: 0,\n                  class: \"foundation-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n                {\n                  name: \"Community\",\n                  prop: 0,\n                  class: \"community-slider\",\n                  lockUpTime: 0,\n                  releasePeriod: 0,\n                  cliff: 0,\n                },\n              ],\n            },\n          },\n          type: \"Vest\",\n        },\n        attrs: {\n          body: {\n            rx: 15,\n            ry: 15,\n          },\n          rect: {\n            fill: \"rgb(205,149,187)\",\n            stroke: \"#F56C6C\",\n            // stroke: {\n            //   type: \"linearGradient\",\n            //   stops: [\n            //     { offset: \"0%\", color: \"#ccc\" },\n            //     { offset: \"50%\", color: \"#73d13d\" },\n            //     { offset: \"100%\", color: \"#ccc\" },\n            //   ],\n            // },\n            strokeWidth: 0,\n          },\n          text: { text: \"Vest\", fill: \"#fff\" },\n        },\n        ports: PortsConfig,\n      });\n\n      this.stencil.load(\n        [token.clone(), vest.clone(), stake.clone(), unStake.clone()],\n        \"Components\"\n      );\n    },\n    //初始化快捷键\n    initShortcutkey() {\n      //快捷事件\n      this.graph.bindKey([\"meta+c\", \"ctrl+c\"], () => {\n        const cells = this.graph.getSelectedCells();\n        if (cells.length) {\n          this.graph.copy(cells);\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+x\", \"ctrl+x\"], () => {\n        const cells = this.graph.getSelectedCells();\n        if (cells.length) {\n          this.graph.cut(cells);\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+v\", \"ctrl+v\"], () => {\n        if (!this.graph.isClipboardEmpty()) {\n          const cells = this.graph.paste({ offset: 32 });\n          this.graph.cleanSelection();\n          this.graph.select(cells);\n        }\n        return false;\n      });\n      //undo redo\n      this.graph.bindKey([\"meta+z\", \"ctrl+z\"], () => {\n        if (this.graph.history.canUndo()) {\n          this.graph.history.undo();\n        }\n        return false;\n      });\n      this.graph.bindKey([\"meta+shift+z\", \"ctrl+shift+z\"], () => {\n        if (this.graph.history.canRedo()) {\n          this.graph.history.redo();\n        }\n        return false;\n      });\n\n      // select all\n      this.graph.bindKey([\"meta+a\", \"ctrl+a\"], () => {\n        const nodes = this.graph.getNodes();\n        if (nodes) {\n          this.graph.select(nodes);\n        }\n      });\n\n      // zoom\n      this.graph.bindKey([\"ctrl+1\", \"meta+1\"], () => {\n        const zoom = this.graph.zoom();\n        if (zoom < 1.5) {\n          this.graph.zoom(0.1);\n        }\n      });\n      this.graph.bindKey([\"ctrl+2\", \"meta+2\"], () => {\n        const zoom = this.graph.zoom();\n        if (zoom > 0.5) {\n          this.graph.zoom(-0.1);\n        }\n      });\n    },\n    initWatchEvent() {\n      // 节点编辑\n      this.graph.on(\"cell:contextmenu\", ({ e, x, y, cell, view }) => {\n        // TODO (Xufei) 需要重新设计 Token 不能被编辑的逻辑 Token.type == 2 的不能被编辑？\n        // if (\n        //   cell.getData().type == \"Token\" &&\n        //   this.graph.getPredecessors(cell).length != 0\n        // ) {\n        //   this.$message({\n        //     showClose: true,\n        //     message: \"The current node cannot be edited!\",\n        //     type: \"warning\",\n        //   });\n        //   return;\n        // }\n        this.nodeEditShow = false;\n        this.SET_EDIT_CELLS(cell);\n      });\n      // 注册监听事件，当新增节点或边调用，实时存储\n      this.graph.on(\"node:added\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n\n      this.graph.on(\"cell:added\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      this.graph.on(\"cell:changed\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      this.graph.on(\"cell:removed\", ({ cell, options }) => {\n        this.STORAGE_GRAPH();\n      });\n      // 控制连接桩显示/隐藏\n      const showPorts = (ports, show) => {\n        for (let i = 0, len = ports.length; i < len; i = i + 1) {\n          ports[i].style.visibility = show ? \"visible\" : \"hidden\";\n        }\n      };\n      this.graph.on(\"node:mouseenter\", () => {\n        const container = document.getElementById(\"canvas-main\");\n        const ports = container.querySelectorAll(\".x6-port-body\");\n        showPorts(ports, true);\n      });\n      this.graph.on(\"node:mouseleave\", () => {\n        const container = document.getElementById(\"canvas-main\");\n        const ports = container.querySelectorAll(\".x6-port-body\");\n        showPorts(ports, false);\n      });\n      this.graph.on(\"cell:dblclick\", ({ cell, e }) => {\n        const name = cell.isEdge() ? \"edge-editor\" : \"node-editor\";\n        cell.removeTool(name);\n        cell.addTools([\n          {\n            name,\n            args: {\n              event: e,\n            },\n          },\n        ]);\n      });\n    },\n    // 节点编辑面板\n    closeNodeEdit() {\n      this.nodeEditShow = true;\n    },\n    closeMintEdit() {\n      this.centerDialogVisible = false;\n    },\n    loadGraphFromBack() {\n      if (this.$route.query.metadataHash == null) {\n        //导入已有节点信息\n        this.LOAD_GRAPH();\n        //进行一次聚焦\n        this.POSITIONING_GRAPH();\n        return;\n      }\n\n      connectMetamask(this.web3Provider).then((response) => {\n        if (response.status) {\n          this.SET_USER(response.account[0]);\n\n          const req = {\n            accountAddr: this.user,\n            metadataHash: this.$route.query.metadataHash,\n          };\n          querymodel(req).then((res) => {\n            if (res.message_code == this.statusCode.SUCCESSED) {\n              const modelData = JSON.parse(res.data.modelData);\n              const results = JSON.parse(res.data.results);\n              this.MODIFY_HISTORY_SIMULATE_DATA(results);\n              const params = JSON.parse(res.data.params);\n              this.MODIFY_CONFIGDATA([\n                params.configData.simulationDays,\n                params.configData.simulationSlot,\n              ]);\n              setStore(\"graph\", modelData);\n\n              //导入已有节点信息\n              this.LOAD_GRAPH();\n              //进行一次聚焦\n              this.POSITIONING_GRAPH();\n            } else {\n              this.$notify.error({\n                title: \"Error\",\n                message: \"Identity verification failed!\",\n                position: \"bottom-right\",\n              });\n              this.$router.push({\n                path: \"/create\",\n              });\n            }\n          });\n        } else {\n          this.$notify.error({\n            title: \"Error\",\n            message: \"Identity verification failed!\",\n            position: \"bottom-right\",\n          });\n          this.$router.push({\n            path: \"/create\",\n          });\n        }\n      });\n    },\n  },\n\n  mounted() {\n    // 初始化面板\n    this.initGrapg();\n    // 初始化面板相关快捷键\n    this.initShortcutkey();\n    // 初始化左侧控件\n    this.initStencil();\n\n    //判断是否是由详情页跳转过来的\n    this.loadGraphFromBack();\n    //初始化相关监听事件\n    this.initWatchEvent();\n    this.LOAD_RULE_LISTS();\n    \n  },\n  computed: {\n    ...mapState([\n      \"graph\",\n      \"uploadDialog\",\n      \"editNode\",\n      \"statusCode\",\n      \"user\",\n      \"historySimulateData\",\n    ]),\n  },\n  watch: {\n    // uploadDialog(val) {\n    //   this.uploadShow = val;\n    // },\n    // uploadShow(val) {\n    //   if (!val) {\n    //     this.CLOSE_UPLOAD_DIALOG();\n    //   }\n    // },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.models {\n  .draw {\n    .left-container {\n      width: 200px;\n      .left {\n        position: fixed;\n        top: 120px;\n        width: 200px;\n        height: 220px;\n        left: 60px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n        border-radius: 20px;\n        // border: #e9e9e9 1px solid;\n\n        /deep/ .x6-widget-stencil-content {\n          background-color: #fff;\n        }\n        /deep/ .x6-widget-stencil-group-title {\n          background-color: #fff;\n        }\n        /deep/ .x6-widget-stencil-content {\n          border-radius: inherit;\n        }\n        /deep/.x6-widget-stencil-title {\n          border-radius: 20px;\n        }\n        /deep/ .x6-widget-stencil {\n          border-radius: 20px;\n        }\n      }\n\n      .mint-btn {\n        background-color: #fff !important;\n        border: #858585 !important;\n        color: #616060 !important;\n        position: fixed;\n        top: 450px;\n        width: 200px;\n        height: 40px;\n        left: 60px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8) !important;\n        border-radius: 20px;\n      }\n\n      .rule-list {\n        position: fixed;\n        top: 520px;\n        left: 60px;\n        border-radius: 20px;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n      }\n    }\n\n    .draw-main-box {\n      position: fixed;\n      left: 250px;\n      // overflow: scroll;\n      width: calc(100% - 250px);\n      height: 100%;\n      //background: url(\"../../assets/bg.png\");\n\n      .editor-section {\n        display: flex;\n        // overflow: scroll;\n        margin: 40px auto;\n        width: 90%;\n        height: 70%;\n        // border: solid 2px #f4f4f4;\n        box-shadow: 0 0 6px rgba(180, 180, 180, 0.8);\n        border-radius: 30px;\n\n        /deep/ .x6-graph-scroller {\n          border-radius: 30px;\n        }\n\n        /deep/ .x6-graph-scroller-pannable {\n          border-radius: 30px;\n        }\n\n        .canvas-main {\n          flex: 1;\n        }\n      }\n    }\n    .right-container {\n      width: 300px;\n      position: fixed;\n      top: 50px;\n      right: 0px;\n      height: 100%;\n    }\n  }\n  .data-visual-panel {\n    position: fixed;\n    bottom: 20px;\n    left: 20px;\n    .visual-button {\n      // display: flex;\n      // width: 100%;\n      // &:hover {\n      //   cursor: pointer;\n      // }\n      // span {\n      //   margin: auto;\n      //   padding: 0.3em 1em 0.5em;\n      //   background: #409eff;\n      //   color: white;\n\n      //   border-radius: 3px;\n      //   box-shadow: 0 0 0.5em #858585;\n      //   // animation: shake 2s ease 0s infinite;\n      //   // animation-play-state: paused;\n\n      //   // &:hover {\n      //   //   animation-play-state: running;\n      //   // }\n      // }\n\n      background-color: #fff !important;\n      border: #858585 !important;\n      color: #616060 !important;\n      position: fixed;\n      top: 380px;\n      width: 200px;\n      height: 40px;\n      left: 60px;\n      box-shadow: 0 0 6px rgba(180, 180, 180, 0.8) !important;\n      border-radius: 20px;\n    }\n  }\n  .show {\n    visibility: hidden;\n  }\n  .visual-dialog {\n    font-size: 20px;\n  }\n  @keyframes shake {\n    from {\n      transform: rotate(0deg);\n    }\n    4% {\n      transform: rotate(5deg);\n    }\n    12.5% {\n      transform: rotate(-5deg);\n    }\n    21% {\n      transform: rotate(5deg);\n    }\n    29% {\n      transform: rotate(-5deg);\n    }\n    37.5% {\n      transform: rotate(5deg);\n    }\n    46% {\n      transform: rotate(-5deg);\n    }\n    50%,\n    to {\n      transform: rotate(0deg);\n    }\n  }\n}\n</style>"]}]}