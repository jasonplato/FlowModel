{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/components/create/RightToolsNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/components/create/RightToolsNavbar.vue","mtime":1653708835745},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":1653708688758},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgTW9kZWwgfSBmcm9tICIuLi8uLi9ncmFwaC9tb2RlbCI7CmltcG9ydCB7IERhdGFVcmkgfSBmcm9tICJAYW50di94NiI7CmltcG9ydCB7IHNldFN0b3JlIH0gZnJvbSAiLi4vLi4vdXRpbHMvc3RvcmFnZSI7CmltcG9ydCB7IFByb3BlcnR5VmlzaXRvciB9IGZyb20gIi4uLy4uL2dyYXBoL3Byb3BlcnR5VmlzaXRvciI7Cgpjb25zdCBhbnRscjQgPSByZXF1aXJlKCJhbnRscjQiKTsKY29uc3QgSW5wdXRTdHJlYW0gPSBhbnRscjQuSW5wdXRTdHJlYW07CmNvbnN0IENvbW1vblRva2VuU3RyZWFtID0gYW50bHI0LkNvbW1vblRva2VuU3RyZWFtOwpjb25zdCBHcmFtbWFyUGFyc2VyID0gcmVxdWlyZSgiLi4vLi4vcGFyc2VyL1Byb3BlcnR5UGFyc2VyIikuUHJvcGVydHlQYXJzZXI7CmNvbnN0IEdyYW1tYXJMZXhlciA9IHJlcXVpcmUoIi4uLy4uL3BhcnNlci9Qcm9wZXJ0eUxleGVyIikuUHJvcGVydHlMZXhlcjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFNpbXVsYXRpb25EYXlzOiBudWxsLAogICAgICBjdXJyZW50U2ltdWxhdGlvblNsb3Q6IG51bGwsCiAgICAgIG1vZGlmeURpc2FibGVkOiB0cnVlLAogICAgICBkaWFsb2dMb2dJblZpc2libGU6IGZhbHNlLAogICAgICBub3dhaXQ6IHRydWUsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbWV0aG9kczogewogICAgLi4ubWFwTXV0YXRpb25zKFsKICAgICAgIlpPT01fR1JBUEgiLAogICAgICAiUE9TSVRJT05JTkdfR1JBUEgiLAogICAgICAiVU5ET19HUkFQSCIsCiAgICAgICJSRURPX0dSQVBIIiwKICAgICAgIk1PRElGWV9DT05GSUdEQVRBIiwKICAgICAgIkxPQURfQ09ORklHREFUQSIsCiAgICAgICJTSE9XX1VQTE9BRF9ESUFMT0ciLAogICAgICAiU0VUX01PREVMIiwKICAgICAgIlJFTU9WRV9DRUxMUyIsCiAgICAgICJBUFBFTkRfSElTVE9SWV9TSU1VTEFURV9EQVRBIiwKICAgICAgIlNFVF9ISVNUT1JZX1NJTVVMQVRFX0RBVEEiLAogICAgICAiU0VUX05PTkNFIiwKICAgIF0pLAogICAgZm9ybWF0VG9vbHRpcCh2YWwpIHsKICAgICAgcmV0dXJuIHZhbCAvIDEwMDsKICAgIH0sCiAgICAvKioKICAgIOS/ruaUueWFqOWxgOmFjee9ruS/oeaBrwogICAgICovCiAgICBtb2RpZnlDb25maWdEYXRhKCkgewogICAgICBzZXRTdG9yZSgiY29uZmlnX2RhdGEiLCB0aGlzLmNvbmZpZ0RhdGEpOwogICAgfSwKCiAgICAvKioKICAgIOS4i+i9veW9k+WJjeaooeWei+S4umpzb27mlofku7YKICAgICAqLwogICAgZG93bmxvYWRHcmFwaCgpIHsKICAgICAgLy/ojrflj5bml7bpl7TmiLMKICAgICAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudmFsdWVPZigpOwogICAgICAvL+WwhuWFqOWxgOmFjee9ruS/oeaBr+WSjOeUu+W4g+aVsOaNruWwgeijheaIkOWvueixoQogICAgICBsZXQgbW9kZWxEYXRhID0gewogICAgICAgIG1vZGVsOiB7IGNvbmZpZ0RhdGE6IHRoaXMuY29uZmlnRGF0YSwgZ3JhcGg6IHRoaXMuZ3JhcGggfSwKICAgICAgfTsKICAgICAgY29uc3QgZmlsZW5hbWUgPSAiTW9kZWwiICsgdGltZXN0YW1wICsgIi5qc29uIjsKICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG1vZGVsRGF0YSwgdW5kZWZpbmVkLCA0KTsKICAgICAgbGV0IGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogInRleHQvanNvbiIgfSksCiAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lOwogICAgICBhLmhyZWYgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgLy8g5qCH562+IGRhdGEtIOW1jOWFpeiHquWumuS5ieWxnuaApyAg5bGP6JS95ZCO5Lmf5Y+v5q2j5bi45LiL6L29CiAgICAgIGEuZGF0YXNldC5kb3dubG9hZHVybCA9IFsidGV4dC9qc29uIiwgYS5kb3dubG9hZCwgYS5ocmVmXS5qb2luKCI6Iik7CiAgICAgIC8vIOa3u+WKoOm8oOagh+S6i+S7tgogICAgICBsZXQgZXZlbnQgPSBuZXcgTW91c2VFdmVudCgiY2xpY2siLCB7fSk7CiAgICAgIC8vIOWQkeS4gOS4quaMh+WumueahOS6i+S7tuebruagh+a0vuWPkeS4gOS4quS6i+S7tgogICAgICBhLmRpc3BhdGNoRXZlbnQoZXZlbnQpOwogICAgfSwKICAgIC8qKgogICAg5LiK5Lyg5bey5pyJ55qE5qih5Z6L77yManNvbuaWh+S7tgogICAgICovCiAgICB1cGxvYWRHcmFwaCgpIHsKICAgICAgdGhpcy5TSE9XX1VQTE9BRF9ESUFMT0coKTsKICAgIH0sCiAgICAvKgogICAg5byA5aeL5rWL566XCiAgICAqLwogICAgYXN5bmMgc3RhcnRTaW11bGF0aW9uKCkgewogICAgICAvLyDmtYvnrpflvIDlp4vvvIzlvIDlkK8gbG9hZGluZyDlm77moIcKICAgICAgdGhpcy5ub3dhaXQgPSBmYWxzZTsKCiAgICAgIC8vIOaooeWei+WIneasoea1i+eul+aXtgogICAgICBpZiAodGhpcy5tb2RlbCA9PSBudWxsKSB7CiAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAic3RhcnRpbmcgc2ltdWxhdGlvbi4uLiIsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvbkRheXMsCiAgICAgICAgICAiZGF5cyIsCiAgICAgICAgICAiIHdpdGggY29udHJvbCBzbG90OiIsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvblNsb3QsCiAgICAgICAgICAiZGF5cyIKICAgICAgICApOwogICAgICAgIHZhciBtb2RlbCA9IG5ldyBNb2RlbCgKICAgICAgICAgIHRoaXMuZ3JhcGgsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvbkRheXMsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvblNsb3QKICAgICAgICApOwoKICAgICAgICB0aGlzLlNFVF9NT0RFTChtb2RlbCk7CgogICAgICAgIHRoaXMuQVBQRU5EX0hJU1RPUllfU0lNVUxBVEVfREFUQSh7CiAgICAgICAgICB0eXBlOiB0aGlzLm5vbmNlLAogICAgICAgICAgZGF0YTogdGhpcy5tb2RlbC5kYXRhLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIFRPRE8gW0RvbmVdIOaooeWei+W3sue7j+WtmOWcqOaXtu+8jOWFtuebuOWFs+WPguaVsOmcgOimgeagueaNrueUu+W4g+S4iueahOacgOaWsOeKtuaAgeadpeabtOaWsAogICAgICAgIHRoaXMubW9kZWwuc2VsZlVwZGF0ZSgKICAgICAgICAgIHRoaXMuZ3JhcGgsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvbkRheXMsCiAgICAgICAgICB0aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvblNsb3QKICAgICAgICApOwogICAgICB9CiAgICAgIC8vIOiuvue9riBtb2RlbCDnmoTnirbmgIHkuLogMSAtIOato+WcqOa1i+eul+S4rQogICAgICB0aGlzLm1vZGVsLnN0YXR1cyA9IDE7CiAgICAgIGF3YWl0IHRoaXMubW9kZWwuc3RhcnQoKTsKCiAgICAgIC8vIOa1i+eul+e7iOatou+8iOato+W4uOe7iOatoiAvIOaaguWBnOe7iOatou+8ieaXtuabtOaWsOa1i+eul+WOhuWPsuaVsOaNrgogICAgICB0aGlzLlNFVF9ISVNUT1JZX1NJTVVMQVRFX0RBVEEodGhpcy5ub2NuZSwgdGhpcy5tb2RlbC5kYXRhKTsKCiAgICAgIGlmICh0aGlzLm1vZGVsLnN0YXR1cyAhPSAyKSB7CiAgICAgICAgLy8g5b2T5qih5Z6L5aSE5LqO6Z2eIFBhdXNlIOeKtuaAgeaXtgogICAgICAgIGNvbnNvbGUubG9nKCJ0aGUgc2ltdWxhdGlvbiBpcyBlbmRlZCIpOwogICAgICB9CgogICAgICAvLyAg5rWL566X57uI5q2i77yI5q2j5bi457uI5q2iIC8g5pqC5YGc57uI5q2i77yJ77yM5YWz6ZetIGxvYWRpbmcg5Zu+5qCHCiAgICAgIHRoaXMubm93YWl0ID0gdHJ1ZTsKCiAgICAgIHRoaXMuY2hlY2tQcm9wZXJ0eSgpOwogICAgfSwKICAgIC8qCiAgICDmmoLlgZzmtYvnrpcKICAgICovCiAgICBwYXVzZVNpbXVsYXRpb24oKSB7CiAgICAgIC8vIFRPRE8g5aSE5LqO5pqC5YGc54q25oCB5Lit77yM55S75biD5LiK55qE5p+Q5Lqb5LiN5Y+v5pS555qE5Y+C5pWw5bqU6K+l572u5Li654Gw6Imy5oiW5LiN5Y+v6YCJKOS4jeWPr+aWsOW7uuOAgeWIoOmZpOiKgueCue+8m+S4jeWPr+abtOaUueeahOWPguaVsOWmgikKCiAgICAgIC8vIOa1i+eul+aaguWBnO+8jOWFs+mXrSBsb2FkaW5nIOWbvuaghwogICAgICB0aGlzLm5vd2FpdCA9IHRydWU7CgogICAgICBjb25zb2xlLmxvZygicGF1c2luZyBzaW11bGF0aW9uLi4uIik7CiAgICAgIGlmICh0aGlzLm1vZGVsID09IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygidGhlcmUncyBubyBtb2RlbCBydW5uaW5nISIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOS/ruaUueaooeWei+eahOeKtuaAgeS4uiAyIC0g5pqC5YGcCiAgICAgICAgdGhpcy5tb2RlbC5zdGF0dXMgPSAyOwogICAgICAgIGNvbnNvbGUubG9nKAogICAgICAgICAgIlRoZSBtb2RlbCBpcyBwYXVzZWQuICIsCiAgICAgICAgICAiWW91IGNhbiBvbmx5IGFkanVzdCBwYXJhbXMgb24gZXhpc3RpbmcgbW9kZWwuICIsCiAgICAgICAgICAiSWYgeW91IG5lZWQgdG8gYWRqdXN0IHRoZSBhcmNoaXRlY3R1cmUgb2YgbW9kZWwsIHBsZWFzZSBFTkQgY3VycmVudCBzaW11bGF0aW9uIGZpcnN0IgogICAgICAgICk7CiAgICAgIH0KICAgIH0sCiAgICAvKgogICAg57uT5p2f5b2T5YmN5rWL566XCiAgICAqLwogICAgZW5kU2ltdWxhdGlvbigpIHsKICAgICAgLy8g5rWL566X5pqC5YGc77yM5YWz6ZetIGxvYWRpbmcg5Zu+5qCHCiAgICAgIHRoaXMubm93YWl0ID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coImVuZGluZyBzaW11bGF0aW9uLi4uIik7CiAgICAgIC8vIOS/ruaUueaooeWei+eahOeKtuaAgeS4uiAwIC0g5YGc5q2iCiAgICAgIHRoaXMubW9kZWwuc3RhdHVzID0gMDsKICAgICAgLy8g5bCG5b2T5YmN5qih5Z6L572u5Li6IG51bGwKICAgICAgdGhpcy5TRVRfTU9ERUwobnVsbCk7CiAgICAgIGNvbnNvbGUubG9nKCJ0aGUgc2ltdWxhdGlvbiBpcyBlbmRlZCIpOwogICAgICAvLyDlvZPliY3mtYvnrpfnu5PmnZ/lkI7vvIzlsIborrDlvZXljoblj7LmlbDmja7mrKHmlbDnmoQgbm9uY2Ug5YC85aKe5YqgIDEKICAgICAgdGhpcy5TRVRfTk9OQ0UodGhpcy5ub25jZSArIDEpOwogICAgfSwKICAgIC8qKgogICAgICog5LiL6L295qih5Z6L5Zu+54mHCiAgICAgKi8KICAgIHNhdmVHcmFwaFRvUE5HKCkgewogICAgICB0aGlzLmdyYXBoLnRvUE5HKAogICAgICAgIChkYXRhVXJpKSA9PiB7CiAgICAgICAgICAvLyDkuIvovb0KICAgICAgICAgIERhdGFVcmkuZG93bmxvYWREYXRhVXJpKGRhdGFVcmksICJjaGFydC5wbmciKTsKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHBhZGRpbmc6IHsKICAgICAgICAgICAgdG9wOiAyMCwKICAgICAgICAgICAgcmlnaHQ6IDIwLAogICAgICAgICAgICBib3R0b206IDIwLAogICAgICAgICAgICBsZWZ0OiAyMCwKICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIC8qKgogICAgICog6I635Y+W5qih5Z6L5rWL566X6L+b6KGM5Lit55qE5pe26Ze0CiAgICAgKi8KICAgIGdldE1vZGVsVGltZSgpIHsKICAgICAgaWYgKHRoaXMubW9kZWwgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmN1ckRheTsKICAgIH0sCiAgICAvKioKICAgICAqIOajgOafpSBQcm9wZXJ0eSDliJfooajkuK3nmoTmiYDmnIkgUHJvcGVydHkKICAgICAqLwogICAgY2hlY2tQcm9wZXJ0eSgpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJ1bGVMaXN0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGlucHV0U3RyZWFtID0gbmV3IElucHV0U3RyZWFtKHRoaXMucnVsZUxpc3RzW2ldLmNvbnRlbnQpOwogICAgICAgIGNvbnN0IGxleGVyID0gbmV3IEdyYW1tYXJMZXhlcihpbnB1dFN0cmVhbSk7CiAgICAgICAgY29uc3QgdG9rZW5TdHJlYW0gPSBuZXcgQ29tbW9uVG9rZW5TdHJlYW0obGV4ZXIpOwogICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBHcmFtbWFyUGFyc2VyKHRva2VuU3RyZWFtKTsKICAgICAgICBwYXJzZXIucmVtb3ZlRXJyb3JMaXN0ZW5lcnMoKTsKICAgICAgICBwYXJzZXIuYWRkRXJyb3JMaXN0ZW5lcih7CiAgICAgICAgICBzeW50YXhFcnJvcjogKAogICAgICAgICAgICByZWNvZ25pemVyLAogICAgICAgICAgICBvZmZlbmRpbmdTeW1ib2wsCiAgICAgICAgICAgIGxpbmUsCiAgICAgICAgICAgIGNvbHVtbiwKICAgICAgICAgICAgbXNnLAogICAgICAgICAgICBlcnIKICAgICAgICAgICkgPT4gewogICAgICAgICAgICBjb25zb2xlLmVycm9yKAogICAgICAgICAgICAgIGAke29mZmVuZGluZ1N5bWJvbH0gbGluZSAke2xpbmV9LCBjb2wgJHtjb2x1bW59OiAke21zZ31gCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgIH0sCiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgdHJlZSA9IHBhcnNlci5jaGVjaygpOwogICAgICAgIC8vIHBhcnNlci5nZXRJbnZva2luZ0NvbnRleHQoKQogICAgICAgIGxldCB2aXNpdG9yID0gbmV3IFByb3BlcnR5VmlzaXRvcigKICAgICAgICAgIHRoaXMubW9kZWwuY3VyRGF5LAogICAgICAgICAgdGhpcy5oaXN0b3J5U2ltdWxhdGVEYXRhW3RoaXMuaGlzdG9yeVNpbXVsYXRlRGF0YS5sZW5ndGggLSAxXS5kYXRhLAogICAgICAgICAgdGhpcy5ncmFwaC5tb2RlbC5nZXROb2RlcygpCiAgICAgICAgKTsKICAgICAgICB0cmVlLmFjY2VwdCh2aXNpdG9yKTsKICAgICAgICBpZiAodmlzaXRvci5zdGF0ZSA+PSA0KSB7CiAgICAgICAgICB0aGlzLnJ1bGVMaXN0c1tpXS5zdGF0dXMgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbCiAgICAgICJjb25maWdEYXRhIiwKICAgICAgImdyYXBoIiwKICAgICAgIm1vZGVsIiwKICAgICAgIm5vbmNlIiwKICAgICAgInJ1bGVMaXN0cyIsCiAgICAgICJoaXN0b3J5U2ltdWxhdGVEYXRhIiwKICAgIF0pLAogIH0sCiAgbW91bnRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["RightToolsNavbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RightToolsNavbar.vue","sourceRoot":"src/components/create","sourcesContent":["<template >\n  <div class=\"top-container\">\n    <!-- 工具栏 -->\n    <div class=\"tool-bar\">\n      <h4>Tools</h4>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Enlarge\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"ZOOM_GRAPH('up')\" class=\"el-icon-zoom-in\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Lessen\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"ZOOM_GRAPH('down')\" class=\"el-icon-zoom-out\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Focus canvas \"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"POSITIONING_GRAPH()\" class=\"el-icon-full-screen\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Undo operation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"UNDO_GRAPH()\" class=\"el-icon-back\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Redo operation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"REDO_GRAPH()\" class=\"el-icon-right\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Download model\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"saveGraphToPNG()\" class=\"el-icon-camera-solid\"></i>\n      </el-tooltip>\n\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Remove cells \"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"REMOVE_CELLS()\" class=\"el-icon-delete\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Start simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n        v-if=\"nowait\"\n      >\n        <i @click=\"startSimulation()\" class=\"el-icon-video-play\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Start simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n        v-else\n      >\n        <i class=\"el-icon-loading\"></i>\n      </el-tooltip>\n\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Pause simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"pauseSimulation()\" class=\"el-icon-video-pause\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"End simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"endSimulation()\" class=\"el-icon-circle-close\"></i>\n      </el-tooltip>\n      <!-- <el-tooltip\n          class=\"tooltip\"\n          content=\"Upload existing models\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"uploadGraph()\" class=\"el-icon-upload2\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Download model\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"downloadGraph()\" class=\"el-icon-download\"></i>\n        </el-tooltip> -->\n    </div>\n\n    <el-divider></el-divider>\n\n    <!-- 系统参数栏 -->\n    <div class=\"config-data-box\">\n      <h4>Date Configuration</h4>\n      <!-- <span>Simulation Days</span> -->\n\n      <!--  <el-input\n          size=\"mini\"\n          class=\"config-data-input\"\n          v-model=\"currentSimulationDays\"\n          placeholder=\"\"\n          :disabled=\"modifyDisabled\"\n        ></el-input> -->\n\n      <span class=\"config-data-input\">Simulation Days</span>\n      <!-- <el-slider\n          v-model=\"configData.simulationDays\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"20000\"\n          :step=\"1\"\n          :change=\"modifyConfigData()\"\n        ></el-slider> -->\n\n      <el-slider\n        v-model=\"configData.simulationDays\"\n        class=\"day-slider\"\n        :min=\"1\"\n        :max=\"20000\"\n        :step=\"1\"\n        :show-input=\"true\"\n        input-size=\"mini\"\n        :change=\"modifyConfigData()\"\n      ></el-slider>\n      <span class=\"config-data-input\">Simulation Slot</span>\n      <!-- <el-slider\n\n        <el-slider\n          v-model=\"configData.simulationDays\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"20000\"\n          :step=\"1\"\n          show-input\n          input-size=\"mini\"\n          :change=\"modifyConfigData()\"\n        ></el-slider>\n        <span class=\"config-data-input\">Simulation Slot</span>\n\n        <el-slider\n          v-model=\"configData.simulationSlot\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"5000\"\n          :step=\"1\"\n          show-input\n          input-size=\"mini\"\n          :change=\"modifyConfigData()\"\n        ></el-slider> -->\n\n      <el-slider\n        v-model=\"configData.simulationSlot\"\n        class=\"day-slider\"\n        :min=\"1\"\n        :max=\"5000\"\n        :step=\"1\"\n        show-input\n        input-size=\"mini\"\n        :change=\"modifyConfigData()\"\n      ></el-slider>\n      <span class=\"config-data-input\">Current Day: </span>\n      <span v-text=\"getModelTime()\"></span>\n\n      <!-- <div class=\"config-data-input\">Current Day\n          <div v-text=\"getModelTime()\"></div>\n        </div> -->\n    </div>\n    <!-- 系统参数修改按钮 -->\n    <!-- <div class=\"config-button\">\n        <div class=\"setting\">\n          <i\n            class=\"el-icon-setting\"\n            @click=\"modifyDisabled = !modifyDisabled\"\n            v-if=\"modifyDisabled\"\n          ></i>\n          <i\n            class=\"el-icon-success\"\n            @click=\"modifyConfigData()\"\n            v-if=\"!modifyDisabled\"\n          ></i>\n        </div>\n      </div> -->\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport { Model } from \"../../graph/model\";\nimport { DataUri } from \"@antv/x6\";\nimport { setStore } from \"../../utils/storage\";\nimport { PropertyVisitor } from \"../../graph/propertyVisitor\";\n\nconst antlr4 = require(\"antlr4\");\nconst InputStream = antlr4.InputStream;\nconst CommonTokenStream = antlr4.CommonTokenStream;\nconst GrammarParser = require(\"../../parser/PropertyParser\").PropertyParser;\nconst GrammarLexer = require(\"../../parser/PropertyLexer\").PropertyLexer;\n\nexport default {\n  data() {\n    return {\n      currentSimulationDays: null,\n      currentSimulationSlot: null,\n      modifyDisabled: true,\n      dialogLogInVisible: false,\n      nowait: true,\n    };\n  },\n  components: {},\n  methods: {\n    ...mapMutations([\n      \"ZOOM_GRAPH\",\n      \"POSITIONING_GRAPH\",\n      \"UNDO_GRAPH\",\n      \"REDO_GRAPH\",\n      \"MODIFY_CONFIGDATA\",\n      \"LOAD_CONFIGDATA\",\n      \"SHOW_UPLOAD_DIALOG\",\n      \"SET_MODEL\",\n      \"REMOVE_CELLS\",\n      \"APPEND_HISTORY_SIMULATE_DATA\",\n      \"SET_HISTORY_SIMULATE_DATA\",\n      \"SET_NONCE\",\n    ]),\n    formatTooltip(val) {\n      return val / 100;\n    },\n    /**\n    修改全局配置信息\n     */\n    modifyConfigData() {\n      setStore(\"config_data\", this.configData);\n    },\n\n    /**\n    下载当前模型为json文件\n     */\n    downloadGraph() {\n      //获取时间戳\n      var timestamp = new Date().valueOf();\n      //将全局配置信息和画布数据封装成对象\n      let modelData = {\n        model: { configData: this.configData, graph: this.graph },\n      };\n      const filename = \"Model\" + timestamp + \".json\";\n      const data = JSON.stringify(modelData, undefined, 4);\n      let blob = new Blob([data], { type: \"text/json\" }),\n        a = document.createElement(\"a\");\n      a.download = filename;\n      a.href = window.URL.createObjectURL(blob);\n      // 标签 data- 嵌入自定义属性  屏蔽后也可正常下载\n      a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\");\n      // 添加鼠标事件\n      let event = new MouseEvent(\"click\", {});\n      // 向一个指定的事件目标派发一个事件\n      a.dispatchEvent(event);\n    },\n    /**\n    上传已有的模型，json文件\n     */\n    uploadGraph() {\n      this.SHOW_UPLOAD_DIALOG();\n    },\n    /*\n    开始测算\n    */\n    async startSimulation() {\n      // 测算开始，开启 loading 图标\n      this.nowait = false;\n\n      // 模型初次测算时\n      if (this.model == null) {\n        console.log(\n          \"starting simulation...\",\n          this.configData.simulationDays,\n          \"days\",\n          \" with control slot:\",\n          this.configData.simulationSlot,\n          \"days\"\n        );\n        var model = new Model(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n\n        this.SET_MODEL(model);\n\n        this.APPEND_HISTORY_SIMULATE_DATA({\n          type: this.nonce,\n          data: this.model.data,\n        });\n      } else {\n        // TODO [Done] 模型已经存在时，其相关参数需要根据画布上的最新状态来更新\n        this.model.selfUpdate(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n      }\n      // 设置 model 的状态为 1 - 正在测算中\n      this.model.status = 1;\n      await this.model.start();\n\n      // 测算终止（正常终止 / 暂停终止）时更新测算历史数据\n      this.SET_HISTORY_SIMULATE_DATA(this.nocne, this.model.data);\n\n      if (this.model.status != 2) {\n        // 当模型处于非 Pause 状态时\n        console.log(\"the simulation is ended\");\n      }\n\n      //  测算终止（正常终止 / 暂停终止），关闭 loading 图标\n      this.nowait = true;\n\n      this.checkProperty();\n    },\n    /*\n    暂停测算\n    */\n    pauseSimulation() {\n      // TODO 处于暂停状态中，画布上的某些不可改的参数应该置为灰色或不可选(不可新建、删除节点；不可更改的参数如)\n\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n\n      console.log(\"pausing simulation...\");\n      if (this.model == null) {\n        console.log(\"there's no model running!\");\n      } else {\n        // 修改模型的状态为 2 - 暂停\n        this.model.status = 2;\n        console.log(\n          \"The model is paused. \",\n          \"You can only adjust params on existing model. \",\n          \"If you need to adjust the architecture of model, please END current simulation first\"\n        );\n      }\n    },\n    /*\n    结束当前测算\n    */\n    endSimulation() {\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n      console.log(\"ending simulation...\");\n      // 修改模型的状态为 0 - 停止\n      this.model.status = 0;\n      // 将当前模型置为 null\n      this.SET_MODEL(null);\n      console.log(\"the simulation is ended\");\n      // 当前测算结束后，将记录历史数据次数的 nonce 值增加 1\n      this.SET_NONCE(this.nonce + 1);\n    },\n    /**\n     * 下载模型图片\n     */\n    saveGraphToPNG() {\n      this.graph.toPNG(\n        (dataUri) => {\n          // 下载\n          DataUri.downloadDataUri(dataUri, \"chart.png\");\n        },\n        {\n          padding: {\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20,\n          },\n        }\n      );\n    },\n    /**\n     * 获取模型测算进行中的时间\n     */\n    getModelTime() {\n      if (this.model == null) return 0;\n      return this.model.curDay;\n    },\n    /**\n     * 检查 Property 列表中的所有 Property\n     */\n    checkProperty() {\n      for (let i = 0; i < this.ruleLists.length; i++) {\n        const inputStream = new InputStream(this.ruleLists[i].content);\n        const lexer = new GrammarLexer(inputStream);\n        const tokenStream = new CommonTokenStream(lexer);\n        const parser = new GrammarParser(tokenStream);\n        parser.removeErrorListeners();\n        parser.addErrorListener({\n          syntaxError: (\n            recognizer,\n            offendingSymbol,\n            line,\n            column,\n            msg,\n            err\n          ) => {\n            console.error(\n              `${offendingSymbol} line ${line}, col ${column}: ${msg}`\n            );\n            throw err;\n          },\n        });\n        const tree = parser.check();\n        // parser.getInvokingContext()\n        let visitor = new PropertyVisitor(\n          this.model.curDay,\n          this.historySimulateData[this.historySimulateData.length - 1].data,\n          this.graph.model.getNodes()\n        );\n        tree.accept(visitor);\n        if (visitor.state >= 4) {\n          this.ruleLists[i].status = true;\n        }\n      }\n    },\n  },\n  computed: {\n    ...mapState([\n      \"configData\",\n      \"graph\",\n      \"model\",\n      \"nonce\",\n      \"ruleLists\",\n      \"historySimulateData\",\n    ]),\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n.top-container {\n  //height: 50px;\n  position: fixed;\n  height: calc(100% - 180px);\n  width: 300px;\n  top: 120px;\n  right: calc(100% - (100% - 250px) - 195px);\n  background-color: #ffffff;\n  overflow: scroll;\n  border-radius: 30px;\n  border: 2.5px solid rgb(232, 231, 231);\n  box-shadow: 0 0 2px rgba(226, 226, 226, 0.8);\n\n  .tool-bar {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    h4 {\n      margin-left: 10px;\n      margin-top: 30px;\n    }\n    i {\n      margin: 10px;\n      font-size: 18px;\n      color: #555555;\n      font-weight: bold;\n      cursor: pointer;\n      &:hover {\n        // color: #9a9a9c;\n        color: #409eff;\n      }\n    }\n  }\n  .config-data-box {\n    margin-top: 40px;\n    h4 {\n      margin-left: 10px;\n    }\n    .config-data-input {\n      width: 200px;\n      margin-left: 10px;\n      margin-top: 20px;\n    }\n    .day-slider {\n      margin-left: 15px;\n      margin-bottom: 20px;\n      width: 250px;\n      /deep/ .el-slider__bar {\n        background-color: rgb(94, 91, 91);\n      }\n      /deep/ .el-slider__button {\n        border: 2px solid rgb(94, 91, 91);\n        transition: 0s;\n      }\n    }\n  }\n}\n</style>"]}]}