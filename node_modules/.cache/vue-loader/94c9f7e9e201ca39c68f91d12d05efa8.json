{"remainingRequest":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangxufei/Desktop/FlowModel/src/components/Template/MintForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangxufei/Desktop/FlowModel/src/components/Template/MintForm.vue","mtime":1652163070436},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBwZGYgZnJvbSAidnVlLXBkZiI7CmltcG9ydCB7IG1pbnRuZnQgfSBmcm9tICIuLi8uLi9hcGkvaW5kZXgiOwppbXBvcnQgeyBjcmVhdGVORlQgfSBmcm9tICIuLi8uLi9hcGkvd2ViMy9jb250cmFjdHMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRTdG9yZSB9IGZyb20gIi4uLy4uL3V0aWxzL3N0b3JhZ2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsiY2xvc2UiXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1nQXJyOiBbXSwKICAgICAgYWxsb3dBZGRJbWc6IHRydWUsCiAgICAgIGxhYmVsUG9zaXRpb246ICJ0b3AiLAogICAgICBkaWFsb2dJbWFnZVVybDogIiIsCiAgICAgIC8vZmlsZUxpc3Q6IFtdLAogICAgICBwZGZVcmw6ICIiLAogICAgICBudW1QYWdlczogW10sCiAgICAgIC8vIGZpbGVBcnI6IFtdLAogICAgICB1cExvYWRJbWdVcmw6ICIiLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcnVsZUZvcm06IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBkZXNjOiAiIiwKICAgICAgICAvLyBpbmNsdWRlOiBmYWxzZSwKICAgICAgICAvLyBleGxpbms6ICIiLAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgRW50ZXIgTW9kZWwgTmFtZSIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogMywKICAgICAgICAgICAgbWF4OiAxNSwKICAgICAgICAgICAgbWVzc2FnZTogIjMgdG8gMTUgY2hhcmFjdGVycyBsb25nIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIGRlc2M6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgRW50ZXIgTW9kZWwgRGVzY3JpcHRpb24iLAogICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICBtaW46IDMsCiAgICAgICAgICAgIG1heDogMTUwLAogICAgICAgICAgICBtZXNzYWdlOiAiMyB0byAxNTAgY2hhcmFjdGVycyBsb25nIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgfSwKICAgICAgICBdLAoKICAgICAgICBleGxpbms6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJQbGVhc2UgRW50ZXIgRXh0ZXJuYWwgTGluayIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG1pbjogMTAsCiAgICAgICAgICAgIG1heDogMjAwLAogICAgICAgICAgICBtZXNzYWdlOiAiMTAgdG8gMjAwIGNoYXJhY3RlcnMgbG9uZyIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICAvLyBleGxpbms6IFsKICAgICAgICAvLyAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICJQbGVhc2UgRW50ZXIgRXh0ZXJuYWwgTGluayIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIC8vICAgewogICAgICAgIC8vICAgICBtaW46IDEwLAogICAgICAgIC8vICAgICBtYXg6IDIwMCwKICAgICAgICAvLyAgICAgbWVzc2FnZTogIjEwIHRvIDIwMCBjaGFyYWN0ZXJzIGxvbmciLAogICAgICAgIC8vICAgICB0cmlnZ2VyOiAiYmx1ciIsCiAgICAgICAgLy8gICB9LAogICAgICAgIC8vIF0sCiAgICAgIH0sCiAgICAgIG1pbnRSZXN1bHQ6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIHBkZiwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBTdGF0ZShbInVzZXIiLCAic3RhdHVzQ29kZSIsICJjb25maWdEYXRhIiwgImhpc3RvcnlTaW11bGF0ZURhdGEiXSksCiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgYWxlcnQoInN1Ym1pdCEiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgIC8vICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIC8vIH0sCgogICAgLy8gaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGZpbGUsIGZpbGVMaXN0KTsKICAgIC8vIH0sCiAgICAvLyBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgLy8gICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7CiAgICAvLyAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAvLyB9LAogICAgLy8gaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAvLyAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdC5zbGljZSgtMyk7CiAgICAvLyB9LAogICAgLy8gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgIC8vICAgY29uc3QgZmlsZVN1ZmZpeCA9IGZpbGUubmFtZS5zdWJzdHJpbmcoZmlsZS5uYW1lLmxhc3RJbmRleE9mKCIuIikgKyAxKTsKICAgIC8vICAgY29uc3Qgd2hpdGVMaXN0ID0gWyJwZGYiXTsKICAgIC8vICAgaWYgKHdoaXRlTGlzdC5pbmRleE9mKGZpbGVTdWZmaXgpID09PSAtMSkgewogICAgLy8gICAgIHRoaXMuJG1zZygi5LiK5Lyg5paH5Lu25Y+q6IO95pivIHBkZiIpOwogICAgLy8gICAgIHJldHVybiBmYWxzZTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgIC8vIGltZ1ByZXZpZXcoZmlsZSkgewogICAgLy8gICB0aGlzLmZpbGVBcnIgPSBbXTsKICAgIC8vICAgdGhpcy5maWxlQXJyLnB1c2goZmlsZSk7CiAgICAvLyAgIHRoaXMuZm9ybS5wb3NpdGlvbiA9ICIiOwogICAgLy8gICBjb25zb2xlLmxvZyhmaWxlKTsKICAgIC8vICAgdGhpcy5mb3JtLnBvc2l0aW9uID0gZmlsZS5uYW1lOwogICAgLy8gICBsZXQgZmlsZU5hbWUgPSBmaWxlLm5hbWU7CiAgICAvLyAgIGxldCByZWdleCA9IC8oLmpwZ3wuanBlZ3wuZ2lmfC5wbmd8LnBkZikkLzsKICAgIC8vICAgaWYgKHJlZ2V4LnRlc3QoZmlsZU5hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgIC8vICAgICB0aGlzLnVwTG9hZEltZ1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOyAvLyDojrflj5ZVUkwKICAgIC8vICAgICB0aGlzLnBkZlVybCA9IHRoaXMuZ2V0UGRmVXJsKGZpbGUpOwogICAgLy8gICAgIGNvbnNvbGUubG9nKHRoaXMudXBMb2FkSW1nVXJsKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fpgInmi6lwZGbmlofku7YiKTsKICAgIC8vICAgfQogICAgLy8gfSwKCiAgICAvLyDkuIrkvKDmiJDlip8KICAgIHVwU3VjY2VzcyhyZXMpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogIuS4iuS8oOaIkOWKnyIsCiAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkvKDlpLHotKUKICAgIHVwRXJyb3IoZSkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiAi5LiK5Lyg5aSx6LSlIiwKICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICB9KTsKICAgIH0sCiAgICAvL+WkhOeQhnBkZgogICAgZ2V0UGRmVXJsKGZpbGUpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSk7CiAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlLnJhdyk7IC8v5bCG5paH5Lu26L2s5YyW5oiQdXJsCiAgICAgIC8v5Yqg6L29cGRmCiAgICAgIGxldCBsb2FkaW5nVGFzayA9IHBkZi5jcmVhdGVMb2FkaW5nVGFzayh1cmwpOwogICAgICBsb2FkaW5nVGFzay5wcm9taXNlCiAgICAgICAgLnRoZW4oKHBkZikgPT4gewogICAgICAgICAgdGhpcy5udW1QYWdlcyA9IHBkZi5udW1QYWdlczsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubnVtUGFnZXMpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoInBkZiDliqDovb3lpLHotKUiLCBlcnIpOwogICAgICAgIH0pOwogICAgICByZXR1cm4gdXJsOwogICAgfSwKICAgIC8v6LCD55So6K+l5Ye95pWw5Yib5bu6bmZ0CiAgICBjb25maXJtTWludChtb2RlbERhdGEsIHVzZXIsIG5hbWUsIGRlc2MsIGRpc3BsYXlVcmwpIHsKICAgICAgLy8g5Y+C5pWwOiBtb2RlbERhdGEsIHBhcmFtcywgdXNlciwgbmFtZSwgZGVzYywgZGlzcGxheVVybAogICAgICAvLyDojrflj5bnlLvluIPkuIroioLngrnnmoTlj4LmlbDljIXoo4UKICAgICAgbGV0IHBhcmFtc0pTT05TdHJpbmcgPSB0aGlzLmdldFBhcmFtc091dHNpZGVHcmFwaCgpOwogICAgICBsZXQgcmVzdWx0SlNPTlN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRoaXMuaGlzdG9yeVNpbXVsYXRlRGF0YSk7CgogICAgICBjb25zdCByZXEgPSB7CiAgICAgICAgYWNjb3VudEFkZHI6IHVzZXIsCiAgICAgICAgbWV0YURhdGE6IHsKICAgICAgICAgIG5hbWU6IHRoaXMucnVsZUZvcm0ubmFtZSwKICAgICAgICAgIGRlc2M6IHRoaXMucnVsZUZvcm0uZGVzYywKICAgICAgICAgIGRpc3BsYXlVcmw6IGRpc3BsYXlVcmwsCiAgICAgICAgICBtZXRhZGF0YUhhc2g6ICIiLAogICAgICAgIH0sCiAgICAgICAgc2VjcmV0RGF0YTogewogICAgICAgICAgbW9kZWxEYXRhOiBtb2RlbERhdGEsCiAgICAgICAgICBwYXJhbXM6IHBhcmFtc0pTT05TdHJpbmcsCiAgICAgICAgICByZXN1bHRzOiByZXN1bHRKU09OU3RyaW5nLAogICAgICAgIH0sCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKHJlcSk7CiAgICAgIHRyeSB7CiAgICAgICAgbWludG5mdChyZXEpLnRoZW4oKGJhY2tSZXMpID0+IHsKICAgICAgICAgIGlmIChiYWNrUmVzLm1lc3NhZ2VfY29kZSA9PSB0aGlzLnN0YXR1c0NvZGUuU1VDQ0VTU0VEKSB7CiAgICAgICAgICAgIGNyZWF0ZU5GVCgKICAgICAgICAgICAgICB0aGlzLnVzZXIsCiAgICAgICAgICAgICAgbmFtZSwKICAgICAgICAgICAgICBkZXNjLAogICAgICAgICAgICAgICIiLAogICAgICAgICAgICAgIGJhY2tSZXMuZGF0YS5tZXRhZGF0YV9oYXNoCiAgICAgICAgICAgICkudGhlbigoY2hhaW5SZXMpID0+IHsKICAgICAgICAgICAgICBpZiAoY2hhaW5SZXMuc3RhdHVzID09ICJzdWNjZXNzZWQiKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJNaW50IE5GVCBzdWNjZXNzZnVsICEiLAogICAgICAgICAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJNaW50IE5GVCBlcnJvciAhIiwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIk1pbnQgTkZUIGVycm9yICEiLAogICAgICAgICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICJFcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAiTWludCBORlQgZXJyb3IgISIsCiAgICAgICAgICBwb3NpdGlvbjogImJvdHRvbS1yaWdodCIsCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VJbWcoZSkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmltZ0Fycik7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBpbWdMaW1pdCA9IDEwOwogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlczsKICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7CiAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIGRkID0gMDsKICAgICAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGZpbGVzLml0ZW0oZGQpLnR5cGUgIT0gImltYWdlL3BuZyIgJiYKICAgICAgICAgICAgZmlsZXMuaXRlbShkZCkudHlwZSAhPSAiaW1hZ2UvanBlZyIgJiYKICAgICAgICAgICAgZmlsZXMuaXRlbShkZCkudHlwZSAhPSAiaW1hZ2UvZ2lmIgogICAgICAgICAgKSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLku4XmlK/mjIHlm77niYfnsbvlnovvvIEiKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGZpbGVzLml0ZW0oZGQpLnNpemUgPiBpbWdMaW1pdCAqIDEwMjQwMCkgewogICAgICAgICAgICAvL3RvIGRvIHN0aAogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLlm77niYfopoHmsYLlsI/kuo4xTUIiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGltYWdlLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzLml0ZW0oZGQpKTsKICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIC8vIOm7mOiupOaMieavlOS+i+WOi+e8qQogICAgICAgICAgICAgIHZhciB3ID0gaW1hZ2Uud2lkdGgsCiAgICAgICAgICAgICAgICBoID0gaW1hZ2UuaGVpZ2h0OwogICAgICAgICAgICAgIHZhciBxdWFsaXR5ID0gMTsKICAgICAgICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgICAgICAgIHZhciBhbncgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoIndpZHRoIik7CiAgICAgICAgICAgICAgYW53Lm5vZGVWYWx1ZSA9IHc7CiAgICAgICAgICAgICAgdmFyIGFuaCA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSgiaGVpZ2h0Iik7CiAgICAgICAgICAgICAgYW5oLm5vZGVWYWx1ZSA9IGg7CiAgICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW53KTsKICAgICAgICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlTm9kZShhbmgpOwogICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHcsIGgpOwogICAgICAgICAgICAgIHZhciBleHQgPSBpbWFnZS5zcmMKICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoaW1hZ2Uuc3JjLmxhc3RJbmRleE9mKCIuIikgKyAxKQogICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKCk7IC8v5Zu+54mH5qC85byPCiAgICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoImltYWdlLyIgKyBleHQsIHF1YWxpdHkpOwogICAgICAgICAgICAgIC8vIOWbnuiwg+WHveaVsOi/lOWbnmJhc2U2NOeahOWAvAogICAgICAgICAgICAgIGlmIChfdGhpcy5pbWdBcnIubGVuZ3RoIDw9IDEpIHsKICAgICAgICAgICAgICAgIF90aGlzLmltZ0Fyci51bnNoaWZ0KCIiKTsKICAgICAgICAgICAgICAgIF90aGlzLmltZ0Fyci5zcGxpY2UoMCwgMSwgYmFzZTY0KTsgLy/mm7/mjaLmlbDnu4TmlbDmja7nmoTmlrnms5XvvIzmraTlpITkuI3og73kvb/nlKjvvJp0aGlzLmltZ0FycltpbmRleF0gPSB1cmw7CiAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICB0aXRsZTogIlN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOgogICAgICAgICAgICAgICAgICAgICJJbWFnZSB1cGxvYWQgc3VjY2Vzc2Z1bCEgWW91IGNhbiByaWdodC1jbGljayB0byBkZWxldGUgaXQgIiwKICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiLAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy51cGxvYWQudmFsdWUgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKF90aGlzLmltZ0Fyci5sZW5ndGggPj0gMSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5hbGxvd0FkZEltZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChkZCA8IGZpbGVzLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgZGQrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlSW1nKGluZGV4KSB7CiAgICAgIHRoaXMuaW1nQXJyLnNwbGljZShpbmRleCwgMSk7CiAgICAgIGlmICh0aGlzLmltZ0Fyci5sZW5ndGggPCA1KSB7CiAgICAgICAgdGhpcy5hbGxvd0FkZEltZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBtaW50KCkgewogICAgICBjb25zdCBtb2RlbERhdGEgPSBnZXRTdG9yZSgiZ3JhcGgiKTsKICAgICAgdHJ5IHsKICAgICAgICB0aGlzLmNvbmZpcm1NaW50KAogICAgICAgICAgbW9kZWxEYXRhLAogICAgICAgICAgdGhpcy51c2VyLAogICAgICAgICAgdGhpcy5ydWxlRm9ybS5uYW1lLAogICAgICAgICAgdGhpcy5ydWxlRm9ybS5kZXNjLAogICAgICAgICAgdGhpcy5pbWdBcnJbMF0KICAgICAgICApOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMucnVsZUZvcm0ubmFtZSA9ICIiOwogICAgICAgIHRoaXMucnVsZUZvcm0uZGVzYyA9ICIiOwogICAgICAgIHRoaXMuaW1nQXJyID0gW107CiAgICAgICAgdGhpcy5hbGxvd0FkZEltZyA9IHRydWU7CiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICB9CiAgICB9LAogICAgLy8g6I635Y+W55S75biD5LmL5aSW55qE546v5aKD5Y+C5pWw77yM6L+U5Zue5YC85pivIEpTT04g5a2X56ym5LiyCiAgICBnZXRQYXJhbXNPdXRzaWRlR3JhcGgoKSB7CiAgICAgIGxldCByZXMgPSB7CiAgICAgICAgY29uZmlnRGF0YTogdGhpcy5jb25maWdEYXRhCiAgICAgIH07CgogICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["MintForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"MintForm.vue","sourceRoot":"src/components/Template","sourcesContent":["<template>\n  <div>\n    <el-form\n      :label-position=\"labelPosition\"\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      ref=\"ruleForm\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <!-- <el-form-item label=\"Model Image\" prop=\"image\">\n        <el-upload\n          action=\"https://jsonplaceholder.typicode.com/posts/\"\n          list-type=\"picture-card\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n        </el-dialog>\n      </el-form-item> -->\n\n      <el-form-item label=\"Model Image\">\n        <div class=\"com-upload-img\">\n          <div class=\"img_group\">\n            <div class=\"img_box\" v-if=\"allowAddImg\">\n              <div>\n                <i class=\"el-icon-picture image-upload-button\"></i>\n                <input\n                  ref=\"upload\"\n                  type=\"file\"\n                  accept=\"image/*\"\n                  multiple=\"multiple\"\n                  class=\"model-image-input\"\n                  @change=\"changeImg($event)\"\n                />\n              </div>\n            </div>\n\n            <viewer :images=\"imgArr\">\n              <img\n                v-for=\"(src, index) in imgArr\"\n                :src=\"src\"\n                :key=\"index\"\n                width=\"450\"\n                class=\"img-show\"\n                @contextmenu.prevent=\"deleteImg(index)\"\n              />\n            </viewer>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"Model Name\" prop=\"name\">\n        <el-input v-model=\"ruleForm.name\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"Description\" prop=\"desc\">\n        <el-input v-model=\"ruleForm.desc\"></el-input>\n      </el-form-item>\n\n      <!-- <el-form-item label=\"Report File\" prop=\"reportFile\">\n        <el-upload\n          accept=\".pdf\"\n          action=\"https://jsonplaceholder.typicode.com/posts/\"\n          :file-list=\"fileArr\"\n          :show-file-list=\"true\"\n          :auto-upload=\"false\"\n          :before-upload=\"beforeUpload\"\n          :on-success=\"upSuccess\"\n          :on-error=\"upError\"\n          :on-change=\"imgPreview\"\n        >\n          <el-button size=\"small\" type=\"primary\" class=\"upload-btn\">\n            <span class=\"iconfont icon-shangchuan\" />Click to Upload\n          </el-button>\n        </el-upload>\n      </el-form-item> -->\n\n      <!-- <el-form-item label=\"Include Model\" prop=\"include\">\n        <el-switch v-model=\"ruleForm.delivery\"></el-switch>\n      </el-form-item> -->\n\n      <!-- <el-form-item label=\"External Link\" prop=\"exlink\">\n        <el-input v-model=\"ruleForm.exlink\"></el-input>\n      </el-form-item> -->\n\n      <el-form-item>\n        <!-- <el-button @click=\"resetForm('ruleForm')\">Reset</el-button> -->\n        <el-button type=\"primary\" @click=\"mint()\">Mint</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n\n<script>\nimport pdf from \"vue-pdf\";\nimport { mintnft } from \"../../api/index\";\nimport { createNFT } from \"../../api/web3/contracts\";\nimport { mapState } from \"vuex\";\nimport { getStore } from \"../../utils/storage\";\nexport default {\n  props: [\"close\"],\n  data() {\n    return {\n      imgArr: [],\n      allowAddImg: true,\n      labelPosition: \"top\",\n      dialogImageUrl: \"\",\n      //fileList: [],\n      pdfUrl: \"\",\n      numPages: [],\n      // fileArr: [],\n      upLoadImgUrl: \"\",\n      dialogVisible: false,\n      ruleForm: {\n        name: \"\",\n        desc: \"\",\n        // include: false,\n        // exlink: \"\",\n      },\n      rules: {\n        name: [\n          {\n            required: true,\n            message: \"Please Enter Model Name\",\n            trigger: \"blur\",\n          },\n          {\n            min: 3,\n            max: 15,\n            message: \"3 to 15 characters long\",\n            trigger: \"blur\",\n          },\n        ],\n        desc: [\n          {\n            required: true,\n            message: \"Please Enter Model Description\",\n            trigger: \"blur\",\n          },\n          {\n            min: 3,\n            max: 150,\n            message: \"3 to 150 characters long\",\n            trigger: \"blur\",\n          },\n        ],\n\n        exlink: [\n          {\n            required: true,\n            message: \"Please Enter External Link\",\n            trigger: \"blur\",\n          },\n          {\n            min: 10,\n            max: 200,\n            message: \"10 to 200 characters long\",\n            trigger: \"blur\",\n          },\n        ],\n        // exlink: [\n        //   { required: true, message: \"Please Enter External Link\", trigger: \"blur\" },\n        //   {\n        //     min: 10,\n        //     max: 200,\n        //     message: \"10 to 200 characters long\",\n        //     trigger: \"blur\",\n        //   },\n        // ],\n      },\n      mintResult: false,\n    };\n  },\n  components: {\n    pdf,\n  },\n  computed: {\n    ...mapState([\"user\", \"statusCode\", \"configData\", \"historySimulateData\"]),\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          alert(\"submit!\");\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    // resetForm(formName) {\n    //   this.$refs[formName].resetFields();\n    // },\n\n    // handleRemove(file, fileList) {\n    //   console.log(file, fileList);\n    // },\n    // handlePictureCardPreview(file) {\n    //   this.dialogImageUrl = file.url;\n    //   this.dialogVisible = true;\n    // },\n    // handleChange(file, fileList) {\n    //   this.fileList = fileList.slice(-3);\n    // },\n    // beforeUpload(file) {\n    //   const fileSuffix = file.name.substring(file.name.lastIndexOf(\".\") + 1);\n    //   const whiteList = [\"pdf\"];\n    //   if (whiteList.indexOf(fileSuffix) === -1) {\n    //     this.$msg(\"上传文件只能是 pdf\");\n    //     return false;\n    //   }\n    // },\n    // imgPreview(file) {\n    //   this.fileArr = [];\n    //   this.fileArr.push(file);\n    //   this.form.position = \"\";\n    //   console.log(file);\n    //   this.form.position = file.name;\n    //   let fileName = file.name;\n    //   let regex = /(.jpg|.jpeg|.gif|.png|.pdf)$/;\n    //   if (regex.test(fileName.toLowerCase())) {\n    //     this.upLoadImgUrl = URL.createObjectURL(file.raw); // 获取URL\n    //     this.pdfUrl = this.getPdfUrl(file);\n    //     console.log(this.upLoadImgUrl);\n    //   } else {\n    //     this.$message.error(\"请选择pdf文件\");\n    //   }\n    // },\n\n    // 上传成功\n    upSuccess(res) {\n      this.$message({\n        message: \"上传成功\",\n        type: \"success\",\n      });\n    },\n    // 上传失败\n    upError(e) {\n      this.$message({\n        message: \"上传失败\",\n        type: \"error\",\n      });\n    },\n    //处理pdf\n    getPdfUrl(file) {\n      console.log(file);\n      let url = window.URL.createObjectURL(file.raw); //将文件转化成url\n      //加载pdf\n      let loadingTask = pdf.createLoadingTask(url);\n      loadingTask.promise\n        .then((pdf) => {\n          this.numPages = pdf.numPages;\n          console.log(this.numPages);\n        })\n        .catch((err) => {\n          console.error(\"pdf 加载失败\", err);\n        });\n      return url;\n    },\n    //调用该函数创建nft\n    confirmMint(modelData, user, name, desc, displayUrl) {\n      // 参数: modelData, params, user, name, desc, displayUrl\n      // 获取画布上节点的参数包装\n      let paramsJSONString = this.getParamsOutsideGraph();\n      let resultJSONString = JSON.stringify(this.historySimulateData);\n\n      const req = {\n        accountAddr: user,\n        metaData: {\n          name: this.ruleForm.name,\n          desc: this.ruleForm.desc,\n          displayUrl: displayUrl,\n          metadataHash: \"\",\n        },\n        secretData: {\n          modelData: modelData,\n          params: paramsJSONString,\n          results: resultJSONString,\n        },\n      };\n      console.log(req);\n      try {\n        mintnft(req).then((backRes) => {\n          if (backRes.message_code == this.statusCode.SUCCESSED) {\n            createNFT(\n              this.user,\n              name,\n              desc,\n              \"\",\n              backRes.data.metadata_hash\n            ).then((chainRes) => {\n              if (chainRes.status == \"successed\") {\n                this.$notify.success({\n                  title: \"Success\",\n                  message: \"Mint NFT successful !\",\n                  position: \"bottom-right\",\n                });\n              } else {\n                this.$notify.error({\n                  title: \"Error\",\n                  message: \"Mint NFT error !\",\n                  position: \"bottom-right\",\n                });\n              }\n            });\n          } else {\n            this.$notify.error({\n              title: \"Error\",\n              message: \"Mint NFT error !\",\n              position: \"bottom-right\",\n            });\n          }\n        });\n      } catch (e) {\n        this.$notify.error({\n          title: \"Error\",\n          message: \"Mint NFT error !\",\n          position: \"bottom-right\",\n        });\n      }\n    },\n    changeImg(e) {\n      // console.log(this.imgArr);\n      var _this = this;\n      var imgLimit = 10;\n      var files = e.target.files;\n      var image = new Image();\n      if (files.length > 0) {\n        var dd = 0;\n        var timer = setInterval(function () {\n          if (\n            files.item(dd).type != \"image/png\" &&\n            files.item(dd).type != \"image/jpeg\" &&\n            files.item(dd).type != \"image/gif\"\n          ) {\n            _this.$message.error(\"仅支持图片类型！\");\n            return false;\n          }\n          if (files.item(dd).size > imgLimit * 102400) {\n            //to do sth\n            this.$message.error(\"图片要求小于1MB\");\n          } else {\n            image.src = window.URL.createObjectURL(files.item(dd));\n            image.onload = function () {\n              // 默认按比例压缩\n              var w = image.width,\n                h = image.height;\n              var quality = 1;\n              var canvas = document.createElement(\"canvas\");\n              var ctx = canvas.getContext(\"2d\");\n              var anw = document.createAttribute(\"width\");\n              anw.nodeValue = w;\n              var anh = document.createAttribute(\"height\");\n              anh.nodeValue = h;\n              canvas.setAttributeNode(anw);\n              canvas.setAttributeNode(anh);\n              ctx.drawImage(image, 0, 0, w, h);\n              var ext = image.src\n                .substring(image.src.lastIndexOf(\".\") + 1)\n                .toLowerCase(); //图片格式\n              var base64 = canvas.toDataURL(\"image/\" + ext, quality);\n              // 回调函数返回base64的值\n              if (_this.imgArr.length <= 1) {\n                _this.imgArr.unshift(\"\");\n                _this.imgArr.splice(0, 1, base64); //替换数组数据的方法，此处不能使用：this.imgArr[index] = url;\n                _this.$notify.success({\n                  title: \"Success\",\n                  message:\n                    \"Image upload successful! You can right-click to delete it \",\n                  position: \"bottom-right\",\n                });\n                _this.$refs.upload.value = null;\n                if (_this.imgArr.length >= 1) {\n                  _this.allowAddImg = false;\n                }\n              }\n            };\n          }\n          if (dd < files.length - 1) {\n            dd++;\n          } else {\n            clearInterval(timer);\n          }\n        }, 1000);\n      }\n    },\n    deleteImg(index) {\n      this.imgArr.splice(index, 1);\n      if (this.imgArr.length < 5) {\n        this.allowAddImg = true;\n      }\n    },\n    mint() {\n      const modelData = getStore(\"graph\");\n      try {\n        this.confirmMint(\n          modelData,\n          this.user,\n          this.ruleForm.name,\n          this.ruleForm.desc,\n          this.imgArr[0]\n        );\n      } finally {\n        this.ruleForm.name = \"\";\n        this.ruleForm.desc = \"\";\n        this.imgArr = [];\n        this.allowAddImg = true;\n        this.close();\n      }\n    },\n    // 获取画布之外的环境参数，返回值是 JSON 字符串\n    getParamsOutsideGraph() {\n      let res = {\n        configData: this.configData\n      };\n\n      return JSON.stringify(res);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped >\n.img_box {\n  position: relative;\n  .image-upload-button {\n    font-size: 60px;\n    margin-left: 30px;\n  }\n  .model-image-input {\n    position: absolute;\n    font-size: 40px;\n    left: 30px;\n    top: 0;\n    opacity: 0;\n    width: 60px;\n  }\n}\n.img-show {\n  margin-left: 15px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12), 0 0 6px rgba(0, 0, 0, 0.04);\n}\n</style>"]}]}