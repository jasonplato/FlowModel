{"remainingRequest":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js!/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangxufei/Desktop/FlowModel/src/components/create/RuleEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangxufei/Desktop/FlowModel/src/components/create/RuleEdit.vue","mtime":1652163070443},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangxufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dhbmd4dWZlaS9EZXNrdG9wL0Zsb3dNb2RlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdSdWxlOiBudWxsLAogICAgICBsb2FkZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKFsiU0FWRV9FRElUX1JVTEUiXSksIHsKICAgIGVkaXQ6IGZ1bmN0aW9uIGVkaXQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGlucHV0U3RyZWFtID0gbmV3IElucHV0U3RyZWFtKHRoaXMubmV3UnVsZS5jb250ZW50KTsKICAgICAgICB2YXIgbGV4ZXIgPSBuZXcgR3JhbW1hckxleGVyKGlucHV0U3RyZWFtKTsKICAgICAgICB2YXIgdG9rZW5TdHJlYW0gPSBuZXcgQ29tbW9uVG9rZW5TdHJlYW0obGV4ZXIpOwogICAgICAgIHZhciBwYXJzZXIgPSBuZXcgR3JhbW1hclBhcnNlcih0b2tlblN0cmVhbSk7CiAgICAgICAgdmFyIHRyZWUgPSBwYXJzZXIuY2hlY2soKTsKICAgICAgICBjb25zb2xlLmxvZyh0cmVlLmdldENoaWxkKDEpKTsKICAgICAgICB0aGlzLlNBVkVfRURJVF9SVUxFKHRoaXMubmV3UnVsZSk7CiAgICAgICAgdGhpcy5ydWxlRWRpdFNob3cuc2hvdyA9IGZhbHNlOwogICAgICB9IGNhdGNoIChfdW51c2VkKSB7CiAgICAgICAgLy8gVE9ETyDlr7nkuo7or63ms5XplJnor6/nmoTmg4XlhrXvvIx0cnktY2F0Y2gKICAgICAgICBhbGVydCgiV3JvbmcgR3JhbW1hciEiKTsKICAgICAgfQogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInJ1bGVFZGl0U2hvdyIsICJlZGl0UnVsZSIsICJydWxlTGlzdHMiXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMucnVsZUVkaXRTaG93LmFkZCkgewogICAgICB0aGlzLm5ld1J1bGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmVkaXRSdWxlKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBuZXdJZCA9IDA7CgogICAgICBpZiAodGhpcy5ydWxlTGlzdHMubGVuZ3RoID09IDApIHt9IGVsc2UgewogICAgICAgIG5ld0lkID0gdGhpcy5ydWxlTGlzdHNbdGhpcy5ydWxlTGlzdHMubGVuZ3RoIC0gMV0uaWQgKyAxOwogICAgICB9CgogICAgICB0aGlzLm5ld1J1bGUgPSB7CiAgICAgICAgaWQ6IG5ld0lkLAogICAgICAgIGxhYmVsOiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBzdGF0dXM6IGZhbHNlCiAgICAgIH07CiAgICB9CgogICAgdGhpcy5sb2FkZWQgPSB0cnVlOwogIH0KfTs="},{"version":3,"sources":["RuleEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,QAAA,EAAA,YAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,oBACA,YAAA,CAAA,CAAA,gBAAA,CAAA,CADA;AAEA,IAAA,IAFA,kBAEA;AACA,UAAA;AACA,YAAA,WAAA,GAAA,IAAA,WAAA,CAAA,KAAA,OAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,GAAA,IAAA,YAAA,CAAA,WAAA,CAAA;AACA,YAAA,WAAA,GAAA,IAAA,iBAAA,CAAA,KAAA,CAAA;AACA,YAAA,MAAA,GAAA,IAAA,aAAA,CAAA,WAAA,CAAA;AACA,YAAA,IAAA,GAAA,MAAA,CAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AACA,aAAA,cAAA,CAAA,KAAA,OAAA;AACA,aAAA,YAAA,CAAA,IAAA,GAAA,KAAA;AACA,OATA,CASA,gBAAA;AACA;AACA,QAAA,KAAA,CAAA,gBAAA,CAAA;AACA;AAEA;AAjBA,IAPA;AA0BA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,cAAA,EAAA,UAAA,EAAA,WAAA,CAAA,CADA,CA1BA;AA6BA,EAAA,OA7BA,qBA6BA;AACA,QAAA,CAAA,KAAA,YAAA,CAAA,GAAA,EAAA;AACA,WAAA,OAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,KAAA,QAAA,CAAA;AACA,KAFA,MAEA;AACA,UAAA,KAAA,GAAA,CAAA;;AACA,UAAA,KAAA,SAAA,CAAA,MAAA,IAAA,CAAA,EAAA,CACA,CADA,MACA;AACA,QAAA,KAAA,GAAA,KAAA,SAAA,CAAA,KAAA,SAAA,CAAA,MAAA,GAAA,CAAA,EAAA,EAAA,GAAA,CAAA;AACA;;AAEA,WAAA,OAAA,GAAA;AAAA,QAAA,EAAA,EAAA,KAAA;AAAA,QAAA,KAAA,EAAA,EAAA;AAAA,QAAA,OAAA,EAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AACA;;AACA,SAAA,MAAA,GAAA,IAAA;AACA;AA1CA,CAAA","sourcesContent":["<template >\n  <div>\n    <div class=\"rule-edit-container\" v-if=\"loaded\">\n      <el-dialog\n        title=\"Property Edit\"\n        :visible.sync=\"ruleEditShow.show\"\n        width=\"30%\"\n      >\n        <div class=\"name\">\n          <span>Property Name:</span\n          ><el-input\n            class=\"name-input\"\n            v-model=\"newRule.label\"\n            placeholder=\"\"\n          ></el-input>\n        </div>\n\n        <div class=\"content\">\n          <span>Property Content:</span>\n          <el-input\n            class=\"content-input\"\n            v-model=\"newRule.content\"\n            placeholder=\"\"\n          ></el-input>\n        </div>\n\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"ruleEditShow.show = false\">Cancel</el-button>\n          <el-button type=\"primary\" @click=\"edit()\">Confirm</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n  data() {\n    return {\n      newRule: null,\n      loaded: false,\n    };\n  },\n  methods: {\n    ...mapMutations([\"SAVE_EDIT_RULE\"]),\n    edit() {\n      try {\n        const inputStream = new InputStream(this.newRule.content);\n        const lexer = new GrammarLexer(inputStream);\n        const tokenStream = new CommonTokenStream(lexer);\n        const parser = new GrammarParser(tokenStream);\n        const tree = parser.check();\n        console.log(tree.getChild(1));\n        this.SAVE_EDIT_RULE(this.newRule);\n        this.ruleEditShow.show = false;\n      } catch {\n        // TODO 对于语法错误的情况，try-catch\n        alert(\"Wrong Grammar!\");\n      }\n      \n    },\n  },\n  computed: {\n    ...mapState([\"ruleEditShow\", \"editRule\", \"ruleLists\"]),\n  },\n  mounted() {\n    if (!this.ruleEditShow.add) {\n      this.newRule = Object.assign({}, this.editRule);\n    } else {\n      let newId = 0;\n      if (this.ruleLists.length == 0) {\n      } else {\n        newId = this.ruleLists[this.ruleLists.length - 1].id + 1;\n      }\n\n      this.newRule = { id: newId, label: \"\", content: \"\", status: false };\n    }\n    this.loaded = true;\n  },\n};\n</script>\n<style lang=\"scss\">\n.rule-edit-container {\n  width: 400px;\n  .el-dialog {\n    border-radius: 20px;\n  }\n  .name {\n    .name-input {\n      margin-left: 20px;\n      width: 300px;\n    }\n  }\n  .content {\n    margin-top: 20px;\n    .content-input {\n      margin-left: 10px;\n      width: 300px;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components/create"}]}