{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js!/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/components/Detail/MakeOfferDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/components/Detail/MakeOfferDialog.vue","mtime":1653708835741},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":1653708688758},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3h1ZmVpL0Rlc2t0b3AvRmxvd01vZGVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3h1ZmVpL0Rlc2t0b3AvRmxvd01vZGVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgZ2V0RU9BUHVia2V5IH0gZnJvbSAiLi4vLi4vdXRpbHMvY3J5cHRvVXRpbCI7CmltcG9ydCB7IHNhdmVvZmZlciB9IGZyb20gIi4uLy4uL2FwaS9pbmRleCI7CmltcG9ydCB7IGFwcHJvdmVORlQgfSBmcm9tICIuLi8uLi9hcGkvd2ViMy9jb250cmFjdHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsidXNlciJdKSksCiAgcHJvcHM6IFsibmZ0SWQiLCAiY2xvc2VNYWtlT2ZmZXIiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1ha2VvZmZlcjogZnVuY3Rpb24gbWFrZW9mZmVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcHViLCBwYXJhbXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RU9BUHVia2V5KF90aGlzLnVzZXIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwdWIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgLy8gbGV0IGVuY1B1YiA9IGF3YWl0IGVuY3J5cHREYXRhRU9BKHB1YiwgdGhpcy51c2VyKTsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgIm5mdElkIjogX3RoaXMubmZ0SWQsCiAgICAgICAgICAgICAgICAgICJhZGRyZXNzIjogX3RoaXMudXNlciwKICAgICAgICAgICAgICAgICAgInByaWNlIjogX3RoaXMuYWNjb3VudCwKICAgICAgICAgICAgICAgICAgImtleSI6IHB1YgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHNhdmVvZmZlcihwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLm1lc3NhZ2VfY29kZSA9PSA1MDApIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiU1VDQ0VTUyBzeW5jIG9mZmVyIGRhdGEgdG8gZGF0YWJhc2UiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGQUlMIHN5bmMgb2ZmZXIgZGF0YSB0byBkYXRhYmFzZSIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZU1ha2VPZmZlcigpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy5uZnRJZCk7CiAgfQp9Ow=="},{"version":3,"sources":["MakeOfferDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAiBA,SAAA,QAAA,QAAA,MAAA;AAEA,SAAA,YAAA,QAAA,wBAAA;AACA,SAAA,SAAA,QAAA,iBAAA;AACA,SAAA,UAAA,QAAA,0BAAA;AAEA,eAAA;AACA,EAAA,QAAA,oBACA,QAAA,CAAA,CACA,MADA,CAAA,CADA,CADA;AAMA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,gBAAA,CANA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,YAAA,CAAA,KAAA,CAAA,IAAA,CADA;;AAAA;AACA,gBAAA,GADA;AAEA;AAEA,gBAAA,MAJA,GAIA;AACA,2BAAA,KAAA,CAAA,KADA;AAEA,6BAAA,KAAA,CAAA,IAFA;AAGA,2BAAA,KAAA,CAAA,OAHA;AAIA,yBAAA;AAJA,iBAJA;AAWA,gBAAA,SAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,sBAAA,GAAA,CAAA,YAAA,IAAA,GAAA,EAAA;AACA,oBAAA,OAAA,CAAA,GAAA,CAAA,qCAAA;AACA,mBAFA,MAEA;AACA,oBAAA,OAAA,CAAA,KAAA,CAAA,kCAAA;AACA;AACA,iBANA;;AAOA,gBAAA,KAAA,CAAA,cAAA;;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AApBA,GAZA;AAkCA,EAAA,OAlCA,qBAkCA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA;AApCA,CAAA","sourcesContent":["<template >\n  <div class=\"content\">\n    <div class=\"item\">\n      <p class=\"item-title\">Price</p>\n      <div class=\"item-content\">\n        <span class=\"coin-name\"> WETH </span>\n        <el-input\n          class=\"account-input\"\n          v-model=\"account\"\n          placeholder=\"Amount\"\n        ></el-input>\n      </div>\n    </div>\n    <el-button class=\"make-offer-button\" type=\"primary\" @click=\"makeoffer()\">Make Offer</el-button>\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\n\nimport { getEOAPubkey } from \"../../utils/cryptoUtil\";\nimport { saveoffer } from \"../../api/index\";\nimport { approveNFT } from \"../../api/web3/contracts\";\n\nexport default {\n  computed: {\n    ...mapState([\n      \"user\",\n    ]),\n  },\n  props: [\"nftId\", \"closeMakeOffer\"],\n  data() {\n    return {\n      account: 0,\n    };\n  },\n  methods: {\n    async makeoffer() {\n      let pub = await getEOAPubkey(this.user);\n      // let encPub = await encryptDataEOA(pub, this.user);\n\n      let params = {\n        \"nftId\": this.nftId,\n        \"address\": this.user,\n        \"price\": this.account,\n        \"key\": pub,\n      };\n\n      saveoffer(params).then((res) => {\n        if (res.message_code == 500) {\n          console.log(\"SUCCESS sync offer data to database\");\n        } else {\n          console.error(\"FAIL sync offer data to database\");\n        }\n      });\n      this.closeMakeOffer();\n    } \n  },\n  mounted() {\n    console.log(this.nftId);\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.item {\n  .item-title {\n    font-size: 18px;\n    font-weight: 600;\n    text-align: left;\n    padding: 10px 0px;\n  }\n  .item-content {\n    border-radius: 5px;\n    border: solid 1px rgb(202, 201, 201);\n    .coin-name {\n      display: inline-block;\n      font-weight: 600;\n      padding: 5px 20px;\n    }\n    .account-input {\n      width: 80%;\n      border-left: 1px solid rgb(206, 206, 206);\n      /deep/ .el-input__inner {\n        border: none;\n        font-weight: 600;\n      }\n    }\n  }\n}\n.make-offer-button {\n  margin: 30px 39%;\n  font-weight: 600;\n}\n</style>"],"sourceRoot":"src/components/Detail"}]}