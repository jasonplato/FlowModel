{"remainingRequest":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js!/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xufei/Desktop/FlowModel/src/components/create/RightToolsNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xufei/Desktop/FlowModel/src/components/create/RightToolsNavbar.vue","mtime":1653708835745},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/babel-loader/lib/index.js","mtime":1653708688758},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/cache-loader/dist/cjs.js","mtime":1653708689072},{"path":"/Users/xufei/Desktop/FlowModel/node_modules/vue-loader/lib/index.js","mtime":1653708694636}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy94dWZlaS9EZXNrdG9wL0Zsb3dNb2RlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy94dWZlaS9EZXNrdG9wL0Zsb3dNb2RlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgTW9kZWwgfSBmcm9tICIuLi8uLi9ncmFwaC9tb2RlbCI7CmltcG9ydCB7IERhdGFVcmkgfSBmcm9tICJAYW50di94NiI7CmltcG9ydCB7IHNldFN0b3JlIH0gZnJvbSAiLi4vLi4vdXRpbHMvc3RvcmFnZSI7CmltcG9ydCB7IFByb3BlcnR5VmlzaXRvciB9IGZyb20gIi4uLy4uL2dyYXBoL3Byb3BlcnR5VmlzaXRvciI7Cgp2YXIgYW50bHI0ID0gcmVxdWlyZSgiYW50bHI0Iik7Cgp2YXIgSW5wdXRTdHJlYW0gPSBhbnRscjQuSW5wdXRTdHJlYW07CnZhciBDb21tb25Ub2tlblN0cmVhbSA9IGFudGxyNC5Db21tb25Ub2tlblN0cmVhbTsKCnZhciBHcmFtbWFyUGFyc2VyID0gcmVxdWlyZSgiLi4vLi4vcGFyc2VyL1Byb3BlcnR5UGFyc2VyIikuUHJvcGVydHlQYXJzZXI7Cgp2YXIgR3JhbW1hckxleGVyID0gcmVxdWlyZSgiLi4vLi4vcGFyc2VyL1Byb3BlcnR5TGV4ZXIiKS5Qcm9wZXJ0eUxleGVyOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50U2ltdWxhdGlvbkRheXM6IG51bGwsCiAgICAgIGN1cnJlbnRTaW11bGF0aW9uU2xvdDogbnVsbCwKICAgICAgbW9kaWZ5RGlzYWJsZWQ6IHRydWUsCiAgICAgIGRpYWxvZ0xvZ0luVmlzaWJsZTogZmFsc2UsCiAgICAgIG5vd2FpdDogdHJ1ZQogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbIlpPT01fR1JBUEgiLCAiUE9TSVRJT05JTkdfR1JBUEgiLCAiVU5ET19HUkFQSCIsICJSRURPX0dSQVBIIiwgIk1PRElGWV9DT05GSUdEQVRBIiwgIkxPQURfQ09ORklHREFUQSIsICJTSE9XX1VQTE9BRF9ESUFMT0ciLCAiU0VUX01PREVMIiwgIlJFTU9WRV9DRUxMUyIsICJBUFBFTkRfSElTVE9SWV9TSU1VTEFURV9EQVRBIiwgIlNFVF9ISVNUT1JZX1NJTVVMQVRFX0RBVEEiLCAiU0VUX05PTkNFIl0pLCB7CiAgICBmb3JtYXRUb29sdGlwOiBmdW5jdGlvbiBmb3JtYXRUb29sdGlwKHZhbCkgewogICAgICByZXR1cm4gdmFsIC8gMTAwOwogICAgfSwKCiAgICAvKioKICAgIOS/ruaUueWFqOWxgOmFjee9ruS/oeaBrwogICAgICovCiAgICBtb2RpZnlDb25maWdEYXRhOiBmdW5jdGlvbiBtb2RpZnlDb25maWdEYXRhKCkgewogICAgICBzZXRTdG9yZSgiY29uZmlnX2RhdGEiLCB0aGlzLmNvbmZpZ0RhdGEpOwogICAgfSwKCiAgICAvKioKICAgIOS4i+i9veW9k+WJjeaooeWei+S4umpzb27mlofku7YKICAgICAqLwogICAgZG93bmxvYWRHcmFwaDogZnVuY3Rpb24gZG93bmxvYWRHcmFwaCgpIHsKICAgICAgLy/ojrflj5bml7bpl7TmiLMKICAgICAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudmFsdWVPZigpOyAvL+WwhuWFqOWxgOmFjee9ruS/oeaBr+WSjOeUu+W4g+aVsOaNruWwgeijheaIkOWvueixoQoKICAgICAgdmFyIG1vZGVsRGF0YSA9IHsKICAgICAgICBtb2RlbDogewogICAgICAgICAgY29uZmlnRGF0YTogdGhpcy5jb25maWdEYXRhLAogICAgICAgICAgZ3JhcGg6IHRoaXMuZ3JhcGgKICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBmaWxlbmFtZSA9ICJNb2RlbCIgKyB0aW1lc3RhbXAgKyAiLmpzb24iOwogICAgICB2YXIgZGF0YSA9IEpTT04uc3RyaW5naWZ5KG1vZGVsRGF0YSwgdW5kZWZpbmVkLCA0KTsKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHsKICAgICAgICB0eXBlOiAidGV4dC9qc29uIgogICAgICB9KSwKICAgICAgICAgIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGEuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgYS5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7IC8vIOagh+etviBkYXRhLSDltYzlhaXoh6rlrprkuYnlsZ7mgKcgIOWxj+iUveWQjuS5n+WPr+ato+W4uOS4i+i9vQoKICAgICAgYS5kYXRhc2V0LmRvd25sb2FkdXJsID0gWyJ0ZXh0L2pzb24iLCBhLmRvd25sb2FkLCBhLmhyZWZdLmpvaW4oIjoiKTsgLy8g5re75Yqg6byg5qCH5LqL5Lu2CgogICAgICB2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudCgiY2xpY2siLCB7fSk7IC8vIOWQkeS4gOS4quaMh+WumueahOS6i+S7tuebruagh+a0vuWPkeS4gOS4quS6i+S7tgoKICAgICAgYS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsKICAgIH0sCgogICAgLyoqCiAgICDkuIrkvKDlt7LmnInnmoTmqKHlnovvvIxqc29u5paH5Lu2CiAgICAgKi8KICAgIHVwbG9hZEdyYXBoOiBmdW5jdGlvbiB1cGxvYWRHcmFwaCgpIHsKICAgICAgdGhpcy5TSE9XX1VQTE9BRF9ESUFMT0coKTsKICAgIH0sCgogICAgLyoKICAgIOW8gOWni+a1i+eulwogICAgKi8KICAgIHN0YXJ0U2ltdWxhdGlvbjogZnVuY3Rpb24gc3RhcnRTaW11bGF0aW9uKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgbW9kZWw7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8g5rWL566X5byA5aeL77yM5byA5ZCvIGxvYWRpbmcg5Zu+5qCHCiAgICAgICAgICAgICAgICBfdGhpcy5ub3dhaXQgPSBmYWxzZTsgLy8g5qih5Z6L5Yid5qyh5rWL566X5pe2CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLm1vZGVsID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN0YXJ0aW5nIHNpbXVsYXRpb24uLi4iLCBfdGhpcy5jb25maWdEYXRhLnNpbXVsYXRpb25EYXlzLCAiZGF5cyIsICIgd2l0aCBjb250cm9sIHNsb3Q6IiwgX3RoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdCwgImRheXMiKTsKICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuZXcgTW9kZWwoX3RoaXMuZ3JhcGgsIF90aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvbkRheXMsIF90aGlzLmNvbmZpZ0RhdGEuc2ltdWxhdGlvblNsb3QpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuU0VUX01PREVMKG1vZGVsKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLkFQUEVORF9ISVNUT1JZX1NJTVVMQVRFX0RBVEEoewogICAgICAgICAgICAgICAgICAgIHR5cGU6IF90aGlzLm5vbmNlLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IF90aGlzLm1vZGVsLmRhdGEKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyBUT0RPIFtEb25lXSDmqKHlnovlt7Lnu4/lrZjlnKjml7bvvIzlhbbnm7jlhbPlj4LmlbDpnIDopoHmoLnmja7nlLvluIPkuIrnmoTmnIDmlrDnirbmgIHmnaXmm7TmlrAKICAgICAgICAgICAgICAgICAgX3RoaXMubW9kZWwuc2VsZlVwZGF0ZShfdGhpcy5ncmFwaCwgX3RoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uRGF5cywgX3RoaXMuY29uZmlnRGF0YS5zaW11bGF0aW9uU2xvdCk7CiAgICAgICAgICAgICAgICB9IC8vIOiuvue9riBtb2RlbCDnmoTnirbmgIHkuLogMSAtIOato+WcqOa1i+eul+S4rQoKCiAgICAgICAgICAgICAgICBfdGhpcy5tb2RlbC5zdGF0dXMgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubW9kZWwuc3RhcnQoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgLy8g5rWL566X57uI5q2i77yI5q2j5bi457uI5q2iIC8g5pqC5YGc57uI5q2i77yJ5pe25pu05paw5rWL566X5Y6G5Y+y5pWw5o2uCiAgICAgICAgICAgICAgICBfdGhpcy5TRVRfSElTVE9SWV9TSU1VTEFURV9EQVRBKF90aGlzLm5vY25lLCBfdGhpcy5tb2RlbC5kYXRhKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMubW9kZWwuc3RhdHVzICE9IDIpIHsKICAgICAgICAgICAgICAgICAgLy8g5b2T5qih5Z6L5aSE5LqO6Z2eIFBhdXNlIOeKtuaAgeaXtgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidGhlIHNpbXVsYXRpb24gaXMgZW5kZWQiKTsKICAgICAgICAgICAgICAgIH0gLy8gIOa1i+eul+e7iOatou+8iOato+W4uOe7iOatoiAvIOaaguWBnOe7iOatou+8ie+8jOWFs+mXrSBsb2FkaW5nIOWbvuaghwoKCiAgICAgICAgICAgICAgICBfdGhpcy5ub3dhaXQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIF90aGlzLmNoZWNrUHJvcGVydHkoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKgogICAg5pqC5YGc5rWL566XCiAgICAqLwogICAgcGF1c2VTaW11bGF0aW9uOiBmdW5jdGlvbiBwYXVzZVNpbXVsYXRpb24oKSB7CiAgICAgIC8vIFRPRE8g5aSE5LqO5pqC5YGc54q25oCB5Lit77yM55S75biD5LiK55qE5p+Q5Lqb5LiN5Y+v5pS555qE5Y+C5pWw5bqU6K+l572u5Li654Gw6Imy5oiW5LiN5Y+v6YCJKOS4jeWPr+aWsOW7uuOAgeWIoOmZpOiKgueCue+8m+S4jeWPr+abtOaUueeahOWPguaVsOWmgikKICAgICAgLy8g5rWL566X5pqC5YGc77yM5YWz6ZetIGxvYWRpbmcg5Zu+5qCHCiAgICAgIHRoaXMubm93YWl0ID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coInBhdXNpbmcgc2ltdWxhdGlvbi4uLiIpOwoKICAgICAgaWYgKHRoaXMubW9kZWwgPT0gbnVsbCkgewogICAgICAgIGNvbnNvbGUubG9nKCJ0aGVyZSdzIG5vIG1vZGVsIHJ1bm5pbmchIik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5L+u5pS55qih5Z6L55qE54q25oCB5Li6IDIgLSDmmoLlgZwKICAgICAgICB0aGlzLm1vZGVsLnN0YXR1cyA9IDI7CiAgICAgICAgY29uc29sZS5sb2coIlRoZSBtb2RlbCBpcyBwYXVzZWQuICIsICJZb3UgY2FuIG9ubHkgYWRqdXN0IHBhcmFtcyBvbiBleGlzdGluZyBtb2RlbC4gIiwgIklmIHlvdSBuZWVkIHRvIGFkanVzdCB0aGUgYXJjaGl0ZWN0dXJlIG9mIG1vZGVsLCBwbGVhc2UgRU5EIGN1cnJlbnQgc2ltdWxhdGlvbiBmaXJzdCIpOwogICAgICB9CiAgICB9LAoKICAgIC8qCiAgICDnu5PmnZ/lvZPliY3mtYvnrpcKICAgICovCiAgICBlbmRTaW11bGF0aW9uOiBmdW5jdGlvbiBlbmRTaW11bGF0aW9uKCkgewogICAgICAvLyDmtYvnrpfmmoLlgZzvvIzlhbPpl60gbG9hZGluZyDlm77moIcKICAgICAgdGhpcy5ub3dhaXQgPSB0cnVlOwogICAgICBjb25zb2xlLmxvZygiZW5kaW5nIHNpbXVsYXRpb24uLi4iKTsgLy8g5L+u5pS55qih5Z6L55qE54q25oCB5Li6IDAgLSDlgZzmraIKCiAgICAgIHRoaXMubW9kZWwuc3RhdHVzID0gMDsgLy8g5bCG5b2T5YmN5qih5Z6L572u5Li6IG51bGwKCiAgICAgIHRoaXMuU0VUX01PREVMKG51bGwpOwogICAgICBjb25zb2xlLmxvZygidGhlIHNpbXVsYXRpb24gaXMgZW5kZWQiKTsgLy8g5b2T5YmN5rWL566X57uT5p2f5ZCO77yM5bCG6K6w5b2V5Y6G5Y+y5pWw5o2u5qyh5pWw55qEIG5vbmNlIOWAvOWinuWKoCAxCgogICAgICB0aGlzLlNFVF9OT05DRSh0aGlzLm5vbmNlICsgMSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5LiL6L295qih5Z6L5Zu+54mHCiAgICAgKi8KICAgIHNhdmVHcmFwaFRvUE5HOiBmdW5jdGlvbiBzYXZlR3JhcGhUb1BORygpIHsKICAgICAgdGhpcy5ncmFwaC50b1BORyhmdW5jdGlvbiAoZGF0YVVyaSkgewogICAgICAgIC8vIOS4i+i9vQogICAgICAgIERhdGFVcmkuZG93bmxvYWREYXRhVXJpKGRhdGFVcmksICJjaGFydC5wbmciKTsKICAgICAgfSwgewogICAgICAgIHBhZGRpbmc6IHsKICAgICAgICAgIHRvcDogMjAsCiAgICAgICAgICByaWdodDogMjAsCiAgICAgICAgICBib3R0b206IDIwLAogICAgICAgICAgbGVmdDogMjAKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOiOt+WPluaooeWei+a1i+eul+i/m+ihjOS4reeahOaXtumXtAogICAgICovCiAgICBnZXRNb2RlbFRpbWU6IGZ1bmN0aW9uIGdldE1vZGVsVGltZSgpIHsKICAgICAgaWYgKHRoaXMubW9kZWwgPT0gbnVsbCkgcmV0dXJuIDA7CiAgICAgIHJldHVybiB0aGlzLm1vZGVsLmN1ckRheTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmo4Dmn6UgUHJvcGVydHkg5YiX6KGo5Lit55qE5omA5pyJIFByb3BlcnR5CiAgICAgKi8KICAgIGNoZWNrUHJvcGVydHk6IGZ1bmN0aW9uIGNoZWNrUHJvcGVydHkoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ydWxlTGlzdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaW5wdXRTdHJlYW0gPSBuZXcgSW5wdXRTdHJlYW0odGhpcy5ydWxlTGlzdHNbaV0uY29udGVudCk7CiAgICAgICAgdmFyIGxleGVyID0gbmV3IEdyYW1tYXJMZXhlcihpbnB1dFN0cmVhbSk7CiAgICAgICAgdmFyIHRva2VuU3RyZWFtID0gbmV3IENvbW1vblRva2VuU3RyZWFtKGxleGVyKTsKICAgICAgICB2YXIgcGFyc2VyID0gbmV3IEdyYW1tYXJQYXJzZXIodG9rZW5TdHJlYW0pOwogICAgICAgIHBhcnNlci5yZW1vdmVFcnJvckxpc3RlbmVycygpOwogICAgICAgIHBhcnNlci5hZGRFcnJvckxpc3RlbmVyKHsKICAgICAgICAgIHN5bnRheEVycm9yOiBmdW5jdGlvbiBzeW50YXhFcnJvcihyZWNvZ25pemVyLCBvZmZlbmRpbmdTeW1ib2wsIGxpbmUsIGNvbHVtbiwgbXNnLCBlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiIi5jb25jYXQob2ZmZW5kaW5nU3ltYm9sLCAiIGxpbmUgIikuY29uY2F0KGxpbmUsICIsIGNvbCAiKS5jb25jYXQoY29sdW1uLCAiOiAiKS5jb25jYXQobXNnKSk7CiAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgdHJlZSA9IHBhcnNlci5jaGVjaygpOyAvLyBwYXJzZXIuZ2V0SW52b2tpbmdDb250ZXh0KCkKCiAgICAgICAgdmFyIHZpc2l0b3IgPSBuZXcgUHJvcGVydHlWaXNpdG9yKHRoaXMubW9kZWwuY3VyRGF5LCB0aGlzLmhpc3RvcnlTaW11bGF0ZURhdGFbdGhpcy5oaXN0b3J5U2ltdWxhdGVEYXRhLmxlbmd0aCAtIDFdLmRhdGEsIHRoaXMuZ3JhcGgubW9kZWwuZ2V0Tm9kZXMoKSk7CiAgICAgICAgdHJlZS5hY2NlcHQodmlzaXRvcik7CgogICAgICAgIGlmICh2aXNpdG9yLnN0YXRlID49IDQpIHsKICAgICAgICAgIHRoaXMucnVsZUxpc3RzW2ldLnN0YXR1cyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsiY29uZmlnRGF0YSIsICJncmFwaCIsICJtb2RlbCIsICJub25jZSIsICJydWxlTGlzdHMiLCAiaGlzdG9yeVNpbXVsYXRlRGF0YSJdKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07"},{"version":3,"sources":["RightToolsNavbar.vue"],"names":[],"mappings":"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","sourcesContent":["<template >\n  <div class=\"top-container\">\n    <!-- 工具栏 -->\n    <div class=\"tool-bar\">\n      <h4>Tools</h4>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Enlarge\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"ZOOM_GRAPH('up')\" class=\"el-icon-zoom-in\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Lessen\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"ZOOM_GRAPH('down')\" class=\"el-icon-zoom-out\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Focus canvas \"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"POSITIONING_GRAPH()\" class=\"el-icon-full-screen\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Undo operation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"UNDO_GRAPH()\" class=\"el-icon-back\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Redo operation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"REDO_GRAPH()\" class=\"el-icon-right\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Download model\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"saveGraphToPNG()\" class=\"el-icon-camera-solid\"></i>\n      </el-tooltip>\n\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Remove cells \"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"REMOVE_CELLS()\" class=\"el-icon-delete\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Start simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n        v-if=\"nowait\"\n      >\n        <i @click=\"startSimulation()\" class=\"el-icon-video-play\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Start simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n        v-else\n      >\n        <i class=\"el-icon-loading\"></i>\n      </el-tooltip>\n\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"Pause simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"pauseSimulation()\" class=\"el-icon-video-pause\"></i>\n      </el-tooltip>\n      <el-tooltip\n        class=\"tooltip\"\n        content=\"End simulation\"\n        placement=\"bottom\"\n        effect=\"light\"\n      >\n        <i @click=\"endSimulation()\" class=\"el-icon-circle-close\"></i>\n      </el-tooltip>\n      <!-- <el-tooltip\n          class=\"tooltip\"\n          content=\"Upload existing models\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"uploadGraph()\" class=\"el-icon-upload2\"></i>\n        </el-tooltip>\n        <el-tooltip\n          class=\"tooltip\"\n          content=\"Download model\"\n          placement=\"bottom\"\n          effect=\"light\"\n        >\n          <i @click=\"downloadGraph()\" class=\"el-icon-download\"></i>\n        </el-tooltip> -->\n    </div>\n\n    <el-divider></el-divider>\n\n    <!-- 系统参数栏 -->\n    <div class=\"config-data-box\">\n      <h4>Date Configuration</h4>\n      <!-- <span>Simulation Days</span> -->\n\n      <!--  <el-input\n          size=\"mini\"\n          class=\"config-data-input\"\n          v-model=\"currentSimulationDays\"\n          placeholder=\"\"\n          :disabled=\"modifyDisabled\"\n        ></el-input> -->\n\n      <span class=\"config-data-input\">Simulation Days</span>\n      <!-- <el-slider\n          v-model=\"configData.simulationDays\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"20000\"\n          :step=\"1\"\n          :change=\"modifyConfigData()\"\n        ></el-slider> -->\n\n      <el-slider\n        v-model=\"configData.simulationDays\"\n        class=\"day-slider\"\n        :min=\"1\"\n        :max=\"20000\"\n        :step=\"1\"\n        :show-input=\"true\"\n        input-size=\"mini\"\n        :change=\"modifyConfigData()\"\n      ></el-slider>\n      <span class=\"config-data-input\">Simulation Slot</span>\n      <!-- <el-slider\n\n        <el-slider\n          v-model=\"configData.simulationDays\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"20000\"\n          :step=\"1\"\n          show-input\n          input-size=\"mini\"\n          :change=\"modifyConfigData()\"\n        ></el-slider>\n        <span class=\"config-data-input\">Simulation Slot</span>\n\n        <el-slider\n          v-model=\"configData.simulationSlot\"\n          class=\"day-slider\"\n          :min=\"1\"\n          :max=\"5000\"\n          :step=\"1\"\n          show-input\n          input-size=\"mini\"\n          :change=\"modifyConfigData()\"\n        ></el-slider> -->\n\n      <el-slider\n        v-model=\"configData.simulationSlot\"\n        class=\"day-slider\"\n        :min=\"1\"\n        :max=\"5000\"\n        :step=\"1\"\n        show-input\n        input-size=\"mini\"\n        :change=\"modifyConfigData()\"\n      ></el-slider>\n      <span class=\"config-data-input\">Current Day: </span>\n      <span v-text=\"getModelTime()\"></span>\n\n      <!-- <div class=\"config-data-input\">Current Day\n          <div v-text=\"getModelTime()\"></div>\n        </div> -->\n    </div>\n    <!-- 系统参数修改按钮 -->\n    <!-- <div class=\"config-button\">\n        <div class=\"setting\">\n          <i\n            class=\"el-icon-setting\"\n            @click=\"modifyDisabled = !modifyDisabled\"\n            v-if=\"modifyDisabled\"\n          ></i>\n          <i\n            class=\"el-icon-success\"\n            @click=\"modifyConfigData()\"\n            v-if=\"!modifyDisabled\"\n          ></i>\n        </div>\n      </div> -->\n  </div>\n</template>\n<script>\nimport { mapState, mapMutations } from \"vuex\";\nimport { Model } from \"../../graph/model\";\nimport { DataUri } from \"@antv/x6\";\nimport { setStore } from \"../../utils/storage\";\nimport { PropertyVisitor } from \"../../graph/propertyVisitor\";\n\nconst antlr4 = require(\"antlr4\");\nconst InputStream = antlr4.InputStream;\nconst CommonTokenStream = antlr4.CommonTokenStream;\nconst GrammarParser = require(\"../../parser/PropertyParser\").PropertyParser;\nconst GrammarLexer = require(\"../../parser/PropertyLexer\").PropertyLexer;\n\nexport default {\n  data() {\n    return {\n      currentSimulationDays: null,\n      currentSimulationSlot: null,\n      modifyDisabled: true,\n      dialogLogInVisible: false,\n      nowait: true,\n    };\n  },\n  components: {},\n  methods: {\n    ...mapMutations([\n      \"ZOOM_GRAPH\",\n      \"POSITIONING_GRAPH\",\n      \"UNDO_GRAPH\",\n      \"REDO_GRAPH\",\n      \"MODIFY_CONFIGDATA\",\n      \"LOAD_CONFIGDATA\",\n      \"SHOW_UPLOAD_DIALOG\",\n      \"SET_MODEL\",\n      \"REMOVE_CELLS\",\n      \"APPEND_HISTORY_SIMULATE_DATA\",\n      \"SET_HISTORY_SIMULATE_DATA\",\n      \"SET_NONCE\",\n    ]),\n    formatTooltip(val) {\n      return val / 100;\n    },\n    /**\n    修改全局配置信息\n     */\n    modifyConfigData() {\n      setStore(\"config_data\", this.configData);\n    },\n\n    /**\n    下载当前模型为json文件\n     */\n    downloadGraph() {\n      //获取时间戳\n      var timestamp = new Date().valueOf();\n      //将全局配置信息和画布数据封装成对象\n      let modelData = {\n        model: { configData: this.configData, graph: this.graph },\n      };\n      const filename = \"Model\" + timestamp + \".json\";\n      const data = JSON.stringify(modelData, undefined, 4);\n      let blob = new Blob([data], { type: \"text/json\" }),\n        a = document.createElement(\"a\");\n      a.download = filename;\n      a.href = window.URL.createObjectURL(blob);\n      // 标签 data- 嵌入自定义属性  屏蔽后也可正常下载\n      a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\");\n      // 添加鼠标事件\n      let event = new MouseEvent(\"click\", {});\n      // 向一个指定的事件目标派发一个事件\n      a.dispatchEvent(event);\n    },\n    /**\n    上传已有的模型，json文件\n     */\n    uploadGraph() {\n      this.SHOW_UPLOAD_DIALOG();\n    },\n    /*\n    开始测算\n    */\n    async startSimulation() {\n      // 测算开始，开启 loading 图标\n      this.nowait = false;\n\n      // 模型初次测算时\n      if (this.model == null) {\n        console.log(\n          \"starting simulation...\",\n          this.configData.simulationDays,\n          \"days\",\n          \" with control slot:\",\n          this.configData.simulationSlot,\n          \"days\"\n        );\n        var model = new Model(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n\n        this.SET_MODEL(model);\n\n        this.APPEND_HISTORY_SIMULATE_DATA({\n          type: this.nonce,\n          data: this.model.data,\n        });\n      } else {\n        // TODO [Done] 模型已经存在时，其相关参数需要根据画布上的最新状态来更新\n        this.model.selfUpdate(\n          this.graph,\n          this.configData.simulationDays,\n          this.configData.simulationSlot\n        );\n      }\n      // 设置 model 的状态为 1 - 正在测算中\n      this.model.status = 1;\n      await this.model.start();\n\n      // 测算终止（正常终止 / 暂停终止）时更新测算历史数据\n      this.SET_HISTORY_SIMULATE_DATA(this.nocne, this.model.data);\n\n      if (this.model.status != 2) {\n        // 当模型处于非 Pause 状态时\n        console.log(\"the simulation is ended\");\n      }\n\n      //  测算终止（正常终止 / 暂停终止），关闭 loading 图标\n      this.nowait = true;\n\n      this.checkProperty();\n    },\n    /*\n    暂停测算\n    */\n    pauseSimulation() {\n      // TODO 处于暂停状态中，画布上的某些不可改的参数应该置为灰色或不可选(不可新建、删除节点；不可更改的参数如)\n\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n\n      console.log(\"pausing simulation...\");\n      if (this.model == null) {\n        console.log(\"there's no model running!\");\n      } else {\n        // 修改模型的状态为 2 - 暂停\n        this.model.status = 2;\n        console.log(\n          \"The model is paused. \",\n          \"You can only adjust params on existing model. \",\n          \"If you need to adjust the architecture of model, please END current simulation first\"\n        );\n      }\n    },\n    /*\n    结束当前测算\n    */\n    endSimulation() {\n      // 测算暂停，关闭 loading 图标\n      this.nowait = true;\n      console.log(\"ending simulation...\");\n      // 修改模型的状态为 0 - 停止\n      this.model.status = 0;\n      // 将当前模型置为 null\n      this.SET_MODEL(null);\n      console.log(\"the simulation is ended\");\n      // 当前测算结束后，将记录历史数据次数的 nonce 值增加 1\n      this.SET_NONCE(this.nonce + 1);\n    },\n    /**\n     * 下载模型图片\n     */\n    saveGraphToPNG() {\n      this.graph.toPNG(\n        (dataUri) => {\n          // 下载\n          DataUri.downloadDataUri(dataUri, \"chart.png\");\n        },\n        {\n          padding: {\n            top: 20,\n            right: 20,\n            bottom: 20,\n            left: 20,\n          },\n        }\n      );\n    },\n    /**\n     * 获取模型测算进行中的时间\n     */\n    getModelTime() {\n      if (this.model == null) return 0;\n      return this.model.curDay;\n    },\n    /**\n     * 检查 Property 列表中的所有 Property\n     */\n    checkProperty() {\n      for (let i = 0; i < this.ruleLists.length; i++) {\n        const inputStream = new InputStream(this.ruleLists[i].content);\n        const lexer = new GrammarLexer(inputStream);\n        const tokenStream = new CommonTokenStream(lexer);\n        const parser = new GrammarParser(tokenStream);\n        parser.removeErrorListeners();\n        parser.addErrorListener({\n          syntaxError: (\n            recognizer,\n            offendingSymbol,\n            line,\n            column,\n            msg,\n            err\n          ) => {\n            console.error(\n              `${offendingSymbol} line ${line}, col ${column}: ${msg}`\n            );\n            throw err;\n          },\n        });\n        const tree = parser.check();\n        // parser.getInvokingContext()\n        let visitor = new PropertyVisitor(\n          this.model.curDay,\n          this.historySimulateData[this.historySimulateData.length - 1].data,\n          this.graph.model.getNodes()\n        );\n        tree.accept(visitor);\n        if (visitor.state >= 4) {\n          this.ruleLists[i].status = true;\n        }\n      }\n    },\n  },\n  computed: {\n    ...mapState([\n      \"configData\",\n      \"graph\",\n      \"model\",\n      \"nonce\",\n      \"ruleLists\",\n      \"historySimulateData\",\n    ]),\n  },\n  mounted() {},\n};\n</script>\n<style lang=\"scss\" scoped>\n.top-container {\n  //height: 50px;\n  position: fixed;\n  height: calc(100% - 180px);\n  width: 300px;\n  top: 120px;\n  right: calc(100% - (100% - 250px) - 195px);\n  background-color: #ffffff;\n  overflow: scroll;\n  border-radius: 30px;\n  border: 2.5px solid rgb(232, 231, 231);\n  box-shadow: 0 0 2px rgba(226, 226, 226, 0.8);\n\n  .tool-bar {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    h4 {\n      margin-left: 10px;\n      margin-top: 30px;\n    }\n    i {\n      margin: 10px;\n      font-size: 18px;\n      color: #555555;\n      font-weight: bold;\n      cursor: pointer;\n      &:hover {\n        // color: #9a9a9c;\n        color: #409eff;\n      }\n    }\n  }\n  .config-data-box {\n    margin-top: 40px;\n    h4 {\n      margin-left: 10px;\n    }\n    .config-data-input {\n      width: 200px;\n      margin-left: 10px;\n      margin-top: 20px;\n    }\n    .day-slider {\n      margin-left: 15px;\n      margin-bottom: 20px;\n      width: 250px;\n      /deep/ .el-slider__bar {\n        background-color: rgb(94, 91, 91);\n      }\n      /deep/ .el-slider__button {\n        border: 2px solid rgb(94, 91, 91);\n        transition: 0s;\n      }\n    }\n  }\n}\n</style>"],"sourceRoot":"src/components/create"}]}